(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function d0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hm={exports:{}},ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function Mw(){if(yE)return ru;yE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return ru.Fragment=e,ru.jsx=n,ru.jsxs=n,ru}var _E;function kw(){return _E||(_E=1,Hm.exports=Mw()),Hm.exports}var v=kw(),Fm={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function Pw(){if(vE)return we;vE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function R(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,V={};function Y(j,te,oe){this.props=j,this.context=te,this.refs=V,this.updater=oe||D}Y.prototype.isReactComponent={},Y.prototype.setState=function(j,te){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,te,"setState")},Y.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function W(){}W.prototype=Y.prototype;function ie(j,te,oe){this.props=j,this.context=te,this.refs=V,this.updater=oe||D}var he=ie.prototype=new W;he.constructor=ie,B(he,Y.prototype),he.isPureReactComponent=!0;var ye=Array.isArray;function be(){}var C={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function x(j,te,oe){var ue=oe.ref;return{$$typeof:r,type:j,key:te,ref:ue!==void 0?ue:null,props:oe}}function k(j,te){return x(j.type,te,j.props)}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function z(j){var te={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(oe){return te[oe]})}var N=/\/+/g;function Qe(j,te){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):te.toString(36)}function ut(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(be,be):(j.status="pending",j.then(function(te){j.status==="pending"&&(j.status="fulfilled",j.value=te)},function(te){j.status==="pending"&&(j.status="rejected",j.reason=te)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function $(j,te,oe,ue,Se){var Ce=typeof j;(Ce==="undefined"||Ce==="boolean")&&(j=null);var ze=!1;if(j===null)ze=!0;else switch(Ce){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(j.$$typeof){case r:case e:ze=!0;break;case E:return ze=j._init,$(ze(j._payload),te,oe,ue,Se)}}if(ze)return Se=Se(j),ze=ue===""?"."+Qe(j,0):ue,ye(Se)?(oe="",ze!=null&&(oe=ze.replace(N,"$&/")+"/"),$(Se,te,oe,"",function(Ls){return Ls})):Se!=null&&(M(Se)&&(Se=k(Se,oe+(Se.key==null||j&&j.key===Se.key?"":(""+Se.key).replace(N,"$&/")+"/")+ze)),te.push(Se)),1;ze=0;var Lt=ue===""?".":ue+":";if(ye(j))for(var ct=0;ct<j.length;ct++)ue=j[ct],Ce=Lt+Qe(ue,ct),ze+=$(ue,te,oe,Ce,Se);else if(ct=R(j),typeof ct=="function")for(j=ct.call(j),ct=0;!(ue=j.next()).done;)ue=ue.value,Ce=Lt+Qe(ue,ct++),ze+=$(ue,te,oe,Ce,Se);else if(Ce==="object"){if(typeof j.then=="function")return $(ut(j),te,oe,ue,Se);throw te=String(j),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ae(j,te,oe){if(j==null)return j;var ue=[],Se=0;return $(j,ue,"","",function(Ce){return te.call(oe,Ce,Se++)}),ue}function pe(j){if(j._status===-1){var te=j._result;te=te(),te.then(function(oe){(j._status===0||j._status===-1)&&(j._status=1,j._result=oe)},function(oe){(j._status===0||j._status===-1)&&(j._status=2,j._result=oe)}),j._status===-1&&(j._status=0,j._result=te)}if(j._status===1)return j._result.default;throw j._result}var qe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ye={map:ae,forEach:function(j,te,oe){ae(j,function(){te.apply(this,arguments)},oe)},count:function(j){var te=0;return ae(j,function(){te++}),te},toArray:function(j){return ae(j,function(te){return te})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return we.Activity=b,we.Children=Ye,we.Component=Y,we.Fragment=n,we.Profiler=o,we.PureComponent=ie,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,we.__COMPILER_RUNTIME={__proto__:null,c:function(j){return C.H.useMemoCache(j)}},we.cache=function(j){return function(){return j.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(j,te,oe){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ue=B({},j.props),Se=j.key;if(te!=null)for(Ce in te.key!==void 0&&(Se=""+te.key),te)!I.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(ue[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=oe;else if(1<Ce){for(var ze=Array(Ce),Lt=0;Lt<Ce;Lt++)ze[Lt]=arguments[Lt+2];ue.children=ze}return x(j.type,Se,ue)},we.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},we.createElement=function(j,te,oe){var ue,Se={},Ce=null;if(te!=null)for(ue in te.key!==void 0&&(Ce=""+te.key),te)I.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Se[ue]=te[ue]);var ze=arguments.length-2;if(ze===1)Se.children=oe;else if(1<ze){for(var Lt=Array(ze),ct=0;ct<ze;ct++)Lt[ct]=arguments[ct+2];Se.children=Lt}if(j&&j.defaultProps)for(ue in ze=j.defaultProps,ze)Se[ue]===void 0&&(Se[ue]=ze[ue]);return x(j,Ce,Se)},we.createRef=function(){return{current:null}},we.forwardRef=function(j){return{$$typeof:m,render:j}},we.isValidElement=M,we.lazy=function(j){return{$$typeof:E,_payload:{_status:-1,_result:j},_init:pe}},we.memo=function(j,te){return{$$typeof:g,type:j,compare:te===void 0?null:te}},we.startTransition=function(j){var te=C.T,oe={};C.T=oe;try{var ue=j(),Se=C.S;Se!==null&&Se(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(be,qe)}catch(Ce){qe(Ce)}finally{te!==null&&oe.types!==null&&(te.types=oe.types),C.T=te}},we.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},we.use=function(j){return C.H.use(j)},we.useActionState=function(j,te,oe){return C.H.useActionState(j,te,oe)},we.useCallback=function(j,te){return C.H.useCallback(j,te)},we.useContext=function(j){return C.H.useContext(j)},we.useDebugValue=function(){},we.useDeferredValue=function(j,te){return C.H.useDeferredValue(j,te)},we.useEffect=function(j,te){return C.H.useEffect(j,te)},we.useEffectEvent=function(j){return C.H.useEffectEvent(j)},we.useId=function(){return C.H.useId()},we.useImperativeHandle=function(j,te,oe){return C.H.useImperativeHandle(j,te,oe)},we.useInsertionEffect=function(j,te){return C.H.useInsertionEffect(j,te)},we.useLayoutEffect=function(j,te){return C.H.useLayoutEffect(j,te)},we.useMemo=function(j,te){return C.H.useMemo(j,te)},we.useOptimistic=function(j,te){return C.H.useOptimistic(j,te)},we.useReducer=function(j,te,oe){return C.H.useReducer(j,te,oe)},we.useRef=function(j){return C.H.useRef(j)},we.useState=function(j){return C.H.useState(j)},we.useSyncExternalStore=function(j,te,oe){return C.H.useSyncExternalStore(j,te,oe)},we.useTransition=function(){return C.H.useTransition()},we.version="19.2.0",we}var EE;function Lp(){return EE||(EE=1,Fm.exports=Pw()),Fm.exports}var L=Lp();const jw=d0(L);var Gm={exports:{}},su={},Km={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function Lw(){return TE||(TE=1,(function(r){function e($,ae){var pe=$.length;$.push(ae);e:for(;0<pe;){var qe=pe-1>>>1,Ye=$[qe];if(0<o(Ye,ae))$[qe]=ae,$[pe]=Ye,pe=qe;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],pe=$.pop();if(pe!==ae){$[0]=pe;e:for(var qe=0,Ye=$.length,j=Ye>>>1;qe<j;){var te=2*(qe+1)-1,oe=$[te],ue=te+1,Se=$[ue];if(0>o(oe,pe))ue<Ye&&0>o(Se,oe)?($[qe]=Se,$[ue]=pe,qe=ue):($[qe]=oe,$[te]=pe,qe=te);else if(ue<Ye&&0>o(Se,pe))$[qe]=Se,$[ue]=pe,qe=ue;else break e}}return ae}function o($,ae){var pe=$.sortIndex-ae.sortIndex;return pe!==0?pe:$.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,b=null,S=3,R=!1,D=!1,B=!1,V=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function he($){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=$)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function ye($){if(B=!1,he($),!D)if(n(p)!==null)D=!0,be||(be=!0,z());else{var ae=n(g);ae!==null&&ut(ye,ae.startTime-$)}}var be=!1,C=-1,I=5,x=-1;function k(){return V?!0:!(r.unstable_now()-x<I)}function M(){if(V=!1,be){var $=r.unstable_now();x=$;var ae=!0;try{e:{D=!1,B&&(B=!1,W(C),C=-1),R=!0;var pe=S;try{t:{for(he($),b=n(p);b!==null&&!(b.expirationTime>$&&k());){var qe=b.callback;if(typeof qe=="function"){b.callback=null,S=b.priorityLevel;var Ye=qe(b.expirationTime<=$);if($=r.unstable_now(),typeof Ye=="function"){b.callback=Ye,he($),ae=!0;break t}b===n(p)&&s(p),he($)}else s(p);b=n(p)}if(b!==null)ae=!0;else{var j=n(g);j!==null&&ut(ye,j.startTime-$),ae=!1}}break e}finally{b=null,S=pe,R=!1}ae=void 0}}finally{ae?z():be=!1}}}var z;if(typeof ie=="function")z=function(){ie(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Qe=N.port2;N.port1.onmessage=M,z=function(){Qe.postMessage(null)}}else z=function(){Y(M,0)};function ut($,ae){C=Y(function(){$(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function($){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var pe=S;S=ae;try{return $()}finally{S=pe}},r.unstable_requestPaint=function(){V=!0},r.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=S;S=$;try{return ae()}finally{S=pe}},r.unstable_scheduleCallback=function($,ae,pe){var qe=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?qe+pe:qe):pe=qe,$){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=pe+Ye,$={id:E++,callback:ae,priorityLevel:$,startTime:pe,expirationTime:Ye,sortIndex:-1},pe>qe?($.sortIndex=pe,e(g,$),n(p)===null&&$===n(g)&&(B?(W(C),C=-1):B=!0,ut(ye,pe-qe))):($.sortIndex=Ye,e(p,$),D||R||(D=!0,be||(be=!0,z()))),$},r.unstable_shouldYield=k,r.unstable_wrapCallback=function($){var ae=S;return function(){var pe=S;S=ae;try{return $.apply(this,arguments)}finally{S=pe}}}})(Qm)),Qm}var bE;function Uw(){return bE||(bE=1,Km.exports=Lw()),Km.exports}var Ym={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function zw(){if(AE)return on;AE=1;var r=Lp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},on.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},on.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},on.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},on.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:R}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},on.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},on.requestFormReset=function(p){s.d.r(p)},on.unstable_batchedUpdates=function(p,g){return p(g)},on.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.2.0",on}var SE;function Bw(){if(SE)return Ym.exports;SE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ym.exports=zw(),Ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function qw(){if(wE)return su;wE=1;var r=Uw(),e=Lp(),n=Bw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case Y:return"Profiler";case V:return"StrictMode";case ye:return"Suspense";case be:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case ie:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case he:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:Qe(t.type)||"Memo";case I:i=t._payload,t=t._init;try{return Qe(t(i))}catch{}}return null}var ut=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},qe=[],Ye=-1;function j(t){return{current:t}}function te(t){0>Ye||(t.current=qe[Ye],qe[Ye]=null,Ye--)}function oe(t,i){Ye++,qe[Ye]=t.current,t.current=i}var ue=j(null),Se=j(null),Ce=j(null),ze=j(null);function Lt(t,i){switch(oe(Ce,i),oe(Se,t),oe(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?zv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=zv(i),t=Bv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ue),oe(ue,t)}function ct(){te(ue),te(Se),te(Ce)}function Ls(t){t.memoizedState!==null&&oe(ze,t);var i=ue.current,a=Bv(i,t.type);i!==a&&(oe(Se,t),oe(ue,a))}function Ma(t){Se.current===t&&(te(ue),te(Se)),ze.current===t&&(te(ze),eu._currentValue=pe)}var ka,Pa;function bi(t){if(ka===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ka=i&&i[1]||"",Pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+t+Pa}var el=!1;function Us(t,i){if(!t||el)return"";el=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var G=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){G=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var O=_.split(`
`),F=A.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===F.length)for(l=O.length-1,f=F.length-1;1<=l&&0<=f&&O[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==F[f]){var J=`
`+O[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=f);break}}}finally{el=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bi(a):""}function tl(t,i){switch(t.tag){case 26:case 27:case 5:return bi(t.type);case 16:return bi("Lazy");case 13:return t.child!==i&&i!==null?bi("Suspense Fallback"):bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Us(t.type,!1);case 11:return Us(t.type.render,!1);case 1:return Us(t.type,!0);case 31:return bi("Activity");default:return""}}function nl(t){try{var i="",a=null;do i+=tl(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Ut=r.unstable_scheduleCallback,Lr=r.unstable_cancelCallback,Gf=r.unstable_shouldYield,$u=r.unstable_requestPaint,fn=r.unstable_now,zs=r.unstable_getCurrentPriorityLevel,il=r.unstable_ImmediatePriority,rl=r.unstable_UserBlockingPriority,Ur=r.unstable_NormalPriority,Kf=r.unstable_LowPriority,Xu=r.unstable_IdlePriority,Wu=r.log,Ju=r.unstable_setDisableYieldValue,ei=null,Yt=null;function Un(t){if(typeof Wu=="function"&&Ju(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ei,t)}catch{}}var vt=Math.clz32?Math.clz32:ec,Zu=Math.log,ja=Math.LN2;function ec(t){return t>>>=0,t===0?32:31-(Zu(t)/ja|0)|0}var Ai=256,Bs=262144,Rt=4194304;function Si(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=Si(l):(_&=A,_!==0?f=Si(_):a||(a=A&~t,a!==0&&(f=Si(a))))):(A=l&~d,A!==0?f=Si(A):_!==0?f=Si(_):a||(a=l&~t,a!==0&&(f=Si(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function ti(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Qf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function Ri(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function qs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-vt(a),ee=1<<J;A[J]=0,O[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var Q=G[J];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&Hs(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Hs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-vt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function sl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-vt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function al(t,i){var a=i&-i;return a=(a&42)!==0?1:Fs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Fs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nc(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:cE(t.type))}function ni(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var ii=Math.random().toString(36).slice(2),It="__reactFiber$"+ii,qt="__reactProps$"+ii,Ii="__reactContainer$"+ii,La="__reactEvents$"+ii,$f="__reactListeners$"+ii,ic="__reactHandles$"+ii,rc="__reactResources$"+ii,Ci="__reactMarker$"+ii;function Ua(t){delete t[It],delete t[qt],delete t[La],delete t[$f],delete t[ic]}function xi(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ii]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Yv(t);t!==null;){if(a=t[It])return a;t=Yv(t)}return i}t=a,a=t.parentNode}return null}function zn(t){if(t=t[It]||t[Ii]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function In(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Di(t){var i=t[rc];return i||(i=t[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ct(t){t[Ci]=!0}var ol=new Set,ll={};function Ni(t,i){Oi(t,i),Oi(t+"Capture",i)}function Oi(t,i){for(ll[t]=i,t=0;t<i.length;t++)ol.add(i[t])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cl={},hl={};function sc(t){return wt.call(hl,t)?!0:wt.call(cl,t)?!1:ul.test(t)?hl[t]=!0:(cl[t]=!0,!1)}function za(t,i,a){if(sc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Cn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function fl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=zr(t)?"checked":"value";t._valueTracker=fl(t,i,""+t[i])}}function Gs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=zr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ks=/[\n"\\]/g;function yn(t){return t.replace(Ks,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ba(t,i,a,l,f,d,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?dl(t,_,Ht(i)):a!=null?dl(t,_,Ht(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Ht(A):t.removeAttribute("name")}function ac(t,i,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$e(t);return}a=a!=null?""+Ht(a):"",i=i!=null?""+Ht(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function dl(t,i,a){i==="number"&&Vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Br(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function oc(t,i,a){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ht(a):""}function qr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ut(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ht(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function _n(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||lc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function pl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&ml(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&ml(t,d,i[d])}function qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(t){return Hr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ri(){}var gl=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fr=null,Mi=null;function Qs(t){var i=zn(t);if(i&&(t=i.stateNode)){var a=t[qt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[qt]||null;if(!f)throw Error(s(90));Ba(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Gs(l)}break e;case"textarea":oc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Br(t,!!a.multiple,i,!1)}}}var Fa=!1;function Gr(t,i,a){if(Fa)return t(i,a);Fa=!0;try{var l=t(i);return l}finally{if(Fa=!1,(Fr!==null||Mi!==null)&&(nh(),Fr&&(i=Fr,t=Mi,Mi=Fr=null,Qs(i),t)))for(i=0;i<t.length;i++)Qs(t[i])}}function si(t,i){var a=t.stateNode;if(a===null)return null;var l=a[qt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=!1;if(qn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Ys=!1}var ki=null,yl=null,$s=null;function _l(){if($s)return $s;var t,i=yl,a=i.length,l,f="value"in ki?ki.value:ki.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return $s=f.slice(t,1<l?1-l:void 0)}function Xs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function sr(){return!0}function ai(){return!1}function $t(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?sr:ai,this.isPropagationStopped=ai,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),i}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=$t(ar),Kr=b({},ar,{view:0,detail:0}),vl=$t(Kr),Qr,Ga,ji,Ka=b({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ji&&(ji&&t.type==="mousemove"?(Qr=t.screenX-ji.screenX,Ga=t.screenY-ji.screenY):Ga=Qr=0,ji=t),Qr)},movementY:function(t){return"movementY"in t?t.movementY:Ga}}),El=$t(Ka),Ws=b({},Ka,{dataTransfer:0}),cc=$t(Ws),hc=b({},Kr,{relatedTarget:0}),Js=$t(hc),Tl=b({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=$t(Tl),Qa=b({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dc=$t(Qa),mc=b({},ar,{data:0}),Li=$t(mc),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _c(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=yc[t])?!!i[t]:!1}function Yr(){return _c}var dn=b({},Kr,{key:function(t){if(t.key){var i=pc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?Xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vc=$t(dn),Ec=b({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),or=$t(Ec),c=b({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),y=$t(c),T=b({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=$t(T),q=b({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=$t(q),se=b({},ar,{newState:0,oldState:0}),Re=$t(se),Et=[9,13,27,32],Ge=qn&&"CompositionEvent"in window,ht=null;qn&&"documentMode"in document&&(ht=document.documentMode);var Hn=qn&&"TextEvent"in window&&!ht,Ui=qn&&(!Ge||ht&&8<ht&&11>=ht),oi=" ",li=!1;function Zs(t,i){switch(t){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function rS(t,i){switch(t){case"compositionend":return Ya(i);case"keypress":return i.which!==32?null:(li=!0,oi);case"textInput":return t=i.data,t===oi&&li?null:t;default:return null}}function sS(t,i){if($a)return t==="compositionend"||!Ge&&Zs(t,i)?(t=_l(),$s=yl=ki=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ui&&i.locale!=="ko"?null:i.data;default:return null}}var aS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!aS[t.type]:i==="textarea"}function Jg(t,i,a,l){Fr?Mi?Mi.push(l):Mi=[l]:Fr=l,i=uh(i,"onChange"),0<i.length&&(a=new Pi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var bl=null,Al=null;function oS(t){Mv(t,0)}function Tc(t){var i=In(t);if(Gs(i))return t}function Zg(t,i){if(t==="change")return i}var ey=!1;if(qn){var Xf;if(qn){var Wf="oninput"in document;if(!Wf){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),Wf=typeof ty.oninput=="function"}Xf=Wf}else Xf=!1;ey=Xf&&(!document.documentMode||9<document.documentMode)}function ny(){bl&&(bl.detachEvent("onpropertychange",iy),Al=bl=null)}function iy(t){if(t.propertyName==="value"&&Tc(Al)){var i=[];Jg(i,Al,t,Bn(t)),Gr(oS,i)}}function lS(t,i,a){t==="focusin"?(ny(),bl=i,Al=a,bl.attachEvent("onpropertychange",iy)):t==="focusout"&&ny()}function uS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tc(Al)}function cS(t,i){if(t==="click")return Tc(i)}function hS(t,i){if(t==="input"||t==="change")return Tc(i)}function fS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var xn=typeof Object.is=="function"?Object.is:fS;function Sl(t,i){if(xn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!wt.call(i,f)||!xn(t[f],i[f]))return!1}return!0}function ry(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sy(t,i){var a=ry(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ry(a)}}function ay(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ay(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function oy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Vi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Vi(t.document)}return i}function Jf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var dS=qn&&"documentMode"in document&&11>=document.documentMode,Xa=null,Zf=null,wl=null,ed=!1;function ly(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ed||Xa==null||Xa!==Vi(l)||(l=Xa,"selectionStart"in l&&Jf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wl&&Sl(wl,l)||(wl=l,l=uh(Zf,"onSelect"),0<l.length&&(i=new Pi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Xa)))}function ea(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Wa={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},td={},uy={};qn&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function ta(t){if(td[t])return td[t];if(!Wa[t])return t;var i=Wa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in uy)return td[t]=i[a];return t}var cy=ta("animationend"),hy=ta("animationiteration"),fy=ta("animationstart"),mS=ta("transitionrun"),pS=ta("transitionstart"),gS=ta("transitioncancel"),dy=ta("transitionend"),my=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function ui(t,i){my.set(t,i),Ni(i,[t])}var bc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],Ja=0,id=0;function Ac(){for(var t=Ja,i=id=Ja=0;i<t;){var a=Fn[i];Fn[i++]=null;var l=Fn[i];Fn[i++]=null;var f=Fn[i];Fn[i++]=null;var d=Fn[i];if(Fn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&py(a,f,d)}}function Sc(t,i,a,l){Fn[Ja++]=t,Fn[Ja++]=i,Fn[Ja++]=a,Fn[Ja++]=l,id|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rd(t,i,a,l){return Sc(t,i,a,l),wc(t)}function na(t,i){return Sc(t,null,null,i),wc(t)}function py(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-vt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function wc(t){if(50<Ql)throw Ql=0,dm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Za={};function yS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,i,a,l){return new yS(t,i,a,l)}function sd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lr(t,i){var a=t.alternate;return a===null?(a=Dn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gy(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Rc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")sd(t)&&(_=1);else if(typeof t=="string")_=bw(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Dn(31,a,i,f),t.elementType=x,t.lanes=d,t;case B:return ia(a.children,f,d,i);case V:_=8,f|=24;break;case Y:return t=Dn(12,a,i,f|2),t.elementType=Y,t.lanes=d,t;case ye:return t=Dn(13,a,i,f),t.elementType=ye,t.lanes=d,t;case be:return t=Dn(19,a,i,f),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case W:_=9;break e;case he:_=11;break e;case C:_=14;break e;case I:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Dn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function ia(t,i,a,l){return t=Dn(7,t,l,i),t.lanes=a,t}function ad(t,i,a){return t=Dn(6,t,null,i),t.lanes=a,t}function yy(t){var i=Dn(18,null,null,0);return i.stateNode=t,i}function od(t,i,a){return i=Dn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var _y=new WeakMap;function Gn(t,i){if(typeof t=="object"&&t!==null){var a=_y.get(t);return a!==void 0?a:(i={value:t,source:i,stack:nl(i)},_y.set(t,i),i)}return{value:t,source:i,stack:nl(i)}}var eo=[],to=0,Ic=null,Rl=0,Kn=[],Qn=0,$r=null,zi=1,Bi="";function ur(t,i){eo[to++]=Rl,eo[to++]=Ic,Ic=t,Rl=i}function vy(t,i,a){Kn[Qn++]=zi,Kn[Qn++]=Bi,Kn[Qn++]=$r,$r=t;var l=zi;t=Bi;var f=32-vt(l)-1;l&=~(1<<f),a+=1;var d=32-vt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,zi=1<<32-vt(i)+f|a<<f|l,Bi=d+t}else zi=1<<d|a<<f|l,Bi=t}function ld(t){t.return!==null&&(ur(t,1),vy(t,1,0))}function ud(t){for(;t===Ic;)Ic=eo[--to],eo[to]=null,Rl=eo[--to],eo[to]=null;for(;t===$r;)$r=Kn[--Qn],Kn[Qn]=null,Bi=Kn[--Qn],Kn[Qn]=null,zi=Kn[--Qn],Kn[Qn]=null}function Ey(t,i){Kn[Qn++]=zi,Kn[Qn++]=Bi,Kn[Qn++]=$r,zi=i.id,Bi=i.overflow,$r=t}var Xt=null,st=null,Le=!1,Xr=null,Yn=!1,cd=Error(s(519));function Wr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(Gn(i,t)),cd}function Ty(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[qt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<$l.length;a++)Oe($l[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),ac(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),qr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Lv(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=ri),i=!0):i=!1,i||Wr(t,!0)}function by(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Xt=Xt.return}}function no(t){if(t!==Xt)return!1;if(!Le)return by(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cm(t.type,t.memoizedProps)),a=!a),a&&st&&Wr(t),by(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=Qv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=Qv(t)}else i===27?(i=st,hs(t.type)?(t=Vm,Vm=null,st=t):st=i):st=Xt?Xn(t.stateNode.nextSibling):null;return!0}function ra(){st=Xt=null,Le=!1}function hd(){var t=Xr;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Xr=null),t}function Il(t){Xr===null?Xr=[t]:Xr.push(t)}var fd=j(null),sa=null,cr=null;function Jr(t,i,a){oe(fd,i._currentValue),i._currentValue=a}function hr(t){t._currentValue=fd.current,te(fd)}function dd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function md(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var O=0;O<i.length;O++)if(A.context===i[O]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),dd(d.return,a,t),l||(_=null);break e}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),dd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function io(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=f.type;xn(f.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(f===ze.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(eu):t=[eu])}f=f.return}t!==null&&md(i,t,a,l),i.flags|=262144}function Cc(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){sa=t,cr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Ay(sa,t)}function xc(t,i){return sa===null&&aa(t),Ay(t,i)}function Ay(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},cr===null){if(t===null)throw Error(s(308));cr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else cr=cr.next=i;return a}var _S=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},vS=r.unstable_scheduleCallback,ES=r.unstable_NormalPriority,Dt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new _S,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&vS(ES,function(){t.controller.abort()})}var xl=null,gd=0,ro=0,so=null;function TS(t,i){if(xl===null){var a=xl=[];gd=0,ro=vm(),so={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gd++,i.then(Sy,Sy),i}function Sy(){if(--gd===0&&xl!==null){so!==null&&(so.status="fulfilled");var t=xl;xl=null,ro=0,so=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function bS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var wy=$.S;$.S=function(t,i){lv=fn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&TS(t,i),wy!==null&&wy(t,i)};var oa=j(null);function yd(){var t=oa.current;return t!==null?t:it.pooledCache}function Dc(t,i){i===null?oe(oa,oa.current):oe(oa,i.pool)}function Ry(){var t=yd();return t===null?null:{parent:Dt._currentValue,pool:t}}var ao=Error(s(460)),_d=Error(s(474)),Nc=Error(s(542)),Oc={then:function(){}};function Iy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ri,ri),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Dy(t),t;default:if(typeof i.status=="string")i.then(ri,ri);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Dy(t),t}throw ua=i,ao}}function la(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ua=a,ao):a}}var ua=null;function xy(){if(ua===null)throw Error(s(459));var t=ua;return ua=null,t}function Dy(t){if(t===ao||t===Nc)throw Error(s(483))}var oo=null,Dl=0;function Vc(t){var i=Dl;return Dl+=1,oo===null&&(oo=[]),Cy(oo,t,i)}function Nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Mc(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ny(t){function i(U,P){if(t){var H=U.deletions;H===null?(U.deletions=[P],U.flags|=16):H.push(P)}}function a(U,P){if(!t)return null;for(;P!==null;)i(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function f(U,P){return U=lr(U,P),U.index=0,U.sibling=null,U}function d(U,P,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<P?(U.flags|=67108866,P):H):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function A(U,P,H,Z){return P===null||P.tag!==6?(P=ad(H,U.mode,Z),P.return=U,P):(P=f(P,H),P.return=U,P)}function O(U,P,H,Z){var me=H.type;return me===B?J(U,P,H.props.children,Z,H.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===I&&la(me)===P.type)?(P=f(P,H.props),Nl(P,H),P.return=U,P):(P=Rc(H.type,H.key,H.props,null,U.mode,Z),Nl(P,H),P.return=U,P)}function F(U,P,H,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=od(H,U.mode,Z),P.return=U,P):(P=f(P,H.children||[]),P.return=U,P)}function J(U,P,H,Z,me){return P===null||P.tag!==7?(P=ia(H,U.mode,Z,me),P.return=U,P):(P=f(P,H),P.return=U,P)}function ee(U,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=ad(""+P,U.mode,H),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return H=Rc(P.type,P.key,P.props,null,U.mode,H),Nl(H,P),H.return=U,H;case D:return P=od(P,U.mode,H),P.return=U,P;case I:return P=la(P),ee(U,P,H)}if(ut(P)||z(P))return P=ia(P,U.mode,H,null),P.return=U,P;if(typeof P.then=="function")return ee(U,Vc(P),H);if(P.$$typeof===ie)return ee(U,xc(U,P),H);Mc(U,P)}return null}function G(U,P,H,Z){var me=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return me!==null?null:A(U,P,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return H.key===me?O(U,P,H,Z):null;case D:return H.key===me?F(U,P,H,Z):null;case I:return H=la(H),G(U,P,H,Z)}if(ut(H)||z(H))return me!==null?null:J(U,P,H,Z,null);if(typeof H.then=="function")return G(U,P,Vc(H),Z);if(H.$$typeof===ie)return G(U,P,xc(U,H),Z);Mc(U,H)}return null}function Q(U,P,H,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(H)||null,A(P,U,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return U=U.get(Z.key===null?H:Z.key)||null,O(P,U,Z,me);case D:return U=U.get(Z.key===null?H:Z.key)||null,F(P,U,Z,me);case I:return Z=la(Z),Q(U,P,H,Z,me)}if(ut(Z)||z(Z))return U=U.get(H)||null,J(P,U,Z,me,null);if(typeof Z.then=="function")return Q(U,P,H,Vc(Z),me);if(Z.$$typeof===ie)return Q(U,P,H,xc(P,Z),me);Mc(P,Z)}return null}function ce(U,P,H,Z){for(var me=null,He=null,fe=P,xe=P=0,Me=null;fe!==null&&xe<H.length;xe++){fe.index>xe?(Me=fe,fe=null):Me=fe.sibling;var Fe=G(U,fe,H[xe],Z);if(Fe===null){fe===null&&(fe=Me);break}t&&fe&&Fe.alternate===null&&i(U,fe),P=d(Fe,P,xe),He===null?me=Fe:He.sibling=Fe,He=Fe,fe=Me}if(xe===H.length)return a(U,fe),Le&&ur(U,xe),me;if(fe===null){for(;xe<H.length;xe++)fe=ee(U,H[xe],Z),fe!==null&&(P=d(fe,P,xe),He===null?me=fe:He.sibling=fe,He=fe);return Le&&ur(U,xe),me}for(fe=l(fe);xe<H.length;xe++)Me=Q(fe,U,xe,H[xe],Z),Me!==null&&(t&&Me.alternate!==null&&fe.delete(Me.key===null?xe:Me.key),P=d(Me,P,xe),He===null?me=Me:He.sibling=Me,He=Me);return t&&fe.forEach(function(gs){return i(U,gs)}),Le&&ur(U,xe),me}function _e(U,P,H,Z){if(H==null)throw Error(s(151));for(var me=null,He=null,fe=P,xe=P=0,Me=null,Fe=H.next();fe!==null&&!Fe.done;xe++,Fe=H.next()){fe.index>xe?(Me=fe,fe=null):Me=fe.sibling;var gs=G(U,fe,Fe.value,Z);if(gs===null){fe===null&&(fe=Me);break}t&&fe&&gs.alternate===null&&i(U,fe),P=d(gs,P,xe),He===null?me=gs:He.sibling=gs,He=gs,fe=Me}if(Fe.done)return a(U,fe),Le&&ur(U,xe),me;if(fe===null){for(;!Fe.done;xe++,Fe=H.next())Fe=ee(U,Fe.value,Z),Fe!==null&&(P=d(Fe,P,xe),He===null?me=Fe:He.sibling=Fe,He=Fe);return Le&&ur(U,xe),me}for(fe=l(fe);!Fe.done;xe++,Fe=H.next())Fe=Q(fe,U,xe,Fe.value,Z),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?xe:Fe.key),P=d(Fe,P,xe),He===null?me=Fe:He.sibling=Fe,He=Fe);return t&&fe.forEach(function(Vw){return i(U,Vw)}),Le&&ur(U,xe),me}function nt(U,P,H,Z){if(typeof H=="object"&&H!==null&&H.type===B&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case R:e:{for(var me=H.key;P!==null;){if(P.key===me){if(me=H.type,me===B){if(P.tag===7){a(U,P.sibling),Z=f(P,H.props.children),Z.return=U,U=Z;break e}}else if(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===I&&la(me)===P.type){a(U,P.sibling),Z=f(P,H.props),Nl(Z,H),Z.return=U,U=Z;break e}a(U,P);break}else i(U,P);P=P.sibling}H.type===B?(Z=ia(H.props.children,U.mode,Z,H.key),Z.return=U,U=Z):(Z=Rc(H.type,H.key,H.props,null,U.mode,Z),Nl(Z,H),Z.return=U,U=Z)}return _(U);case D:e:{for(me=H.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(U,P.sibling),Z=f(P,H.children||[]),Z.return=U,U=Z;break e}else{a(U,P);break}else i(U,P);P=P.sibling}Z=od(H,U.mode,Z),Z.return=U,U=Z}return _(U);case I:return H=la(H),nt(U,P,H,Z)}if(ut(H))return ce(U,P,H,Z);if(z(H)){if(me=z(H),typeof me!="function")throw Error(s(150));return H=me.call(H),_e(U,P,H,Z)}if(typeof H.then=="function")return nt(U,P,Vc(H),Z);if(H.$$typeof===ie)return nt(U,P,xc(U,H),Z);Mc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(U,P.sibling),Z=f(P,H),Z.return=U,U=Z):(a(U,P),Z=ad(H,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,P)}return function(U,P,H,Z){try{Dl=0;var me=nt(U,P,H,Z);return oo=null,me}catch(fe){if(fe===ao||fe===Nc)throw fe;var He=Dn(29,fe,null,U.mode);return He.lanes=Z,He.return=U,He}finally{}}}var ca=Ny(!0),Oy=Ny(!1),Zr=!1;function vd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ts(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=wc(t),py(t,null,a),i}return Sc(t,l,i,a),wc(t)}function Ol(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,sl(t,a)}}function Td(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var bd=!1;function Vl(){if(bd){var t=so;if(t!==null)throw t}}function Ml(t,i,a,l){bd=!1;var f=t.updateQueue;Zr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var O=A,F=O.next;O.next=null,_===null?d=F:_.next=F,_=O;var J=t.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==_&&(A===null?J.firstBaseUpdate=F:A.next=F,J.lastBaseUpdate=O))}if(d!==null){var ee=f.baseState;_=0,J=F=O=null,A=d;do{var G=A.lane&-536870913,Q=G!==A.lane;if(Q?(Ve&G)===G:(l&G)===G){G!==0&&G===ro&&(bd=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ce=t,_e=A;G=i;var nt=a;switch(_e.tag){case 1:if(ce=_e.payload,typeof ce=="function"){ee=ce.call(nt,ee,G);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=_e.payload,G=typeof ce=="function"?ce.call(nt,ee,G):ce,G==null)break e;ee=b({},ee,G);break e;case 2:Zr=!0}}G=A.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(F=J=Q,O=ee):J=J.next=Q,_|=G;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);J===null&&(O=ee),f.baseState=O,f.firstBaseUpdate=F,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),as|=_,t.lanes=_,t.memoizedState=ee}}function Vy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function My(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Vy(a[t],i)}var lo=j(null),kc=j(0);function ky(t,i){t=Er,oe(kc,t),oe(lo,i),Er=t|i.baseLanes}function Ad(){oe(kc,Er),oe(lo,lo.current)}function Sd(){Er=kc.current,te(lo),te(kc)}var Nn=j(null),$n=null;function ns(t){var i=t.alternate;oe(Tt,Tt.current&1),oe(Nn,t),$n===null&&(i===null||lo.current!==null||i.memoizedState!==null)&&($n=t)}function wd(t){oe(Tt,Tt.current),oe(Nn,t),$n===null&&($n=t)}function Py(t){t.tag===22?(oe(Tt,Tt.current),oe(Nn,t),$n===null&&($n=t)):is()}function is(){oe(Tt,Tt.current),oe(Nn,Nn.current)}function On(t){te(Nn),$n===t&&($n=null),te(Tt)}var Tt=j(0);function Pc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nm(a)||Om(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fr=0,Ie=null,et=null,Nt=null,jc=!1,uo=!1,ha=!1,Lc=0,kl=0,co=null,AS=0;function yt(){throw Error(s(321))}function Rd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!xn(t[a],i[a]))return!1;return!0}function Id(t,i,a,l,f,d){return fr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?v_:qd,ha=!1,d=a(l,f),ha=!1,uo&&(d=Ly(i,a,l,f)),jy(t),d}function jy(t){$.H=Ll;var i=et!==null&&et.next!==null;if(fr=0,Nt=et=Ie=null,jc=!1,kl=0,co=null,i)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&Cc(t)&&(Ot=!0))}function Ly(t,i,a,l){Ie=t;var f=0;do{if(uo&&(co=null),kl=0,uo=!1,25<=f)throw Error(s(301));if(f+=1,Nt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=E_,d=i(a,l)}while(uo);return d}function SS(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?Pl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Cd(){var t=Lc!==0;return Lc=0,t}function xd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Dd(t){if(jc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}jc=!1}fr=0,Nt=et=Ie=null,uo=!1,kl=Lc=0,co=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ie.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function bt(){if(et===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Nt===null?Ie.memoizedState:Nt.next;if(i!==null)Nt=i,et=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Nt===null?Ie.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(t){var i=kl;return kl+=1,co===null&&(co=[]),t=Cy(co,t,i),i=Ie,(Nt===null?i.memoizedState:Nt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?v_:qd),t}function zc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Pl(t);if(t.$$typeof===ie)return Wt(t)}throw Error(s(438,String(t)))}function Nd(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Uc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function dr(t,i){return typeof i=="function"?i(t):i}function Bc(t){var i=bt();return Od(i,et,t)}function Od(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var A=_=null,O=null,F=i,J=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Ve&ee)===ee:(fr&ee)===ee){var G=F.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===ro&&(J=!0);else if((fr&G)===G){F=F.next,G===ro&&(J=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(A=O=ee,_=d):O=O.next=ee,Ie.lanes|=G,as|=G;ee=F.action,ha&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else G={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(A=O=G,_=d):O=O.next=G,Ie.lanes|=ee,as|=ee;F=F.next}while(F!==null&&F!==i);if(O===null?_=d:O.next=A,!xn(d,t.memoizedState)&&(Ot=!0,J&&(a=so,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Vd(t){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);xn(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Uy(t,i,a){var l=Ie,f=bt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!xn((et||f).memoizedState,a);if(_&&(f.memoizedState=a,Ot=!0),f=f.queue,Pd(qy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,ho(9,{destroy:void 0},By.bind(null,l,f,a,i),null),it===null)throw Error(s(349));d||(fr&127)!==0||zy(l,i,a)}return a}function zy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Uc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function By(t,i,a,l){i.value=a,i.getSnapshot=l,Hy(i)&&Fy(t)}function qy(t,i,a){return a(function(){Hy(i)&&Fy(t)})}function Hy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!xn(t,a)}catch{return!0}}function Fy(t){var i=na(t,2);i!==null&&An(i,t,2)}function Md(t){var i=mn();if(typeof t=="function"){var a=t;if(t=a(),ha){Un(!0);try{a()}finally{Un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:t},i}function Gy(t,i,a,l){return t.baseState=a,Od(t,et,typeof l=="function"?l:dr)}function wS(t,i,a,l,f){if(Fc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ky(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ky(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var A=a(f,l),O=$.S;O!==null&&O(_,A),Qy(t,i,A)}catch(F){kd(t,i,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(f,l),Qy(t,i,d)}catch(F){kd(t,i,F)}}function Qy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yy(t,i,l)},function(l){return kd(t,i,l)}):Yy(t,i,a)}function Yy(t,i,a){i.status="fulfilled",i.value=a,$y(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ky(t,a)))}function kd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,$y(i),i=i.next;while(i!==l)}t.action=null}function $y(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Xy(t,i){return i}function Wy(t,i){if(Le){var a=it.formState;if(a!==null){e:{var l=Ie;if(Le){if(st){t:{for(var f=st,d=Yn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Xn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){st=Xn(f.nextSibling),l=f.data==="F!";break e}}Wr(l)}l=!1}l&&(i=a[0])}}return a=mn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:i},a.queue=l,a=g_.bind(null,Ie,l),l.dispatch=a,l=Md(!1),d=Bd.bind(null,Ie,!1,l.queue),l=mn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=wS.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Jy(t){var i=bt();return Zy(i,et,t)}function Zy(t,i,a){if(i=Od(t,i,Xy)[0],t=Bc(dr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Pl(i)}catch(_){throw _===ao?Nc:_}else l=i;i=bt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,ho(9,{destroy:void 0},RS.bind(null,f,a),null)),[l,d,t]}function RS(t,i){t.action=i}function e_(t){var i=bt(),a=et;if(a!==null)return Zy(i,a,t);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ho(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Uc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function t_(){return bt().memoizedState}function qc(t,i,a,l){var f=mn();Ie.flags|=t,f.memoizedState=ho(1|i,{destroy:void 0},a,l===void 0?null:l)}function Hc(t,i,a,l){var f=bt();l=l===void 0?null:l;var d=f.memoizedState.inst;et!==null&&l!==null&&Rd(l,et.memoizedState.deps)?f.memoizedState=ho(i,d,a,l):(Ie.flags|=t,f.memoizedState=ho(1|i,d,a,l))}function n_(t,i){qc(8390656,8,t,i)}function Pd(t,i){Hc(2048,8,t,i)}function IS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=Uc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function i_(t){var i=bt().memoizedState;return IS({ref:i,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function r_(t,i){return Hc(4,2,t,i)}function s_(t,i){return Hc(4,4,t,i)}function a_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function o_(t,i,a){a=a!=null?a.concat([t]):null,Hc(4,4,a_.bind(null,i,t),a)}function jd(){}function l_(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Rd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function u_(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Rd(i,l[1]))return l[0];if(l=t(),ha){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,i],l}function Ld(t,i,a){return a===void 0||(fr&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=cv(),Ie.lanes|=t,as|=t,a)}function c_(t,i,a,l){return xn(a,i)?a:lo.current!==null?(t=Ld(t,a,l),xn(t,i)||(Ot=!0),t):(fr&42)===0||(fr&1073741824)!==0&&(Ve&261930)===0?(Ot=!0,t.memoizedState=a):(t=cv(),Ie.lanes|=t,as|=t,i)}function h_(t,i,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=$.T,A={};$.T=A,Bd(t,!1,i,a);try{var O=f(),F=$.S;if(F!==null&&F(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=bS(O,l);jl(t,i,J,kn(t))}else jl(t,i,l,kn(t))}catch(ee){jl(t,i,{then:function(){},status:"rejected",reason:ee},kn())}finally{ae.p=d,_!==null&&A.types!==null&&(_.types=A.types),$.T=_}}function CS(){}function Ud(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=f_(t).queue;h_(t,f,i,pe,a===null?CS:function(){return d_(t),a(l)})}function f_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function d_(t){var i=f_(t);i.next===null&&(i=t.alternate.memoizedState),jl(t,i.next.queue,{},kn())}function zd(){return Wt(eu)}function m_(){return bt().memoizedState}function p_(){return bt().memoizedState}function xS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=kn();t=es(a);var l=ts(i,t,a);l!==null&&(An(l,i,a),Ol(l,i,a)),i={cache:pd()},t.payload=i;return}i=i.return}}function DS(t,i,a){var l=kn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fc(t)?y_(i,a):(a=rd(t,i,a,l),a!==null&&(An(a,t,l),__(a,i,l)))}function g_(t,i,a){var l=kn();jl(t,i,a,l)}function jl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fc(t))y_(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,xn(A,_))return Sc(t,i,f,0),it===null&&Ac(),!1}catch{}finally{}if(a=rd(t,i,f,l),a!==null)return An(a,t,l),__(a,i,l),!0}return!1}function Bd(t,i,a,l){if(l={lane:2,revertLane:vm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fc(t)){if(i)throw Error(s(479))}else i=rd(t,a,l,2),i!==null&&An(i,t,2)}function Fc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function y_(t,i){uo=jc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function __(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,sl(t,a)}}var Ll={readContext:Wt,use:zc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Ll.useEffectEvent=yt;var v_={readContext:Wt,use:zc,useCallback:function(t,i){return mn().memoizedState=[t,i===void 0?null:i],t},useContext:Wt,useEffect:n_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,qc(4194308,4,a_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return qc(4194308,4,t,i)},useInsertionEffect:function(t,i){qc(4,2,t,i)},useMemo:function(t,i){var a=mn();i=i===void 0?null:i;var l=t();if(ha){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=mn();if(a!==void 0){var f=a(i);if(ha){Un(!0);try{a(i)}finally{Un(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=DS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=mn();return t={current:t},i.memoizedState=t},useState:function(t){t=Md(t);var i=t.queue,a=g_.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:jd,useDeferredValue:function(t,i){var a=mn();return Ld(a,t,i)},useTransition:function(){var t=Md(!1);return t=h_.bind(null,Ie,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,f=mn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(Ve&127)!==0||zy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,n_(qy.bind(null,l,d,t),[t]),l.flags|=2048,ho(9,{destroy:void 0},By.bind(null,l,d,a,i),null),a},useId:function(){var t=mn(),i=it.identifierPrefix;if(Le){var a=Bi,l=zi;a=(l&~(1<<32-vt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=AS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:zd,useFormState:Wy,useActionState:Wy,useOptimistic:function(t){var i=mn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Bd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Nd,useCacheRefresh:function(){return mn().memoizedState=xS.bind(null,Ie)},useEffectEvent:function(t){var i=mn(),a={impl:t};return i.memoizedState=a,function(){if((Ke&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},qd={readContext:Wt,use:zc,useCallback:l_,useContext:Wt,useEffect:Pd,useImperativeHandle:o_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:u_,useReducer:Bc,useRef:t_,useState:function(){return Bc(dr)},useDebugValue:jd,useDeferredValue:function(t,i){var a=bt();return c_(a,et.memoizedState,t,i)},useTransition:function(){var t=Bc(dr)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:Pl(t),i]},useSyncExternalStore:Uy,useId:m_,useHostTransitionStatus:zd,useFormState:Jy,useActionState:Jy,useOptimistic:function(t,i){var a=bt();return Gy(a,et,t,i)},useMemoCache:Nd,useCacheRefresh:p_};qd.useEffectEvent=i_;var E_={readContext:Wt,use:zc,useCallback:l_,useContext:Wt,useEffect:Pd,useImperativeHandle:o_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:u_,useReducer:Vd,useRef:t_,useState:function(){return Vd(dr)},useDebugValue:jd,useDeferredValue:function(t,i){var a=bt();return et===null?Ld(a,t,i):c_(a,et.memoizedState,t,i)},useTransition:function(){var t=Vd(dr)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:Pl(t),i]},useSyncExternalStore:Uy,useId:m_,useHostTransitionStatus:zd,useFormState:e_,useActionState:e_,useOptimistic:function(t,i){var a=bt();return et!==null?Gy(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:p_};E_.useEffectEvent=i_;function Hd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Fd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=kn(),f=es(l);f.payload=i,a!=null&&(f.callback=a),i=ts(t,f,l),i!==null&&(An(i,t,l),Ol(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=kn(),f=es(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=ts(t,f,l),i!==null&&(An(i,t,l),Ol(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=kn(),l=es(a);l.tag=2,i!=null&&(l.callback=i),i=ts(t,l,a),i!==null&&(An(i,t,a),Ol(i,t,a))}};function T_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Sl(a,l)||!Sl(f,d):!0}function b_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Fd.enqueueReplaceState(i,i.state,null)}function fa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function A_(t){bc(t)}function S_(t){console.error(t)}function w_(t){bc(t)}function Gc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function R_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gd(t,i,a){return a=es(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(t,i)},a}function I_(t){return t=es(t),t.tag=3,t}function C_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){R_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){R_(i,a,l),typeof f!="function"&&(os===null?os=new Set([this]):os.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function NS(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&io(i,a,f,!0),a=Nn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?ih():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Oc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),gm(t,l,f)),!1;case 22:return a.flags|=65536,l===Oc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),gm(t,l,f)),!1}throw Error(s(435,a.tag))}return gm(t,l,f),ih(),!1}if(Le)return i=Nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==cd&&(t=Error(s(422),{cause:l}),Il(Gn(t,a)))):(l!==cd&&(i=Error(s(423),{cause:l}),Il(Gn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Gn(l,a),f=Gd(t.stateNode,l,f),Td(t,f),_t!==4&&(_t=2)),!1;var d=Error(s(520),{cause:l});if(d=Gn(d,a),Kl===null?Kl=[d]:Kl.push(d),_t!==4&&(_t=2),i===null)return!0;l=Gn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Gd(a.stateNode,l,t),Td(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(os===null||!os.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=I_(f),C_(f,t,a,l),Td(a,f),!1}a=a.return}while(a!==null);return!1}var Kd=Error(s(461)),Ot=!1;function Jt(t,i,a,l){i.child=t===null?Oy(i,null,a,l):ca(i,t.child,a,l)}function x_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return aa(i),l=Id(t,i,a,_,d,f),A=Cd(),t!==null&&!Ot?(xd(t,i,f),mr(t,i,f)):(Le&&A&&ld(i),i.flags|=1,Jt(t,i,l,f),i.child)}function D_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!sd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,N_(t,i,d,l,f)):(t=Rc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!em(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(_,l)&&t.ref===i.ref)return mr(t,i,f)}return i.flags|=1,t=lr(d,l),t.ref=i.ref,t.return=i,i.child=t}function N_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(Sl(d,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,em(t,f))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,mr(t,i,f)}return Qd(t,i,a,l,f)}function O_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return V_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Dc(i,d!==null?d.cachePool:null),d!==null?ky(i,d):Ad(),Py(i);else return l=i.lanes=536870912,V_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Dc(i,d.cachePool),ky(i,d),is(),i.memoizedState=null):(t!==null&&Dc(i,null),Ad(),is());return Jt(t,i,f,a),i.child}function Ul(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function V_(t,i,a,l,f){var d=yd();return d=d===null?null:{parent:Dt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Dc(i,null),Ad(),Py(i),t!==null&&io(t,i,l,!0),i.childLanes=f,null}function Kc(t,i){return i=Yc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function M_(t,i,a){return ca(i,t.child,null,a),t=Kc(i,i.pendingProps),t.flags|=2,On(i),i.memoizedState=null,t}function OS(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Kc(i,l),i.lanes=536870912,Ul(null,t);if(wd(i),(t=st)?(t=Kv(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:$r!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=yy(t),a.return=i,i.child=a,Xt=i,st=null)):t=null,t===null)throw Wr(i);return i.lanes=536870912,null}return Kc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(wd(i),f)if(i.flags&256)i.flags&=-257,i=M_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ot||io(t,i,a,!1),f=(a&t.childLanes)!==0,Ot||f){if(l=it,l!==null&&(_=al(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,na(t,_),An(l,t,_),Kd;ih(),i=M_(t,i,a)}else t=d.treeContext,st=Xn(_.nextSibling),Xt=i,Le=!0,Xr=null,Yn=!1,t!==null&&Ey(i,t),i=Kc(i,l),i.flags|=4096;return i}return t=lr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Qc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Qd(t,i,a,l,f){return aa(i),a=Id(t,i,a,l,void 0,f),l=Cd(),t!==null&&!Ot?(xd(t,i,f),mr(t,i,f)):(Le&&l&&ld(i),i.flags|=1,Jt(t,i,a,f),i.child)}function k_(t,i,a,l,f,d){return aa(i),i.updateQueue=null,a=Ly(i,l,a,f),jy(t),l=Cd(),t!==null&&!Ot?(xd(t,i,d),mr(t,i,d)):(Le&&l&&ld(i),i.flags|=1,Jt(t,i,a,d),i.child)}function P_(t,i,a,l,f){if(aa(i),i.stateNode===null){var d=Za,_=a.contextType;typeof _=="object"&&_!==null&&(d=Wt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Fd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},vd(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Wt(_):Za,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Hd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Fd.enqueueReplaceState(d,d.state,null),Ml(i,l,d,f),Vl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,O=fa(a,A);d.props=O;var F=d.context,J=a.contextType;_=Za,typeof J=="object"&&J!==null&&(_=Wt(J));var ee=a.getDerivedStateFromProps;J=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||F!==_)&&b_(i,d,l,_),Zr=!1;var G=i.memoizedState;d.state=G,Ml(i,l,d,f),Vl(),F=i.memoizedState,A||G!==F||Zr?(typeof ee=="function"&&(Hd(i,a,ee,l),F=i.memoizedState),(O=Zr||T_(i,a,O,l,G,F,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Ed(t,i),_=i.memoizedProps,J=fa(a,_),d.props=J,ee=i.pendingProps,G=d.context,F=a.contextType,O=Za,typeof F=="object"&&F!==null&&(O=Wt(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||G!==O)&&b_(i,d,l,O),Zr=!1,G=i.memoizedState,d.state=G,Ml(i,l,d,f),Vl();var Q=i.memoizedState;_!==ee||G!==Q||Zr||t!==null&&t.dependencies!==null&&Cc(t.dependencies)?(typeof A=="function"&&(Hd(i,a,A,l),Q=i.memoizedState),(J=Zr||T_(i,a,J,l,G,Q,O)||t!==null&&t.dependencies!==null&&Cc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=O,l=J):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Qc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ca(i,t.child,null,f),i.child=ca(i,null,a,f)):Jt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=mr(t,i,f),t}function j_(t,i,a,l){return ra(),i.flags|=256,Jt(t,i,a,l),i.child}var Yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $d(t){return{baseLanes:t,cachePool:Ry()}}function Xd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Mn),t}function L_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(f?ns(i):is(),(t=st)?(t=Kv(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:$r!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},a=yy(t),a.return=i,i.child=a,Xt=i,st=null)):t=null,t===null)throw Wr(i);return Om(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(is(),f=i.mode,A=Yc({mode:"hidden",children:A},f),l=ia(l,f,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=$d(a),l.childLanes=Xd(t,_,a),i.memoizedState=Yd,Ul(null,l)):(ns(i),Wd(i,A))}var O=t.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(d)i.flags&256?(ns(i),i.flags&=-257,i=Jd(t,i,a)):i.memoizedState!==null?(is(),i.child=t.child,i.flags|=128,i=null):(is(),A=l.fallback,f=i.mode,l=Yc({mode:"visible",children:l.children},f),A=ia(A,f,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,ca(i,t.child,null,a),l=i.child,l.memoizedState=$d(a),l.childLanes=Xd(t,_,a),i.memoizedState=Yd,i=Ul(null,l));else if(ns(i),Om(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,Il({value:l,source:null,stack:null}),i=Jd(t,i,a)}else if(Ot||io(t,i,a,!1),_=(a&t.childLanes)!==0,Ot||_){if(_=it,_!==null&&(l=al(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,na(t,l),An(_,t,l),Kd;Nm(A)||ih(),i=Jd(t,i,a)}else Nm(A)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,st=Xn(A.nextSibling),Xt=i,Le=!0,Xr=null,Yn=!1,t!==null&&Ey(i,t),i=Wd(i,l.children),i.flags|=4096);return i}return f?(is(),A=l.fallback,f=i.mode,O=t.child,F=O.sibling,l=lr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?A=lr(F,A):(A=ia(A,f,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,Ul(null,l),l=i.child,A=t.child.memoizedState,A===null?A=$d(a):(f=A.cachePool,f!==null?(O=Dt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Ry(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Xd(t,_,a),i.memoizedState=Yd,Ul(t.child,l)):(ns(i),a=t.child,t=a.sibling,a=lr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Wd(t,i){return i=Yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Yc(t,i){return t=Dn(22,t,null,i),t.lanes=0,t}function Jd(t,i,a){return ca(i,t.child,null,a),t=Wd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function U_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),dd(t.return,i,a)}function Zd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function z_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Tt.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,oe(Tt,_),Jt(t,i,l,a),l=Le?Rl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&U_(t,a,i);else if(t.tag===19)U_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Pc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Zd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Pc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Zd(i,!0,a,null,d,l);break;case"together":Zd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function mr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),as|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(io(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=lr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=lr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function em(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Cc(t)))}function VS(t,i,a){switch(i.tag){case 3:Lt(i,i.stateNode.containerInfo),Jr(i,Dt,t.memoizedState.cache),ra();break;case 27:case 5:Ls(i);break;case 4:Lt(i,i.stateNode.containerInfo);break;case 10:Jr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ns(i),i.flags|=128,null):(a&i.child.childLanes)!==0?L_(t,i,a):(ns(i),t=mr(t,i,a),t!==null?t.sibling:null);ns(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(io(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return z_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(Tt,Tt.current),l)break;return null;case 22:return i.lanes=0,O_(t,i,a,i.pendingProps);case 24:Jr(i,Dt,t.memoizedState.cache)}return mr(t,i,a)}function B_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!em(t,a)&&(i.flags&128)===0)return Ot=!1,VS(t,i,a);Ot=(t.flags&131072)!==0}else Ot=!1,Le&&(i.flags&1048576)!==0&&vy(i,Rl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=la(i.elementType),i.type=t,typeof t=="function")sd(t)?(l=fa(t,l),i.tag=1,i=P_(null,i,t,l,a)):(i.tag=0,i=Qd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===he){i.tag=11,i=x_(null,i,t,l,a);break e}else if(f===C){i.tag=14,i=D_(null,i,t,l,a);break e}}throw i=Qe(t)||t,Error(s(306,i,""))}}return i;case 0:return Qd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=fa(l,i.pendingProps),P_(t,i,l,f,a);case 3:e:{if(Lt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Ed(t,i),Ml(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Jr(i,Dt,l),l!==d.cache&&md(i,[Dt],a,!0),Vl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=j_(t,i,l,a);break e}else if(l!==f){f=Gn(Error(s(424)),i),Il(f),i=j_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=Xn(t.firstChild),Xt=i,Le=!0,Xr=null,Yn=!0,a=Oy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ra(),l===f){i=mr(t,i,a);break e}Jt(t,i,l,a)}i=i.child}return i;case 26:return Qc(t,i),t===null?(a=Jv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=ch(Ce.current).createElement(a),l[It]=i,l[qt]=t,Zt(l,a,t),Ct(l),i.stateNode=l):i.memoizedState=Jv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ls(i),t===null&&Le&&(l=i.stateNode=$v(i.type,i.pendingProps,Ce.current),Xt=i,Yn=!0,f=st,hs(i.type)?(Vm=f,st=Xn(l.firstChild)):st=f),Jt(t,i,i.pendingProps.children,a),Qc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((f=l=st)&&(l=uw(l,i.type,i.pendingProps,Yn),l!==null?(i.stateNode=l,Xt=i,st=Xn(l.firstChild),Yn=!1,f=!0):f=!1),f||Wr(i)),Ls(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Cm(f,d)?l=null:_!==null&&Cm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Id(t,i,SS,null,null,a),eu._currentValue=f),Qc(t,i),Jt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=st)&&(a=cw(a,i.pendingProps,Yn),a!==null?(i.stateNode=a,Xt=i,st=null,t=!0):t=!1),t||Wr(i)),null;case 13:return L_(t,i,a);case 4:return Lt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ca(i,null,l,a):Jt(t,i,l,a),i.child;case 11:return x_(t,i,i.type,i.pendingProps,a);case 7:return Jt(t,i,i.pendingProps,a),i.child;case 8:return Jt(t,i,i.pendingProps.children,a),i.child;case 12:return Jt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Jr(i,i.type,l.value),Jt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,aa(i),f=Wt(f),l=l(f),i.flags|=1,Jt(t,i,l,a),i.child;case 14:return D_(t,i,i.type,i.pendingProps,a);case 15:return N_(t,i,i.type,i.pendingProps,a);case 19:return z_(t,i,a);case 31:return OS(t,i,a);case 22:return O_(t,i,a,i.pendingProps);case 24:return aa(i),l=Wt(Dt),t===null?(f=yd(),f===null&&(f=it,d=pd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},vd(i),Jr(i,Dt,f)):((t.lanes&a)!==0&&(Ed(t,i),Ml(i,null,null,a),Vl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Jr(i,Dt,l)):(l=d.cache,Jr(i,Dt,l),l!==f.cache&&md(i,[Dt],a,!0))),Jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function pr(t){t.flags|=4}function tm(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(mv())t.flags|=8192;else throw ua=Oc,_d}else t.flags&=-16777217}function q_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iE(i))if(mv())t.flags|=8192;else throw ua=Oc,_d}function $c(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?tc():536870912,t.lanes|=i,go|=i)}function zl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function MS(t,i,a){var l=i.pendingProps;switch(ud(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),hr(Dt),ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(no(i)?pr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hd())),at(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(pr(i),d!==null?(at(i),q_(i,d)):(at(i),tm(i,f,null,l,a))):d?d!==t.memoizedState?(pr(i),at(i),q_(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&pr(i),at(i),tm(i,f,t,l,a)),null;case 27:if(Ma(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&pr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=ue.current,no(i)?Ty(i):(t=$v(f,l,a),i.stateNode=t,pr(i))}return at(i),null;case 5:if(Ma(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&pr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(d=ue.current,no(i))Ty(i);else{var _=ch(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[It]=i,d[qt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Zt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pr(i)}}return at(i),tm(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&pr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,no(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Xt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Lv(t.nodeValue,a)),t||Wr(i,!0)}else t=ch(t).createTextNode(l),t[It]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=no(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[It]=i}else ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=hd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(On(i),i):(On(i),null);if((i.flags&128)!==0)throw Error(s(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=no(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[It]=i}else ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),f=!1}else f=hd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(On(i),i):(On(i),null)}return On(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),$c(i,i.updateQueue),at(i),null);case 4:return ct(),t===null&&Am(i.stateNode.containerInfo),at(i),null;case 10:return hr(i.type),at(i),null;case 19:if(te(Tt),l=i.memoizedState,l===null)return at(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)zl(l,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Pc(t),d!==null){for(i.flags|=128,zl(l,!1),t=d.updateQueue,i.updateQueue=t,$c(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)gy(a,t),a=a.sibling;return oe(Tt,Tt.current&1|2),Le&&ur(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&fn()>eh&&(i.flags|=128,f=!0,zl(l,!1),i.lanes=4194304)}else{if(!f)if(t=Pc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,$c(i,t),zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return at(i),null}else 2*fn()-l.renderingStartTime>eh&&a!==536870912&&(i.flags|=128,f=!0,zl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=fn(),t.sibling=null,a=Tt.current,oe(Tt,f?a&1|2:a&1),Le&&ur(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return On(i),Sd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&$c(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(oa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),hr(Dt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function kS(t,i){switch(ud(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return hr(Dt),ct(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ma(i),null;case 31:if(i.memoizedState!==null){if(On(i),i.alternate===null)throw Error(s(340));ra()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(On(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ra()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(Tt),null;case 4:return ct(),null;case 10:return hr(i.type),null;case 22:case 23:return On(i),Sd(),t!==null&&te(oa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return hr(Dt),null;case 25:return null;default:return null}}function H_(t,i){switch(ud(i),i.tag){case 3:hr(Dt),ct();break;case 26:case 27:case 5:Ma(i);break;case 4:ct();break;case 31:i.memoizedState!==null&&On(i);break;case 13:On(i);break;case 19:te(Tt);break;case 10:hr(i.type);break;case 22:case 23:On(i),Sd(),t!==null&&te(oa);break;case 24:hr(Dt)}}function Bl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){We(i,i.return,A)}}function rs(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=i;var O=a,F=A;try{F()}catch(J){We(f,O,J)}}}l=l.next}while(l!==d)}}catch(J){We(i,i.return,J)}}function F_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{My(i,a)}catch(l){We(t,t.return,l)}}}function G_(t,i,a){a.props=fa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function ql(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){We(t,i,f)}}function qi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(t,i,f)}else a.current=null}function K_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(t,t.return,f)}}function nm(t,i,a){try{var l=t.stateNode;iw(l,t.type,a,i),l[qt]=i}catch(f){We(t,t.return,f)}}function Q_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hs(t.type)||t.tag===4}function im(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rm(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ri));else if(l!==4&&(l===27&&hs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(rm(t,i,a),t=t.sibling;t!==null;)rm(t,i,a),t=t.sibling}function Xc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&hs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Xc(t,i,a),t=t.sibling;t!==null;)Xc(t,i,a),t=t.sibling}function Y_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Zt(i,l,a),i[It]=t,i[qt]=a}catch(d){We(t,t.return,d)}}var gr=!1,Vt=!1,sm=!1,$_=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function PS(t,i){if(t=t.containerInfo,Rm=yh,t=oy(t),Jf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,A=-1,O=-1,F=0,J=0,ee=t,G=null;t:for(;;){for(var Q;ee!==a||f!==0&&ee.nodeType!==3||(A=_+f),ee!==d||l!==0&&ee.nodeType!==3||(O=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)G=ee,ee=Q;for(;;){if(ee===t)break t;if(G===a&&++F===f&&(A=_),G===d&&++J===l&&(O=_),(Q=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Q}a=A===-1||O===-1?null:{start:A,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Im={focusedElem:t,selectionRange:a},yh=!1,Ft=i;Ft!==null;)if(i=Ft,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ft=t;else for(;Ft!==null;){switch(i=Ft,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=fa(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Dm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Dm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ft=t;break}Ft=i.return}}function X_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_r(t,a),l&4&&Bl(5,a);break;case 1:if(_r(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var f=fa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&F_(a),l&512&&ql(a,a.return);break;case 3:if(_r(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{My(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&l&4&&Y_(a);case 26:case 5:_r(t,a),i===null&&l&4&&K_(a),l&512&&ql(a,a.return);break;case 12:_r(t,a);break;case 31:_r(t,a),l&4&&Z_(t,a);break;case 13:_r(t,a),l&4&&ev(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=GS.bind(null,a),hw(t,a))));break;case 22:if(l=a.memoizedState!==null||gr,!l){i=i!==null&&i.memoizedState!==null||Vt,f=gr;var d=Vt;gr=l,(Vt=i)&&!d?vr(t,a,(a.subtreeFlags&8772)!==0):_r(t,a),gr=f,Vt=d}break;case 30:break;default:_r(t,a)}}function W_(t){var i=t.alternate;i!==null&&(t.alternate=null,W_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ua(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,vn=!1;function yr(t,i,a){for(a=a.child;a!==null;)J_(t,i,a),a=a.sibling}function J_(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ei,a)}catch{}switch(a.tag){case 26:Vt||qi(a,i),yr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Vt||qi(a,i);var l=ft,f=vn;hs(a.type)&&(ft=a.stateNode,vn=!1),yr(t,i,a),Wl(a.stateNode),ft=l,vn=f;break;case 5:Vt||qi(a,i);case 6:if(l=ft,f=vn,ft=null,yr(t,i,a),ft=l,vn=f,ft!==null)if(vn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ft.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ft!==null&&(vn?(t=ft,Fv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),So(t)):Fv(ft,a.stateNode));break;case 4:l=ft,f=vn,ft=a.stateNode.containerInfo,vn=!0,yr(t,i,a),ft=l,vn=f;break;case 0:case 11:case 14:case 15:rs(2,a,i),Vt||rs(4,a,i),yr(t,i,a);break;case 1:Vt||(qi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&G_(a,i,l)),yr(t,i,a);break;case 21:yr(t,i,a);break;case 22:Vt=(l=Vt)||a.memoizedState!==null,yr(t,i,a),Vt=l;break;default:yr(t,i,a)}}function Z_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{So(t)}catch(a){We(i,i.return,a)}}}function ev(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{So(t)}catch(a){We(i,i.return,a)}}function jS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new $_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new $_),i;default:throw Error(s(435,t.tag))}}function Wc(t,i){var a=jS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=KS.bind(null,t,l);l.then(f,f)}})}function En(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(hs(A.type)){ft=A.stateNode,vn=!1;break e}break;case 5:ft=A.stateNode,vn=!1;break e;case 3:case 4:ft=A.stateNode.containerInfo,vn=!0;break e}A=A.return}if(ft===null)throw Error(s(160));J_(d,_,f),ft=null,vn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)tv(i,t),i=i.sibling}var ci=null;function tv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(i,t),Tn(t),l&4&&(rs(3,t,t.return),Bl(3,t),rs(5,t,t.return));break;case 1:En(i,t),Tn(t),l&512&&(Vt||a===null||qi(a,a.return)),l&64&&gr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ci;if(En(i,t),Tn(t),l&512&&(Vt||a===null||qi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ci]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Zt(d,l,a),d[It]=t,Ct(d),l=d;break e;case"link":var _=tE("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}d=f.createElement(l),Zt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=tE("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}d=f.createElement(l),Zt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,Ct(d),l=d}t.stateNode=l}else nE(f,t.type,t.stateNode);else t.stateNode=eE(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?nE(f,t.type,t.stateNode):eE(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&nm(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(i,t),Tn(t),l&512&&(Vt||a===null||qi(a,a.return)),a!==null&&l&4&&nm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(i,t),Tn(t),l&512&&(Vt||a===null||qi(a,a.return)),t.flags&32){f=t.stateNode;try{_n(f,"")}catch(ce){We(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,nm(t,f,a!==null?a.memoizedProps:f)),l&1024&&(sm=!0);break;case 6:if(En(i,t),Tn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){We(t,t.return,ce)}}break;case 3:if(dh=null,f=ci,ci=hh(i.containerInfo),En(i,t),ci=f,Tn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{So(i.containerInfo)}catch(ce){We(t,t.return,ce)}sm&&(sm=!1,nv(t));break;case 4:l=ci,ci=hh(t.stateNode.containerInfo),En(i,t),Tn(t),ci=l;break;case 12:En(i,t),Tn(t);break;case 31:En(i,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wc(t,l)));break;case 13:En(i,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wc(t,l)));break;case 22:f=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=gr,J=Vt;if(gr=F||f,Vt=J||O,En(i,t),Vt=J,gr=F,Tn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||O||gr||Vt||da(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=O.stateNode;var ee=O.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ce){We(O,O.return,ce)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(ce){We(O,O.return,ce)}}}else if(i.tag===18){if(a===null){O=i;try{var Q=O.stateNode;f?Gv(Q,!0):Gv(O.stateNode,!1)}catch(ce){We(O,O.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wc(t,a))));break;case 19:En(i,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wc(t,l)));break;case 30:break;case 21:break;default:En(i,t),Tn(t)}}function Tn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Q_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=im(t);Xc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(_n(_,""),a.flags&=-33);var A=im(t);Xc(t,A,_);break;case 3:case 4:var O=a.stateNode.containerInfo,F=im(t);rm(t,F,O);break;default:throw Error(s(161))}}catch(J){We(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function nv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;nv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function _r(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)X_(t,i.alternate,i),i=i.sibling}function da(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:rs(4,i,i.return),da(i);break;case 1:qi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&G_(i,i.return,a),da(i);break;case 27:Wl(i.stateNode);case 26:case 5:qi(i,i.return),da(i);break;case 22:i.memoizedState===null&&da(i);break;case 30:da(i);break;default:da(i)}t=t.sibling}}function vr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:vr(f,d,a),Bl(4,d);break;case 1:if(vr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){We(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Vy(O[f],A)}catch(F){We(l,l.return,F)}}a&&_&64&&F_(d),ql(d,d.return);break;case 27:Y_(d);case 26:case 5:vr(f,d,a),a&&l===null&&_&4&&K_(d),ql(d,d.return);break;case 12:vr(f,d,a);break;case 31:vr(f,d,a),a&&_&4&&Z_(f,d);break;case 13:vr(f,d,a),a&&_&4&&ev(f,d);break;case 22:d.memoizedState===null&&vr(f,d,a),ql(d,d.return);break;case 30:break;default:vr(f,d,a)}i=i.sibling}}function am(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Cl(a))}function om(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Cl(t))}function hi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)iv(t,i,a,l),i=i.sibling}function iv(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:hi(t,i,a,l),f&2048&&Bl(9,i);break;case 1:hi(t,i,a,l);break;case 3:hi(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Cl(t)));break;case 12:if(f&2048){hi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){We(i,i.return,O)}}else hi(t,i,a,l);break;case 31:hi(t,i,a,l);break;case 13:hi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?hi(t,i,a,l):Hl(t,i):d._visibility&2?hi(t,i,a,l):(d._visibility|=2,fo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&am(_,i);break;case 24:hi(t,i,a,l),f&2048&&om(i.alternate,i);break;default:hi(t,i,a,l)}}function fo(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,A=a,O=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:fo(d,_,A,O,f),Bl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?fo(d,_,A,O,f):Hl(d,_):(J._visibility|=2,fo(d,_,A,O,f)),f&&F&2048&&am(_.alternate,_);break;case 24:fo(d,_,A,O,f),f&&F&2048&&om(_.alternate,_);break;default:fo(d,_,A,O,f)}i=i.sibling}}function Hl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Hl(a,l),f&2048&&am(l.alternate,l);break;case 24:Hl(a,l),f&2048&&om(l.alternate,l);break;default:Hl(a,l)}i=i.sibling}}var Fl=8192;function mo(t,i,a){if(t.subtreeFlags&Fl)for(t=t.child;t!==null;)rv(t,i,a),t=t.sibling}function rv(t,i,a){switch(t.tag){case 26:mo(t,i,a),t.flags&Fl&&t.memoizedState!==null&&Aw(a,ci,t.memoizedState,t.memoizedProps);break;case 5:mo(t,i,a);break;case 3:case 4:var l=ci;ci=hh(t.stateNode.containerInfo),mo(t,i,a),ci=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Fl,Fl=16777216,mo(t,i,a),Fl=l):mo(t,i,a));break;default:mo(t,i,a)}}function sv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Gl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,ov(l,t)}sv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)av(t),t=t.sibling}function av(t){switch(t.tag){case 0:case 11:case 15:Gl(t),t.flags&2048&&rs(9,t,t.return);break;case 3:Gl(t);break;case 12:Gl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Jc(t)):Gl(t);break;default:Gl(t)}}function Jc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,ov(l,t)}sv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:rs(8,i,i.return),Jc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(i));break;default:Jc(i)}t=t.sibling}}function ov(t,i){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:rs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=t;Ft!==null;){l=Ft;var f=l.sibling,d=l.return;if(W_(l),l===a){Ft=null;break e}if(f!==null){f.return=d,Ft=f;break e}Ft=d}}}var LS={getCacheForType:function(t){var i=Wt(Dt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Wt(Dt).controller.signal}},US=typeof WeakMap=="function"?WeakMap:Map,Ke=0,it=null,Ne=null,Ve=0,Xe=0,Vn=null,ss=!1,po=!1,lm=!1,Er=0,_t=0,as=0,ma=0,um=0,Mn=0,go=0,Kl=null,bn=null,cm=!1,Zc=0,lv=0,eh=1/0,th=null,os=null,zt=0,ls=null,yo=null,Tr=0,hm=0,fm=null,uv=null,Ql=0,dm=null;function kn(){return(Ke&2)!==0&&Ve!==0?Ve&-Ve:$.T!==null?vm():nc()}function cv(){if(Mn===0)if((Ve&536870912)===0||Le){var t=Bs;Bs<<=1,(Bs&3932160)===0&&(Bs=262144),Mn=t}else Mn=536870912;return t=Nn.current,t!==null&&(t.flags|=32),Mn}function An(t,i,a){(t===it&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(_o(t,0),us(t,Ve,Mn,!1)),qs(t,a),((Ke&2)===0||t!==it)&&(t===it&&((Ke&2)===0&&(ma|=a),_t===4&&us(t,Ve,Mn,!1)),Hi(t))}function hv(t,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ti(t,i),f=l?qS(t,i):pm(t,i,!0),d=l;do{if(f===0){po&&!l&&us(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!zS(a)){f=pm(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;f=Kl;var O=A.current.memoizedState.isDehydrated;if(O&&(_o(A,_).flags|=256),_=pm(A,_,!1),_!==2){if(lm&&!O){A.errorRecoveryDisabledLanes|=d,ma|=d,f=4;break e}d=bn,bn=f,d!==null&&(bn===null?bn=d:bn.push.apply(bn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){_o(t,0),us(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:us(l,i,Mn,!ss);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Zc+300-fn(),10<f)){if(us(l,i,Mn,!ss),wi(l,0,!0)!==0)break e;Tr=i,l.timeoutHandle=qv(fv.bind(null,l,a,bn,th,cm,i,Mn,ma,go,ss,d,"Throttled",-0,0),f);break e}fv(l,a,bn,th,cm,i,Mn,ma,go,ss,d,null,-0,0)}}break}while(!0);Hi(t)}function fv(t,i,a,l,f,d,_,A,O,F,J,ee,G,Q){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},rv(i,d,ee);var ce=(d&62914560)===d?Zc-fn():(d&4194048)===d?lv-fn():0;if(ce=Sw(ee,ce),ce!==null){Tr=d,t.cancelPendingCommit=ce(Ev.bind(null,t,i,d,a,l,f,_,A,O,J,ee,null,G,Q)),us(t,d,_,!F);return}}Ev(t,i,d,a,l,f,_,A,O)}function zS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!xn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function us(t,i,a,l){i&=~um,i&=~ma,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-vt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Hs(t,a,i)}function nh(){return(Ke&6)===0?(Yl(0),!1):!0}function mm(){if(Ne!==null){if(Xe===0)var t=Ne.return;else t=Ne,cr=sa=null,Dd(t),oo=null,Dl=0,t=Ne;for(;t!==null;)H_(t.alternate,t),t=t.return;Ne=null}}function _o(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,aw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Tr=0,mm(),it=t,Ne=a=lr(t.current,null),Ve=i,Xe=0,Vn=null,ss=!1,po=ti(t,i),lm=!1,go=Mn=um=ma=as=_t=0,bn=Kl=null,cm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-vt(l),d=1<<f;i|=t[f],l&=~d}return Er=i,Ac(),a}function dv(t,i){Ie=null,$.H=Ll,i===ao||i===Nc?(i=xy(),Xe=3):i===_d?(i=xy(),Xe=4):Xe=i===Kd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vn=i,Ne===null&&(_t=1,Gc(t,Gn(i,t.current)))}function mv(){var t=Nn.current;return t===null?!0:(Ve&4194048)===Ve?$n===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===$n:!1}function pv(){var t=$.H;return $.H=Ll,t===null?Ll:t}function gv(){var t=$.A;return $.A=LS,t}function ih(){_t=4,ss||(Ve&4194048)!==Ve&&Nn.current!==null||(po=!0),(as&134217727)===0&&(ma&134217727)===0||it===null||us(it,Ve,Mn,!1)}function pm(t,i,a){var l=Ke;Ke|=2;var f=pv(),d=gv();(it!==t||Ve!==i)&&(th=null,_o(t,i)),i=!1;var _=_t;e:do try{if(Xe!==0&&Ne!==null){var A=Ne,O=Vn;switch(Xe){case 8:mm(),_=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(i=!0);var F=Xe;if(Xe=0,Vn=null,vo(t,A,O,F),a&&po){_=0;break e}break;default:F=Xe,Xe=0,Vn=null,vo(t,A,O,F)}}BS(),_=_t;break}catch(J){dv(t,J)}while(!0);return i&&t.shellSuspendCounter++,cr=sa=null,Ke=l,$.H=f,$.A=d,Ne===null&&(it=null,Ve=0,Ac()),_}function BS(){for(;Ne!==null;)yv(Ne)}function qS(t,i){var a=Ke;Ke|=2;var l=pv(),f=gv();it!==t||Ve!==i?(th=null,eh=fn()+500,_o(t,i)):po=ti(t,i);e:do try{if(Xe!==0&&Ne!==null){i=Ne;var d=Vn;t:switch(Xe){case 1:Xe=0,Vn=null,vo(t,i,d,1);break;case 2:case 9:if(Iy(d)){Xe=0,Vn=null,_v(i);break}i=function(){Xe!==2&&Xe!==9||it!==t||(Xe=7),Hi(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Iy(d)?(Xe=0,Vn=null,_v(i)):(Xe=0,Vn=null,vo(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var A=Ne;if(_?iE(_):A.stateNode.complete){Xe=0,Vn=null;var O=A.sibling;if(O!==null)Ne=O;else{var F=A.return;F!==null?(Ne=F,rh(F)):Ne=null}break t}}Xe=0,Vn=null,vo(t,i,d,5);break;case 6:Xe=0,Vn=null,vo(t,i,d,6);break;case 8:mm(),_t=6;break e;default:throw Error(s(462))}}HS();break}catch(J){dv(t,J)}while(!0);return cr=sa=null,$.H=l,$.A=f,Ke=a,Ne!==null?0:(it=null,Ve=0,Ac(),_t)}function HS(){for(;Ne!==null&&!Gf();)yv(Ne)}function yv(t){var i=B_(t.alternate,t,Er);t.memoizedProps=t.pendingProps,i===null?rh(t):Ne=i}function _v(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=k_(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=k_(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Dd(i);default:H_(a,i),i=Ne=gy(i,Er),i=B_(a,i,Er)}t.memoizedProps=t.pendingProps,i===null?rh(t):Ne=i}function vo(t,i,a,l){cr=sa=null,Dd(i),oo=null,Dl=0;var f=i.return;try{if(NS(t,f,i,a,Ve)){_t=1,Gc(t,Gn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;_t=1,Gc(t,Gn(a,t.current)),Ne=null;return}i.flags&32768?(Le||l===1?t=!0:po||(Ve&536870912)!==0?t=!1:(ss=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vv(i,t)):rh(i)}function rh(t){var i=t;do{if((i.flags&32768)!==0){vv(i,ss);return}t=i.return;var a=MS(i.alternate,i,Er);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);_t===0&&(_t=5)}function vv(t,i){do{var a=kS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);_t=6,Ne=null}function Ev(t,i,a,l,f,d,_,A,O){t.cancelPendingCommit=null;do sh();while(zt!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=id,Yf(t,a,d,_,A,O),t===it&&(Ne=it=null,Ve=0),yo=i,ls=t,Tr=a,hm=d,fm=f,uv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,QS(Ur,function(){return wv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ae.p,ae.p=2,_=Ke,Ke|=4;try{PS(t,i,a)}finally{Ke=_,ae.p=f,$.T=l}}zt=1,Tv(),bv(),Av()}}function Tv(){if(zt===1){zt=0;var t=ls,i=yo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=Ke;Ke|=4;try{tv(i,t);var d=Im,_=oy(t.containerInfo),A=d.focusedElem,O=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&ay(A.ownerDocument.documentElement,A)){if(O!==null&&Jf(A)){var F=O.start,J=O.end;if(J===void 0&&(J=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(J,A.value.length);else{var ee=A.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Q=G.getSelection(),ce=A.textContent.length,_e=Math.min(O.start,ce),nt=O.end===void 0?_e:Math.min(O.end,ce);!Q.extend&&_e>nt&&(_=nt,nt=_e,_e=_);var U=sy(A,_e),P=sy(A,nt);if(U&&P&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==P.node||Q.focusOffset!==P.offset)){var H=ee.createRange();H.setStart(U.node,U.offset),Q.removeAllRanges(),_e>nt?(Q.addRange(H),Q.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),Q.addRange(H))}}}}for(ee=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ee.length;A++){var Z=ee[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}yh=!!Rm,Im=Rm=null}finally{Ke=f,ae.p=l,$.T=a}}t.current=i,zt=2}}function bv(){if(zt===2){zt=0;var t=ls,i=yo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=Ke;Ke|=4;try{X_(t,i.alternate,i)}finally{Ke=f,ae.p=l,$.T=a}}zt=3}}function Av(){if(zt===4||zt===3){zt=0,$u();var t=ls,i=yo,a=Tr,l=uv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,yo=ls=null,Sv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(os=null),rr(a),i=i.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ei,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,f=ae.p,ae.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{$.T=i,ae.p=f}}(Tr&3)!==0&&sh(),Hi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===dm?Ql++:(Ql=0,dm=t):Ql=0,Yl(0)}}function Sv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Cl(i)))}function sh(){return Tv(),bv(),Av(),wv()}function wv(){if(zt!==5)return!1;var t=ls,i=hm;hm=0;var a=rr(Tr),l=$.T,f=ae.p;try{ae.p=32>a?32:a,$.T=null,a=fm,fm=null;var d=ls,_=Tr;if(zt=0,yo=ls=null,Tr=0,(Ke&6)!==0)throw Error(s(331));var A=Ke;if(Ke|=4,av(d.current),iv(d,d.current,_,a),Ke=A,Yl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ei,d)}catch{}return!0}finally{ae.p=f,$.T=l,Sv(t,i)}}function Rv(t,i,a){i=Gn(a,i),i=Gd(t.stateNode,i,2),t=ts(t,i,2),t!==null&&(qs(t,2),Hi(t))}function We(t,i,a){if(t.tag===3)Rv(t,t,a);else for(;i!==null;){if(i.tag===3){Rv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(os===null||!os.has(l))){t=Gn(a,t),a=I_(2),l=ts(i,a,2),l!==null&&(C_(a,l,i,t),qs(l,2),Hi(l));break}}i=i.return}}function gm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new US;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(lm=!0,f.add(a),t=FS.bind(null,t,i,a),i.then(t,t))}function FS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Ve&a)===a&&(_t===4||_t===3&&(Ve&62914560)===Ve&&300>fn()-Zc?(Ke&2)===0&&_o(t,0):um|=a,go===Ve&&(go=0)),Hi(t)}function Iv(t,i){i===0&&(i=tc()),t=na(t,i),t!==null&&(qs(t,i),Hi(t))}function GS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Iv(t,a)}function KS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Iv(t,a)}function QS(t,i){return Ut(t,i)}var ah=null,Eo=null,ym=!1,oh=!1,_m=!1,cs=0;function Hi(t){t!==Eo&&t.next===null&&(Eo===null?ah=Eo=t:Eo=Eo.next=t),oh=!0,ym||(ym=!0,$S())}function Yl(t,i){if(!_m&&oh){_m=!0;do for(var a=!1,l=ah;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-vt(42|t)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Nv(l,d))}else d=Ve,d=wi(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ti(l,d)||(a=!0,Nv(l,d));l=l.next}while(a);_m=!1}}function YS(){Cv()}function Cv(){oh=ym=!1;var t=0;cs!==0&&sw()&&(t=cs);for(var i=fn(),a=null,l=ah;l!==null;){var f=l.next,d=xv(l,i);d===0?(l.next=null,a===null?ah=f:a.next=f,f===null&&(Eo=a)):(a=l,(t!==0||(d&3)!==0)&&(oh=!0)),l=f}zt!==0&&zt!==5||Yl(t),cs!==0&&(cs=0)}function xv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-vt(d),A=1<<_,O=f[_];O===-1?((A&a)===0||(A&l)!==0)&&(f[_]=Qf(A,i)):O<=i&&(t.expiredLanes|=A),d&=~A}if(i=it,a=Ve,a=wi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Lr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ti(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Lr(l),rr(a)){case 2:case 8:a=rl;break;case 32:a=Ur;break;case 268435456:a=Xu;break;default:a=Ur}return l=Dv.bind(null,t),a=Ut(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Lr(l),t.callbackPriority=2,t.callbackNode=null,2}function Dv(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(sh()&&t.callbackNode!==a)return null;var l=Ve;return l=wi(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(hv(t,l,i),xv(t,fn()),t.callbackNode!=null&&t.callbackNode===a?Dv.bind(null,t):null)}function Nv(t,i){if(sh())return null;hv(t,i,!0)}function $S(){ow(function(){(Ke&6)!==0?Ut(il,YS):Cv()})}function vm(){if(cs===0){var t=ro;t===0&&(t=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),cs=t}return cs}function Ov(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ha(""+t)}function Vv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function XS(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Ov((f[qt]||null).action),_=l.submitter;_&&(i=(i=_[qt]||null)?Ov(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var A=new Pi("action","action",null,l,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cs!==0){var O=_?Vv(f,_):new FormData(f);Ud(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(A.preventDefault(),O=_?Vv(f,_):new FormData(f),Ud(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var Em=0;Em<nd.length;Em++){var Tm=nd[Em],WS=Tm.toLowerCase(),JS=Tm[0].toUpperCase()+Tm.slice(1);ui(WS,"on"+JS)}ui(cy,"onAnimationEnd"),ui(hy,"onAnimationIteration"),ui(fy,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(mS,"onTransitionRun"),ui(pS,"onTransitionStart"),ui(gS,"onTransitionCancel"),ui(dy,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Mv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var A=l[_],O=A.instance,F=A.currentTarget;if(A=A.listener,O!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=F;try{d(f)}catch(J){bc(J)}f.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(A=l[_],O=A.instance,F=A.currentTarget,A=A.listener,O!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=F;try{d(f)}catch(J){bc(J)}f.currentTarget=null,d=O}}}}function Oe(t,i){var a=i[La];a===void 0&&(a=i[La]=new Set);var l=t+"__bubble";a.has(l)||(kv(i,t,2,!1),a.add(l))}function bm(t,i,a){var l=0;i&&(l|=4),kv(a,t,l,i)}var lh="_reactListening"+Math.random().toString(36).slice(2);function Am(t){if(!t[lh]){t[lh]=!0,ol.forEach(function(a){a!=="selectionchange"&&(ZS.has(a)||bm(a,!1,t),bm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[lh]||(i[lh]=!0,bm("selectionchange",!1,i))}}function kv(t,i,a,l){switch(cE(i)){case 2:var f=Iw;break;case 8:f=Cw;break;default:f=Lm}a=f.bind(null,i,a,t),f=void 0,!Ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Sm(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=xi(A),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}A=A.parentNode}}l=l.return}Gr(function(){var F=d,J=Bn(a),ee=[];e:{var G=my.get(t);if(G!==void 0){var Q=Pi,ce=t;switch(t){case"keypress":if(Xs(a)===0)break e;case"keydown":case"keyup":Q=vc;break;case"focusin":ce="focus",Q=Js;break;case"focusout":ce="blur",Q=Js;break;case"beforeblur":case"afterblur":Q=Js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=El;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case cy:case hy:case fy:Q=fc;break;case dy:Q=w;break;case"scroll":case"scrollend":Q=vl;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=or;break;case"toggle":case"beforetoggle":Q=Re}var _e=(i&4)!==0,nt=!_e&&(t==="scroll"||t==="scrollend"),U=_e?G!==null?G+"Capture":null:G;_e=[];for(var P=F,H;P!==null;){var Z=P;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||U===null||(Z=si(P,U),Z!=null&&_e.push(Xl(P,Z,H))),nt)break;P=P.return}0<_e.length&&(G=new Q(G,ce,null,a,J),ee.push({event:G,listeners:_e}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==gl&&(ce=a.relatedTarget||a.fromElement)&&(xi(ce)||ce[Ii]))break e;if((Q||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(ce=a.relatedTarget||a.toElement,Q=F,ce=ce?xi(ce):null,ce!==null&&(nt=u(ce),_e=ce.tag,ce!==nt||_e!==5&&_e!==27&&_e!==6)&&(ce=null)):(Q=null,ce=F),Q!==ce)){if(_e=El,Z="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(_e=or,Z="onPointerLeave",U="onPointerEnter",P="pointer"),nt=Q==null?G:In(Q),H=ce==null?G:In(ce),G=new _e(Z,P+"leave",Q,a,J),G.target=nt,G.relatedTarget=H,Z=null,xi(J)===F&&(_e=new _e(U,P+"enter",ce,a,J),_e.target=H,_e.relatedTarget=nt,Z=_e),nt=Z,Q&&ce)t:{for(_e=ew,U=Q,P=ce,H=0,Z=U;Z;Z=_e(Z))H++;Z=0;for(var me=P;me;me=_e(me))Z++;for(;0<H-Z;)U=_e(U),H--;for(;0<Z-H;)P=_e(P),Z--;for(;H--;){if(U===P||P!==null&&U===P.alternate){_e=U;break t}U=_e(U),P=_e(P)}_e=null}else _e=null;Q!==null&&Pv(ee,G,Q,_e,!1),ce!==null&&nt!==null&&Pv(ee,nt,ce,_e,!0)}}e:{if(G=F?In(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var He=Zg;else if(Wg(G))if(ey)He=hS;else{He=uS;var fe=lS}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&qa(F.elementType)&&(He=Zg):He=cS;if(He&&(He=He(t,F))){Jg(ee,He,a,J);break e}fe&&fe(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&dl(G,"number",G.value)}switch(fe=F?In(F):window,t){case"focusin":(Wg(fe)||fe.contentEditable==="true")&&(Xa=fe,Zf=F,wl=null);break;case"focusout":wl=Zf=Xa=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,ly(ee,a,J);break;case"selectionchange":if(dS)break;case"keydown":case"keyup":ly(ee,a,J)}var xe;if(Ge)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else $a?Zs(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ui&&a.locale!=="ko"&&($a||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&$a&&(xe=_l()):(ki=J,yl="value"in ki?ki.value:ki.textContent,$a=!0)),fe=uh(F,Me),0<fe.length&&(Me=new Li(Me,t,null,a,J),ee.push({event:Me,listeners:fe}),xe?Me.data=xe:(xe=Ya(a),xe!==null&&(Me.data=xe)))),(xe=Hn?rS(t,a):sS(t,a))&&(Me=uh(F,"onBeforeInput"),0<Me.length&&(fe=new Li("onBeforeInput","beforeinput",null,a,J),ee.push({event:fe,listeners:Me}),fe.data=xe)),XS(ee,t,F,a,J)}Mv(ee,i)})}function Xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function uh(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=si(t,a),f!=null&&l.unshift(Xl(t,f,d)),f=si(t,i),f!=null&&l.push(Xl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function ew(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var A=a,O=A.alternate,F=A.stateNode;if(A=A.tag,O!==null&&O===l)break;A!==5&&A!==26&&A!==27||F===null||(O=F,f?(F=si(a,d),F!=null&&_.unshift(Xl(a,F,O))):f||(F=si(a,d),F!=null&&_.push(Xl(a,F,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var tw=/\r\n?/g,nw=/\u0000|\uFFFD/g;function jv(t){return(typeof t=="string"?t:""+t).replace(tw,`
`).replace(nw,"")}function Lv(t,i){return i=jv(i),jv(t)===i}function tt(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&_n(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,a,l);break;case"style":pl(t,l,d);break;case"data":if(i!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",f.name,f,null),tt(t,i,"formEncType",f.formEncType,f,null),tt(t,i,"formMethod",f.formMethod,f,null),tt(t,i,"formTarget",f.formTarget,f,null)):(tt(t,i,"encType",f.encType,f,null),tt(t,i,"method",f.method,f,null),tt(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ri);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),za(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":za(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,za(t,a,l))}}function wm(t,i,a,l,f,d){switch(a){case"style":pl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ll.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):za(t,a,l)}}}function Zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,d,_,a,null)}}f&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var A=d=_=f=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":_=J;break;case"checked":O=J;break;case"defaultChecked":F=J;break;case"value":d=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:tt(t,i,l,J,a,null)}}ac(t,d,A,O,F,_,f,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:tt(t,i,f,A,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Br(t,!!l,i,!1):a!=null&&Br(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:tt(t,i,_,A,a,null)}qr(t,l,f,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(t,i,O,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<$l.length;l++)Oe($l[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,F,l,a,null)}return;default:if(qa(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&wm(t,i,J,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&tt(t,i,A,l,a,null))}function iw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,O=null,F=null,J=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=ee;default:l.hasOwnProperty(Q)||tt(t,i,Q,null,l,ee)}}for(var G in l){var Q=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Q!=null||ee!=null))switch(G){case"type":d=Q;break;case"name":f=Q;break;case"checked":F=Q;break;case"defaultChecked":J=Q;break;case"value":_=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ee&&tt(t,i,G,Q,l,ee)}}Ba(t,_,A,O,F,J,d,f);return;case"select":Q=_=A=G=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Q=O;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":G=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==O&&tt(t,i,f,d,l,O)}i=A,a=_,l=Q,G!=null?Br(t,!!a,G,!1):!!l!=!!a&&(i!=null?Br(t,!!a,i,!0):Br(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(t,i,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&tt(t,i,_,f,l,d)}oc(t,G,Q);return;case"option":for(var ce in a)if(G=a[ce],a.hasOwnProperty(ce)&&G!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:tt(t,i,ce,null,l,G)}for(O in l)if(G=l[O],Q=a[O],l.hasOwnProperty(O)&&G!==Q&&(G!=null||Q!=null))switch(O){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:tt(t,i,O,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)G=a[_e],a.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&tt(t,i,_e,null,l,G);for(F in l)if(G=l[F],Q=a[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:tt(t,i,F,G,l,Q)}return;default:if(qa(i)){for(var nt in a)G=a[nt],a.hasOwnProperty(nt)&&G!==void 0&&!l.hasOwnProperty(nt)&&wm(t,i,nt,void 0,l,G);for(J in l)G=l[J],Q=a[J],!l.hasOwnProperty(J)||G===Q||G===void 0&&Q===void 0||wm(t,i,J,G,l,Q);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&tt(t,i,U,null,l,G);for(ee in l)G=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||G===Q||G==null&&Q==null||tt(t,i,ee,G,l,Q)}function Uv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&Uv(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],F=O.startTime;if(F>A)break;var J=O.transferSize,ee=O.initiatorType;J&&Uv(ee)&&(O=O.responseEnd,_+=J*(O<A?1:(A-F)/(O-F)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rm=null,Im=null;function ch(t){return t.nodeType===9?t:t.ownerDocument}function zv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Cm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xm=null;function sw(){var t=window.event;return t&&t.type==="popstate"?t===xm?!1:(xm=t,!0):(xm=null,!1)}var qv=typeof setTimeout=="function"?setTimeout:void 0,aw=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,ow=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(t){return Hv.resolve(null).then(t).catch(lw)}:qv;function lw(t){setTimeout(function(){throw t})}function hs(t){return t==="head"}function Fv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),So(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Wl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[Ci]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Wl(t.ownerDocument.body);a=f}while(a);So(i)}function Gv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Dm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dm(a),Ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function uw(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ci])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function cw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function Kv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Xn(t.nextSibling),t===null))return null;return t}function Nm(t){return t.data==="$?"||t.data==="$~"}function Om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Vm=null;function Qv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Xn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Yv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function $v(t,i,a){switch(i=ch(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ua(t)}var Wn=new Map,Xv=new Set;function hh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var br=ae.d;ae.d={f:fw,r:dw,D:mw,C:pw,L:gw,m:yw,X:vw,S:_w,M:Ew};function fw(){var t=br.f(),i=nh();return t||i}function dw(t){var i=zn(t);i!==null&&i.tag===5&&i.type==="form"?d_(i):br.r(t)}var To=typeof document>"u"?null:document;function Wv(t,i,a){var l=To;if(l&&typeof i=="string"&&i){var f=yn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Xv.has(f)||(Xv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Zt(i,"link",t),Ct(i),l.head.appendChild(i)))}}function mw(t){br.D(t),Wv("dns-prefetch",t,null)}function pw(t,i){br.C(t,i),Wv("preconnect",t,i)}function gw(t,i,a){br.L(t,i,a);var l=To;if(l&&t&&i){var f='link[rel="preload"][as="'+yn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+yn(a.imageSizes)+'"]')):f+='[href="'+yn(t)+'"]';var d=f;switch(i){case"style":d=bo(t);break;case"script":d=Ao(t)}Wn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Wn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Jl(d))||i==="script"&&l.querySelector(Zl(d))||(i=l.createElement("link"),Zt(i,"link",t),Ct(i),l.head.appendChild(i)))}}function yw(t,i){br.m(t,i);var a=To;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ao(t)}if(!Wn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Wn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(d)))return}l=a.createElement("link"),Zt(l,"link",t),Ct(l),a.head.appendChild(l)}}}function _w(t,i,a){br.S(t,i,a);var l=To;if(l&&t){var f=Di(l).hoistableStyles,d=bo(t);i=i||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Jl(d)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Wn.get(d))&&Mm(t,a);var O=_=l.createElement("link");Ct(O),Zt(O,"link",t),O._p=new Promise(function(F,J){O.onload=F,O.onerror=J}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,fh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function vw(t,i){br.X(t,i);var a=To;if(a&&t){var l=Di(a).hoistableScripts,f=Ao(t),d=l.get(f);d||(d=a.querySelector(Zl(f)),d||(t=b({src:t,async:!0},i),(i=Wn.get(f))&&km(t,i),d=a.createElement("script"),Ct(d),Zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Ew(t,i){br.M(t,i);var a=To;if(a&&t){var l=Di(a).hoistableScripts,f=Ao(t),d=l.get(f);d||(d=a.querySelector(Zl(f)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Wn.get(f))&&km(t,i),d=a.createElement("script"),Ct(d),Zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Jv(t,i,a,l){var f=(f=Ce.current)?hh(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=bo(a.href),a=Di(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bo(a.href);var d=Di(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Jl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(t,a),d||Tw(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ao(a),a=Di(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function bo(t){return'href="'+yn(t)+'"'}function Jl(t){return'link[rel="stylesheet"]['+t+"]"}function Zv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Tw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Zt(i,"link",a),Ct(i),t.head.appendChild(i))}function Ao(t){return'[src="'+yn(t)+'"]'}function Zl(t){return"script[async]"+t}function eE(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(l)return i.instance=l,Ct(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),Zt(l,"style",f),fh(l,a.precedence,t),i.instance=l;case"stylesheet":f=bo(a.href);var d=t.querySelector(Jl(f));if(d)return i.state.loading|=4,i.instance=d,Ct(d),d;l=Zv(a),(f=Wn.get(f))&&Mm(l,f),d=(t.ownerDocument||t).createElement("link"),Ct(d);var _=d;return _._p=new Promise(function(A,O){_.onload=A,_.onerror=O}),Zt(d,"link",l),i.state.loading|=4,fh(d,a.precedence,t),i.instance=d;case"script":return d=Ao(a.src),(f=t.querySelector(Zl(d)))?(i.instance=f,Ct(f),f):(l=a,(f=Wn.get(d))&&(l=b({},a),km(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ct(f),Zt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,fh(l,a.precedence,t));return i.instance}function fh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===i)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Mm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function km(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var dh=null;function tE(t,i,a){if(dh===null){var l=new Map,f=dh=new Map;f.set(a,l)}else f=dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ci]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function nE(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function bw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function iE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Aw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=bo(l.href),d=i.querySelector(Jl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=mh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Ct(d);return}d=i.ownerDocument||i,l=Zv(l),(f=Wn.get(f))&&Mm(l,f),d=d.createElement("link"),Ct(d);var _=d;_._p=new Promise(function(A,O){_.onload=A,_.onerror=O}),Zt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=mh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Pm=0;function Sw(t,i){return t.stylesheets&&t.count===0&&gh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&gh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Pm===0&&(Pm=62500*rw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&gh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Pm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ph=null;function gh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ph=new Map,i.forEach(ww,t),ph=null,mh.call(t))}function ww(t,i){if(!(i.state.loading&4)){var a=ph.get(t);if(a)var l=a.get(null);else{a=new Map,ph.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=mh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var eu={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Rw(t,i,a,l,f,d,_,A,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function rE(t,i,a,l,f,d,_,A,O,F,J,ee){return t=new Rw(t,i,a,_,O,F,J,ee,A),i=1,d===!0&&(i|=24),d=Dn(3,null,null,i),t.current=d,d.stateNode=t,i=pd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},vd(d),t}function sE(t){return t?(t=Za,t):Za}function aE(t,i,a,l,f,d){f=sE(f),l.context===null?l.context=f:l.pendingContext=f,l=es(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ts(t,l,i),a!==null&&(An(a,t,i),Ol(a,t,i))}function oE(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function jm(t,i){oE(t,i),(t=t.alternate)&&oE(t,i)}function lE(t){if(t.tag===13||t.tag===31){var i=na(t,67108864);i!==null&&An(i,t,67108864),jm(t,67108864)}}function uE(t){if(t.tag===13||t.tag===31){var i=kn();i=Fs(i);var a=na(t,i);a!==null&&An(a,t,i),jm(t,i)}}var yh=!0;function Iw(t,i,a,l){var f=$.T;$.T=null;var d=ae.p;try{ae.p=2,Lm(t,i,a,l)}finally{ae.p=d,$.T=f}}function Cw(t,i,a,l){var f=$.T;$.T=null;var d=ae.p;try{ae.p=8,Lm(t,i,a,l)}finally{ae.p=d,$.T=f}}function Lm(t,i,a,l){if(yh){var f=Um(l);if(f===null)Sm(t,i,l,_h,a),hE(t,l);else if(Dw(f,t,i,a,l))l.stopPropagation();else if(hE(t,l),i&4&&-1<xw.indexOf(t)){for(;f!==null;){var d=zn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Si(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var O=1<<31-vt(_);A.entanglements[1]|=O,_&=~O}Hi(d),(Ke&6)===0&&(eh=fn()+500,Yl(0))}}break;case 31:case 13:A=na(d,2),A!==null&&An(A,d,2),nh(),jm(d,2)}if(d=Um(l),d===null&&Sm(t,i,l,_h,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Sm(t,i,l,null,a)}}function Um(t){return t=Bn(t),zm(t)}var _h=null;function zm(t){if(_h=null,t=xi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return _h=t,null}function cE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zs()){case il:return 2;case rl:return 8;case Ur:case Kf:return 32;case Xu:return 268435456;default:return 32}default:return 32}}var Bm=!1,fs=null,ds=null,ms=null,tu=new Map,nu=new Map,ps=[],xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hE(t,i){switch(t){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":tu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(i.pointerId)}}function iu(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=zn(i),i!==null&&lE(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Dw(t,i,a,l,f){switch(i){case"focusin":return fs=iu(fs,t,i,a,l,f),!0;case"dragenter":return ds=iu(ds,t,i,a,l,f),!0;case"mouseover":return ms=iu(ms,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return tu.set(d,iu(tu.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,nu.set(d,iu(nu.get(d)||null,t,i,a,l,f)),!0}return!1}function fE(t){var i=xi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,ni(t.priority,function(){uE(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,ni(t.priority,function(){uE(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Um(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);gl=l,a.target.dispatchEvent(l),gl=null}else return i=zn(a),i!==null&&lE(i),t.blockedOn=a,!1;i.shift()}return!0}function dE(t,i,a){vh(t)&&a.delete(i)}function Nw(){Bm=!1,fs!==null&&vh(fs)&&(fs=null),ds!==null&&vh(ds)&&(ds=null),ms!==null&&vh(ms)&&(ms=null),tu.forEach(dE),nu.forEach(dE)}function Eh(t,i){t.blockedOn===i&&(t.blockedOn=null,Bm||(Bm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nw)))}var Th=null;function mE(t){Th!==t&&(Th=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Th===t&&(Th=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(zm(l||a)===null)continue;break}var d=zn(a);d!==null&&(t.splice(i,3),i-=3,Ud(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function So(t){function i(O){return Eh(O,t)}fs!==null&&Eh(fs,t),ds!==null&&Eh(ds,t),ms!==null&&Eh(ms,t),tu.forEach(i),nu.forEach(i);for(var a=0;a<ps.length;a++){var l=ps[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ps.length&&(a=ps[0],a.blockedOn===null);)fE(a),a.blockedOn===null&&ps.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[qt]||null;if(typeof d=="function")_||mE(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[qt]||null)A=_.formAction;else if(zm(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),mE(a)}}}function pE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function qm(t){this._internalRoot=t}bh.prototype.render=qm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=kn();aE(a,l,t,i,null,null)},bh.prototype.unmount=qm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;aE(t.current,2,null,t,null,null),nh(),i[Ii]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var i=nc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ps.length&&i!==0&&i<ps[a].priority;a++);ps.splice(a,0,t),a===0&&fE(t)}};var gE=e.version;if(gE!=="19.2.0")throw Error(s(527,gE,"19.2.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Ow={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{ei=Ah.inject(Ow),Yt=Ah}catch{}}return su.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=A_,d=S_,_=w_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=rE(t,1,!1,null,null,a,l,null,f,d,_,pE),t[Ii]=i.current,Am(t),new qm(i)},su.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=A_,_=S_,A=w_,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=rE(t,1,!0,i,a??null,l,f,O,d,_,A,pE),i.context=sE(null),a=i.current,l=kn(),l=Fs(l),f=es(l),f.callback=null,ts(a,f,l),a=l,i.current.lanes=a,qs(i,a),Hi(i),t[Ii]=i.current,Am(t),new bh(i)},su.version="19.2.0",su}var RE;function Hw(){if(RE)return Gm.exports;RE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gm.exports=qw(),Gm.exports}var Fw=Hw();const Gw=d0(Fw);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var IE="popstate";function Kw(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return hp("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:vu(o)}return Yw(e,n,null,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function _i(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qw(){return Math.random().toString(36).substring(2,10)}function CE(r,e){return{usr:r.state,key:r.key,idx:e}}function hp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ho(e):e,state:n,key:e&&e.key||s||Qw()}}function vu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ho(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Yw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let V=E(),Y=V==null?null:V-g;g=V,p&&p({action:m,location:B.location,delta:Y})}function S(V,Y){m="PUSH";let W=hp(B.location,V,Y);g=E()+1;let ie=CE(W,g),he=B.createHref(W);try{h.pushState(ie,"",he)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;o.location.assign(he)}u&&p&&p({action:m,location:B.location,delta:1})}function R(V,Y){m="REPLACE";let W=hp(B.location,V,Y);g=E();let ie=CE(W,g),he=B.createHref(W);h.replaceState(ie,"",he),u&&p&&p({action:m,location:B.location,delta:0})}function D(V){return $w(V)}let B={get action(){return m},get location(){return r(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(IE,b),p=V,()=>{o.removeEventListener(IE,b),p=null}},createHref(V){return e(o,V)},createURL:D,encodeLocation(V){let Y=D(V);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:R,go(V){return h.go(V)}};return B}function $w(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:vu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function m0(r,e,n="/"){return Xw(r,e,n,!1)}function Xw(r,e,n,s){let o=typeof e=="string"?Ho(e):e,u=Dr(o.pathname||"/",n);if(u==null)return null;let h=p0(r);Ww(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=l1(u);m=a1(h[p],g,s)}return m}function p0(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;dt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=Ir([s,E.relativePath]),S=n.concat(E);h.children&&h.children.length>0&&(dt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),p0(h.children,e,S,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:r1(b,h.index),routesMeta:S})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of g0(h.path))u(h,m,!0,p)}),e}function g0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=g0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Ww(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:s1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Jw=/^:[\w-]+$/,Zw=3,e1=2,t1=1,n1=10,i1=-2,xE=r=>r==="*";function r1(r,e){let n=r.split("/"),s=n.length;return n.some(xE)&&(s+=i1),e&&(s+=e1),n.filter(o=>!xE(o)).reduce((o,u)=>o+(Jw.test(u)?Zw:u===""?t1:n1),s)}function s1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function a1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Ir([u,b.pathname]),pathnameBase:f1(Ir([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=Ir([u,b.pathnameBase]))}return h}function Gh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=o1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},S)=>{if(E==="*"){let D=m[S]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const R=m[S];return b&&!R?g[E]=void 0:g[E]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function o1(r,e=!1,n=!0){_i(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function l1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _i(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Dr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function u1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ho(r):r;return{pathname:n?n.startsWith("/")?n:c1(n,e):e,search:d1(s),hash:m1(o)}}function c1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $m(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Up(r){let e=h1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function zp(r,e,n,s=!1){let o;typeof r=="string"?o=Ho(r):(o={...r},dt(!o.pathname||!o.pathname.includes("?"),$m("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),$m("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),$m("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=u1(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Ir=r=>r.join("/").replace(/\/\/+/g,"/"),f1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),d1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,m1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function p1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var y0=["POST","PUT","PATCH","DELETE"];new Set(y0);var g1=["GET",...y0];new Set(g1);var Fo=L.createContext(null);Fo.displayName="DataRouter";var yf=L.createContext(null);yf.displayName="DataRouterState";L.createContext(!1);var _0=L.createContext({isTransitioning:!1});_0.displayName="ViewTransition";var y1=L.createContext(new Map);y1.displayName="Fetchers";var _1=L.createContext(null);_1.displayName="Await";var Ti=L.createContext(null);Ti.displayName="Navigation";var Ou=L.createContext(null);Ou.displayName="Location";var er=L.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var Bp=L.createContext(null);Bp.displayName="RouteError";function v1(r,{relative:e}={}){dt(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Ti),{hash:o,pathname:u,search:h}=Vu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Ir([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Go(){return L.useContext(Ou)!=null}function ks(){return dt(Go(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Ou).location}var v0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E0(r){L.useContext(Ti).static||L.useLayoutEffect(r)}function qp(){let{isDataRoute:r}=L.useContext(er);return r?O1():E1()}function E1(){dt(Go(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Fo),{basename:e,navigator:n}=L.useContext(Ti),{matches:s}=L.useContext(er),{pathname:o}=ks(),u=JSON.stringify(Up(s)),h=L.useRef(!1);return E0(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(_i(h.current,v0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=zp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ir([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}L.createContext(null);function Vu(r,{relative:e}={}){let{matches:n}=L.useContext(er),{pathname:s}=ks(),o=JSON.stringify(Up(n));return L.useMemo(()=>zp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function T1(r,e){return T0(r,e)}function T0(r,e,n,s,o){dt(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Ti),{matches:h}=L.useContext(er),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let W=b&&b.path||"";b0(g,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=ks(),R;if(e){let W=typeof e=="string"?Ho(e):e;dt(E==="/"||W.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),R=W}else R=S;let D=R.pathname||"/",B=D;if(E!=="/"){let W=E.replace(/^\//,"").split("/");B="/"+D.replace(/^\//,"").split("/").slice(W.length).join("/")}let V=m0(r,{pathname:B});_i(b||V!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),_i(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=R1(V&&V.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Ir([E,u.encodeLocation?u.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:Ir([E,u.encodeLocation?u.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),h,n,s,o);return e&&Y?L.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},Y):Y}function b1(){let r=N1(),e=p1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var A1=L.createElement(b1,null),S1=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?L.createElement(er.Provider,{value:this.props.routeContext},L.createElement(Bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function w1({routeContext:r,match:e,children:n}){let s=L.useContext(Fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(er.Provider,{value:r},n)}function R1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let g=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);dt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:b,errors:S}=n,R=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!S||S[E.route.id]===void 0);if(E.route.lazy||R){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,b)=>{let S,R=!1,D=null,B=null;n&&(S=h&&E.route.id?h[E.route.id]:void 0,D=E.route.errorElement||A1,m&&(p<0&&b===0?(b0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,B=null):p===b&&(R=!0,B=E.route.hydrateFallbackElement||null)));let V=e.concat(u.slice(0,b+1)),Y=()=>{let W;return S?W=D:R?W=B:E.route.Component?W=L.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=g,L.createElement(w1,{match:E,routeContext:{outlet:g,matches:V,isDataRoute:n!=null},children:W})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?L.createElement(S1,{location:n.location,revalidation:n.revalidation,component:D,error:S,children:Y(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:s}):Y()},null)}function Hp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I1(r){let e=L.useContext(Fo);return dt(e,Hp(r)),e}function C1(r){let e=L.useContext(yf);return dt(e,Hp(r)),e}function x1(r){let e=L.useContext(er);return dt(e,Hp(r)),e}function Fp(r){let e=x1(r),n=e.matches[e.matches.length-1];return dt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function D1(){return Fp("useRouteId")}function N1(){let r=L.useContext(Bp),e=C1("useRouteError"),n=Fp("useRouteError");return r!==void 0?r:e.errors?.[n]}function O1(){let{router:r}=I1("useNavigate"),e=Fp("useNavigate"),n=L.useRef(!1);return E0(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{_i(n.current,v0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var DE={};function b0(r,e,n){!e&&!DE[r]&&(DE[r]=!0,_i(!1,n))}L.memo(V1);function V1({routes:r,future:e,state:n,unstable_onError:s}){return T0(r,void 0,n,s,e)}function fp({to:r,replace:e,state:n,relative:s}){dt(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Ti);_i(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(er),{pathname:h}=ks(),m=qp(),p=zp(r,Up(u),h,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Gt(r){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function M1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){dt(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Ho(n));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:S="default"}=n,R=L.useMemo(()=>{let D=Dr(p,h);return D==null?null:{location:{pathname:D,search:g,hash:E,state:b,key:S},navigationType:s}},[h,p,g,E,b,S,s]);return _i(R!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:L.createElement(Ti.Provider,{value:m},L.createElement(Ou.Provider,{children:e,value:R}))}function NE({children:r,location:e}){return T1(dp(r),e)}function dp(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,dp(s.props.children,u));return}dt(s.type===Gt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=dp(s.props.children,u)),n.push(h)}),n}var Oh="get",Vh="application/x-www-form-urlencoded";function _f(r){return r!=null&&typeof r.tagName=="string"}function k1(r){return _f(r)&&r.tagName.toLowerCase()==="button"}function P1(r){return _f(r)&&r.tagName.toLowerCase()==="form"}function j1(r){return _f(r)&&r.tagName.toLowerCase()==="input"}function L1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function U1(r,e){return r.button===0&&(!e||e==="_self")&&!L1(r)}var Sh=null;function z1(){if(Sh===null)try{new FormData(document.createElement("form"),0),Sh=!1}catch{Sh=!0}return Sh}var B1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(r){return r!=null&&!B1.has(r)?(_i(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):r}function q1(r,e){let n,s,o,u,h;if(P1(r)){let m=r.getAttribute("action");s=m?Dr(m,e):null,n=r.getAttribute("method")||Oh,o=Xm(r.getAttribute("enctype"))||Vh,u=new FormData(r)}else if(k1(r)||j1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Dr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Oh,o=Xm(r.getAttribute("formenctype"))||Xm(m.getAttribute("enctype"))||Vh,u=new FormData(m,r),!z1()){let{name:g,type:E,value:b}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(_f(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oh,s=null,o=Vh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function H1(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Dr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function F1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function K1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await F1(u,n);return h.links?h.links():[]}return[]}));return X1(s.flat(1).filter(G1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function OE(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Q1(r,e,{includeHydrateFallback:n}={}){return Y1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Y1(r){return[...new Set(r)]}function $1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function X1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify($1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function A0(){let r=L.useContext(Fo);return Gp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function W1(){let r=L.useContext(yf);return Gp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Kp=L.createContext(void 0);Kp.displayName="FrameworkContext";function S0(){let r=L.useContext(Kp);return Gp(r,"You must render this element inside a <HydratedRouter> element"),r}function J1(r,e){let n=L.useContext(Kp),[s,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,S=L.useRef(null);L.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let B=Y=>{Y.forEach(W=>{h(W.isIntersecting)})},V=new IntersectionObserver(B,{threshold:.5});return S.current&&V.observe(S.current),()=>{V.disconnect()}}},[r]),L.useEffect(()=>{if(s){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[s]);let R=()=>{o(!0)},D=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:au(m,R),onBlur:au(p,D),onMouseEnter:au(g,R),onMouseLeave:au(E,D),onTouchStart:au(b,R)}]:[!1,S,{}]}function au(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Z1({page:r,...e}){let{router:n}=A0(),s=L.useMemo(()=>m0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(tR,{page:r,matches:s,...e}):null}function eR(r){let{manifest:e,routeModules:n}=S0(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return K1(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function tR({page:r,matches:e,...n}){let s=ks(),{manifest:o,routeModules:u}=S0(),{basename:h}=A0(),{loaderData:m,matches:p}=W1(),g=L.useMemo(()=>OE(r,e,p,o,s,"data"),[r,e,p,o,s]),E=L.useMemo(()=>OE(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let D=new Set,B=!1;if(e.forEach(Y=>{let W=o.routes[Y.route.id];!W||!W.hasLoader||(!g.some(ie=>ie.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||W.hasClientLoader?B=!0:D.add(Y.route.id))}),D.size===0)return[];let V=H1(r,h,"data");return B&&D.size>0&&V.searchParams.set("_routes",e.filter(Y=>D.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[V.pathname+V.search]},[h,m,s,o,g,e,r,u]),S=L.useMemo(()=>Q1(E,o),[E,o]),R=eR(E);return L.createElement(L.Fragment,null,b.map(D=>L.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),S.map(D=>L.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),R.map(({key:D,link:B})=>L.createElement("link",{key:D,nonce:n.nonce,...B})))}function nR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w0&&(window.__reactRouterVersion="7.9.4")}catch{}function iR({basename:r,children:e,window:n}){let s=L.useRef();s.current==null&&(s.current=Kw({window:n,v5Compat:!0}));let o=s.current,[u,h]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(M1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var R0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,...S},R){let{basename:D}=L.useContext(Ti),B=typeof g=="string"&&R0.test(g),V,Y=!1;if(typeof g=="string"&&B&&(V=g,w0))try{let x=new URL(window.location.href),k=g.startsWith("//")?new URL(x.protocol+g):new URL(g),M=Dr(k.pathname,D);k.origin===x.origin&&M!=null?g=M+k.search+k.hash:Y=!0}catch{_i(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=v1(g,{relative:o}),[ie,he,ye]=J1(s,S),be=oR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function C(x){e&&e(x),x.defaultPrevented||be(x)}let I=L.createElement("a",{...S,...ye,href:V||W,onClick:Y||u?e:C,ref:nR(R,he),target:p,"data-discover":!B&&n==="render"?"true":void 0});return ie&&!B?L.createElement(L.Fragment,null,I,L.createElement(Z1,{page:W})):I});tn.displayName="Link";var rR=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let b=Vu(h,{relative:g.relative}),S=ks(),R=L.useContext(yf),{navigator:D,basename:B}=L.useContext(Ti),V=R!=null&&fR(b)&&m===!0,Y=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,W=S.pathname,ie=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(W=W.toLowerCase(),ie=ie?ie.toLowerCase():null,Y=Y.toLowerCase()),ie&&B&&(ie=Dr(ie,B)||ie);const he=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ye=W===Y||!o&&W.startsWith(Y)&&W.charAt(he)==="/",be=ie!=null&&(ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(Y.length)==="/"),C={isActive:ye,isPending:be,isTransitioning:V},I=ye?e:void 0,x;typeof s=="function"?x=s(C):x=[s,ye?"active":null,be?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(C):u;return L.createElement(tn,{...g,"aria-current":I,className:x,ref:E,style:k,to:h,viewTransition:m},typeof p=="function"?p(C):p)});rR.displayName="NavLink";var sR=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Oh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...S},R)=>{let D=cR(),B=hR(m,{relative:g}),V=h.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&R0.test(m),W=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let he=ie.nativeEvent.submitter,ye=he?.getAttribute("formmethod")||h;D(he||ie.currentTarget,{fetcherKey:e,method:ye,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return L.createElement("form",{ref:R,method:V,action:B,onSubmit:s?p:W,...S,"data-discover":!Y&&r==="render"?"true":void 0})});sR.displayName="Form";function aR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I0(r){let e=L.useContext(Fo);return dt(e,aR(r)),e}function oR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=qp(),p=ks(),g=Vu(r,{relative:u});return L.useCallback(E=>{if(U1(E,e)){E.preventDefault();let b=n!==void 0?n:vu(p)===vu(g);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var lR=0,uR=()=>`__${String(++lR)}__`;function cR(){let{router:r}=I0("useSubmit"),{basename:e}=L.useContext(Ti),n=D1();return L.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=q1(s,e);if(o.navigate===!1){let E=o.fetcherKey||uR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function hR(r,{relative:e}={}){let{basename:n}=L.useContext(Ti),s=L.useContext(er);dt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Vu(r||".",{relative:e})},h=ks();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ir([n,u.pathname])),vu(u)}function fR(r,{relative:e}={}){let n=L.useContext(_0);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=I0("useViewTransitionState"),o=Vu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Gh(o.pathname,h)!=null||Gh(o.pathname,u)!=null}const dR=()=>{};var VE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},mR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},x0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,R=g&63;p||(R=64,h||(S=64)),s.push(n[E],n[b],n[S],n[R])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(C0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):mR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new pR;const S=u<<2|m>>4;if(s.push(S),g!==64){const R=m<<4&240|g>>2;if(s.push(R),b!==64){const D=g<<6&192|b;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gR=function(r){const e=C0(r);return x0.encodeByteArray(e,!0)},Kh=function(r){return gR(r).replace(/\./g,"")},D0=function(r){try{return x0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=()=>yR().__FIREBASE_DEFAULTS__,vR=()=>{if(typeof process>"u"||typeof VE>"u")return;const r=VE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ER=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&D0(r[1]);return e&&JSON.parse(e)},vf=()=>{try{return dR()||_R()||vR()||ER()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},N0=r=>vf()?.emulatorHosts?.[r],O0=r=>{const e=N0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},V0=()=>vf()?.config,M0=r=>vf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kh(JSON.stringify(n)),Kh(JSON.stringify(h)),""].join(".")}const du={};function bR(){const r={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?r.emulator.push(e):r.prod.push(e);return r}function AR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let ME=!1;function Yp(r,e){if(typeof window>"u"||typeof document>"u"||!Ca(window.location.host)||du[r]===e||du[r]||ME)return;du[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=bR().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,R){S.setAttribute("width","24"),S.setAttribute("id",R),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{ME=!0,h()},S}function E(S,R){S.setAttribute("id",R),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=AR(s),R=n("text"),D=document.getElementById(R)||document.createElement("span"),B=n("learnmore"),V=document.getElementById(B)||document.createElement("a"),Y=n("preprendIcon"),W=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;m(ie),E(V,B);const he=g();p(W,Y),ie.append(W,D,V,he),document.body.appendChild(ie)}u?(D.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function wR(){const r=vf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function CR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function DR(){return!wR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NR(){try{return typeof indexedDB=="object"}catch{return!1}}function OR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="FirebaseError";class tr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=VR,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?MR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new tr(o,m,s)}}function MR(r,e){return r.replace(kR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const kR=/\{\$([^}]+)}/g;function PR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ba(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(kE(u)&&kE(h)){if(!ba(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function kE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ou(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function lu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function jR(r,e){const n=new LR(r,e);return n.subscribe.bind(n)}class LR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");UR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Wm),o.error===void 0&&(o.error=Wm),o.complete===void 0&&(o.complete=Wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r){return r&&r._delegate?r._delegate:r}class Cs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new TR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qR(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:BR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BR(r){return r===ya?void 0:r}function qR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const FR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},GR=ke.INFO,KR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},QR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=KR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $p{constructor(e){this.name=e,this._logLevel=GR,this._logHandler=QR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const YR=(r,e)=>e.some(n=>r instanceof n);let PE,jE;function $R(){return PE||(PE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XR(){return jE||(jE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P0=new WeakMap,mp=new WeakMap,j0=new WeakMap,Jm=new WeakMap,Xp=new WeakMap;function WR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(As(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&P0.set(n,r)}).catch(()=>{}),Xp.set(e,r),e}function JR(r){if(mp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});mp.set(r,e)}let pp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return mp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||j0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ZR(r){pp=r(pp)}function eI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Zm(this),e,...n);return j0.set(s,e.sort?e.sort():[e]),As(s)}:XR().includes(r)?function(...e){return r.apply(Zm(this),e),As(P0.get(this))}:function(...e){return As(r.apply(Zm(this),e))}}function tI(r){return typeof r=="function"?eI(r):(r instanceof IDBTransaction&&JR(r),YR(r,$R())?new Proxy(r,pp):r)}function As(r){if(r instanceof IDBRequest)return WR(r);if(Jm.has(r))return Jm.get(r);const e=tI(r);return e!==r&&(Jm.set(r,e),Xp.set(e,r)),e}const Zm=r=>Xp.get(r);function nI(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=As(h);return s&&h.addEventListener("upgradeneeded",p=>{s(As(h.result),p.oldVersion,p.newVersion,As(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const iI=["get","getKey","getAll","getAllKeys","count"],rI=["put","add","delete","clear"],ep=new Map;function LE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=rI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||iI.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return ep.set(e,u),u}ZR(r=>({...r,get:(e,n,s)=>LE(e,n)||r.get(e,n,s),has:(e,n)=>!!LE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function aI(r){return r.getComponent()?.type==="VERSION"}const gp="@firebase/app",UE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new $p("@firebase/app"),oI="@firebase/app-compat",lI="@firebase/analytics-compat",uI="@firebase/analytics",cI="@firebase/app-check-compat",hI="@firebase/app-check",fI="@firebase/auth",dI="@firebase/auth-compat",mI="@firebase/database",pI="@firebase/data-connect",gI="@firebase/database-compat",yI="@firebase/functions",_I="@firebase/functions-compat",vI="@firebase/installations",EI="@firebase/installations-compat",TI="@firebase/messaging",bI="@firebase/messaging-compat",AI="@firebase/performance",SI="@firebase/performance-compat",wI="@firebase/remote-config",RI="@firebase/remote-config-compat",II="@firebase/storage",CI="@firebase/storage-compat",xI="@firebase/firestore",DI="@firebase/ai",NI="@firebase/firestore-compat",OI="firebase",VI="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="[DEFAULT]",MI={[gp]:"fire-core",[oI]:"fire-core-compat",[uI]:"fire-analytics",[lI]:"fire-analytics-compat",[hI]:"fire-app-check",[cI]:"fire-app-check-compat",[fI]:"fire-auth",[dI]:"fire-auth-compat",[mI]:"fire-rtdb",[pI]:"fire-data-connect",[gI]:"fire-rtdb-compat",[yI]:"fire-fn",[_I]:"fire-fn-compat",[vI]:"fire-iid",[EI]:"fire-iid-compat",[TI]:"fire-fcm",[bI]:"fire-fcm-compat",[AI]:"fire-perf",[SI]:"fire-perf-compat",[wI]:"fire-rc",[RI]:"fire-rc-compat",[II]:"fire-gcs",[CI]:"fire-gcs-compat",[xI]:"fire-fst",[NI]:"fire-fst-compat",[DI]:"fire-vertex","fire-js":"fire-js",[OI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Map,kI=new Map,_p=new Map;function zE(r,e){try{r.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Aa(r){const e=r.name;if(_p.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,r);for(const n of Qh.values())zE(n,r);for(const n of kI.values())zE(n,r);return!0}function Ef(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function wn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new Mu("app","Firebase",PI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=VI;function L0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:yp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ss.create("bad-app-name",{appName:String(o)});if(n||(n=V0()),!n)throw Ss.create("no-options");const u=Qh.get(o);if(u){if(ba(n,u.options)&&ba(s,u.config))return u;throw Ss.create("duplicate-app",{appName:o})}const h=new HR(o);for(const p of _p.values())h.addComponent(p);const m=new jI(n,s,h);return Qh.set(o,m),m}function Wp(r=yp){const e=Qh.get(r);if(!e&&r===yp&&V0())return L0();if(!e)throw Ss.create("no-app",{appName:r});return e}function Qi(r,e,n){let s=MI[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(h.join(" "));return}Aa(new Cs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="firebase-heartbeat-database",UI=1,Eu="firebase-heartbeat-store";let tp=null;function U0(){return tp||(tp=nI(LI,UI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ss.create("idb-open",{originalErrorMessage:r.message})})),tp}async function zI(r){try{const n=(await U0()).transaction(Eu),s=await n.objectStore(Eu).get(z0(r));return await n.done,s}catch(e){if(e instanceof tr)Nr.warn(e.message);else{const n=Ss.create("idb-get",{originalErrorMessage:e?.message});Nr.warn(n.message)}}}async function BE(r,e){try{const s=(await U0()).transaction(Eu,"readwrite");await s.objectStore(Eu).put(e,z0(r)),await s.done}catch(n){if(n instanceof tr)Nr.warn(n.message);else{const s=Ss.create("idb-set",{originalErrorMessage:n?.message});Nr.warn(s.message)}}}function z0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=1024,qI=30;class HI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>qI){const o=KI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Nr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qE(),{heartbeatsToSend:n,unsentEntries:s}=FI(this._heartbeatsCache.heartbeats),o=Kh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Nr.warn(e),""}}}function qE(){return new Date().toISOString().substring(0,10)}function FI(r,e=BI){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),HE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),HE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class GI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NR()?OR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function HE(r){return Kh(JSON.stringify({version:2,heartbeats:r})).length}function KI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r){Aa(new Cs("platform-logger",e=>new sI(e),"PRIVATE")),Aa(new Cs("heartbeat",e=>new HI(e),"PRIVATE")),Qi(gp,UE,r),Qi(gp,UE,"esm2020"),Qi("fire-js","")}QI("");function B0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YI=B0,q0=new Mu("auth","Firebase",B0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new $p("@firebase/auth");function $I(r,...e){Yh.logLevel<=ke.WARN&&Yh.warn(`Auth (${xa}): ${r}`,...e)}function Mh(r,...e){Yh.logLevel<=ke.ERROR&&Yh.error(`Auth (${xa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(r,...e){throw Zp(r,...e)}function pi(r,...e){return Zp(r,...e)}function Jp(r,e,n){const s={...YI(),[e]:n};return new Mu("auth","Firebase",s).create(e,{appName:r.name})}function Cr(r){return Jp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XI(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Jn(r,"argument-error"),Jp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return q0.create(r,...e)}function Te(r,e,...n){if(!r)throw Zp(e,...n)}function wr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Mh(e),new Error(e)}function Or(r,e){r||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){return typeof self<"u"&&self.location?.href||""}function WI(){return FE()==="http:"||FE()==="https:"}function FE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WI()||IR()||"connection"in navigator)?navigator.onLine:!0}function ZI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=SR()||CR()}get(){return JI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(r,e){Or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nC=new Pu(3e4,6e4);function kr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Pr(r,e,n,s,o={}){return F0(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=ku({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return RR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ca(r.emulatorConfig.host)&&(g.credentials="include"),H0.fetch()(await G0(r,r.config.apiHost,n,m),g)})}async function F0(r,e,n){r._canInitEmulator=!1;const s={...eC,...e};try{const o=new rC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw wh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw wh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw wh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Jp(r,E,g);Jn(r,E)}}catch(o){if(o instanceof tr)throw o;Jn(r,"network-request-failed",{message:String(o)})}}async function ju(r,e,n,s,o={}){const u=await Pr(r,e,n,s,o);return"mfaPendingCredential"in u&&Jn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function G0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?eg(r.config,o):`${r.config.apiScheme}://${o}`;return tC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function iC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),nC.get())})}}function wh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(r,e,s);return o.customData._tokenResponse=n,o}function GE(r){return r!==void 0&&r.enterprise!==void 0}class sC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aC(r,e){return Pr(r,"GET","/v2/recaptchaConfig",kr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(r,e){return Pr(r,"POST","/v1/accounts:delete",e)}async function $h(r,e){return Pr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lC(r,e=!1){const n=pt(r),s=await n.getIdToken(e),o=tg(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:mu(np(o.auth_time)),issuedAtTime:mu(np(o.iat)),expirationTime:mu(np(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function np(r){return Number(r)*1e3}function tg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=D0(n);return o?JSON.parse(o):(Mh("Failed to decode base64 JWT payload"),null)}catch(o){return Mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function KE(r){const e=tg(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof tr&&uC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function uC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(r){const e=r.auth,n=await r.getIdToken(),s=await Tu(r,$h(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?K0(o.providerUserInfo):[],h=fC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function hC(r){const e=pt(r);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function K0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(r,e){const n=await F0(r,{},async()=>{const s=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await G0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ca(r.emulatorConfig.host)&&(p.credentials="include"),H0.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mC(r,e){return Pr(r,"POST","/v2/accounts:revokeToken",kr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=KE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await dC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Do;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class di{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new cC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Tu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lC(this,e)}reload(){return hC(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(Cr(this.auth));const e=await this.getIdToken();return await Tu(this,oC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:R,providerData:D,stsTokenManager:B}=n;Te(b&&B,e,"internal-error");const V=Do.fromJSON(this.name,B);Te(typeof b=="string",e,"internal-error"),ys(s,e.name),ys(o,e.name),Te(typeof S=="boolean",e,"internal-error"),Te(typeof R=="boolean",e,"internal-error"),ys(u,e.name),ys(h,e.name),ys(m,e.name),ys(p,e.name),ys(g,e.name),ys(E,e.name);const Y=new di({uid:b,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:R,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:V,createdAt:g,lastLoginAt:E});return D&&Array.isArray(D)&&(Y.providerData=D.map(W=>({...W}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new Do;o.updateFromServerResponse(n);const u=new di({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Xh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?K0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Do;m.updateFromIdToken(s);const p=new di({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;function Rr(r){Or(r instanceof Function,"Expected a class definition");let e=QE.get(r);return e?(Or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,QE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Q0.type="NONE";const YE=Q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(r,e,n){return`firebase:${r}:${e}:${n}`}class No{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=kh(this.userKey,o.apiKey,u),this.fullPersistenceKey=kh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await $h(this.auth,{idToken:e}).catch(()=>{});return n?di._fromGetAccountInfoResponse(this.auth,n,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new No(Rr(YE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Rr(YE);const h=kh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let b;if(typeof E=="string"){const S=await $h(e,{idToken:E}).catch(()=>{});if(!S)break;b=await di._fromGetAccountInfoResponse(e,S,E)}else b=di._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new No(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new No(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z0(e))return"Blackberry";if(eb(e))return"Webos";if($0(e))return"Safari";if((e.includes("chrome/")||X0(e))&&!e.includes("edge/"))return"Chrome";if(J0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Y0(r=hn()){return/firefox\//i.test(r)}function $0(r=hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X0(r=hn()){return/crios\//i.test(r)}function W0(r=hn()){return/iemobile/i.test(r)}function J0(r=hn()){return/android/i.test(r)}function Z0(r=hn()){return/blackberry/i.test(r)}function eb(r=hn()){return/webos/i.test(r)}function ng(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pC(r=hn()){return ng(r)&&!!window.navigator?.standalone}function gC(){return xR()&&document.documentMode===10}function tb(r=hn()){return ng(r)||J0(r)||eb(r)||Z0(r)||/windows phone/i.test(r)||W0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(r,e=[]){let n;switch(r){case"Browser":n=$E(hn());break;case"Worker":n=`${$E(hn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(r,e={}){return Pr(r,"GET","/v2/passwordPolicy",kr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=6;class EC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XE(this),this.idTokenSubscription=new XE(this),this.beforeStateQueue=new yC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await No.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $h(this,{idToken:e}),s=await di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(Cr(this));const n=e?pt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(Cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(Cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _C(this),n=new EC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await mC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$I(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jr(r){return pt(r)}class XE{constructor(e){this.auth=e,this.observer=null,this.addObserver=jR(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bC(r){Tf=r}function ib(r){return Tf.loadJS(r)}function AC(){return Tf.recaptchaEnterpriseScript}function SC(){return Tf.gapiScript}function wC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class RC{constructor(){this.enterprise=new IC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class IC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const CC="recaptcha-enterprise",rb="NO_RECAPTCHA";class xC{constructor(e){this.type=CC,this.auth=jr(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{aC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new sC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;GE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(rb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&GE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=AC();p.length!==0&&(p+=m),ib(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function WE(r,e,n,s=!1,o=!1){const u=new xC(r);let h;if(o)h=rb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Wh(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await WE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await WE(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(r,e){const n=Ef(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ba(u,e??{}))return o;Jn(o,"already-initialized")}return n.initialize({options:e})}function NC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Rr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function OC(r,e,n){const s=jr(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=sb(e),{host:h,port:m}=VC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(ba(g,s.config.emulator)&&ba(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ca(h)?(Qp(`${u}//${h}${p}`),Yp("Auth",!0)):MC()}function sb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function VC(r){const e=sb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:JE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:JE(h)}}}function JE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function MC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}async function kC(r,e){return Pr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(r,e){return ju(r,"POST","/v1/accounts:signInWithPassword",kr(r,e))}async function jC(r,e){return Pr(r,"POST","/v1/accounts:sendOobCode",kr(r,e))}async function LC(r,e){return jC(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(r,e){return ju(r,"POST","/v1/accounts:signInWithEmailLink",kr(r,e))}async function zC(r,e){return ju(r,"POST","/v1/accounts:signInWithEmailLink",kr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends ig{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new bu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new bu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wh(e,n,"signInWithPassword",PC);case"emailLink":return UC(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wh(e,s,"signUpPassword",kC);case"emailLink":return zC(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r,e){return ju(r,"POST","/v1/accounts:signInWithIdp",kr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="http://localhost";class Sa extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new Sa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Oo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:BC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ku(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HC(r){const e=ou(lu(r)).link,n=e?ou(lu(e)).deep_link_id:null,s=ou(lu(r)).deep_link_id;return(s?ou(lu(s)).link:null)||s||n||e||r}class rg{constructor(e){const n=ou(lu(e)),s=n.apiKey??null,o=n.oobCode??null,u=qC(n.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=HC(e);try{return new rg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,n){return bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rg.parseLink(n);return Te(s,"argument-error"),bu._fromEmailAndCode(e,s.code,s.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends sg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Lu{constructor(){super("facebook.com")}static credential(e){return Sa._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sa._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ki.credential(n,s)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Lu{constructor(){super("github.com")}static credential(e){return Sa._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Lu{constructor(){super("twitter.com")}static credential(e,n){return Sa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Es.credential(n,s)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(r,e){return ju(r,"POST","/v1/accounts:signUp",kr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await di._fromIdTokenResponse(e,s,o),h=ZE(s);return new wa({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=ZE(s);return new wa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function ZE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends tr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Jh(e,n,s,o)}}function ab(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(r,u,e,s):u})}async function GC(r,e,n=!1){const s=await Tu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return wa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(r,e,n=!1){const{auth:s}=r;if(wn(s.app))return Promise.reject(Cr(s));const o="reauthenticate";try{const u=await Tu(r,ab(s,o,e,r),n);Te(u.idToken,s,"internal-error");const h=tg(u.idToken);Te(h,s,"internal-error");const{sub:m}=h;return Te(r.uid===m,s,"user-mismatch"),wa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Jn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob(r,e,n=!1){if(wn(r.app))return Promise.reject(Cr(r));const s="signIn",o=await ab(r,s,e),u=await wa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function QC(r,e){return ob(jr(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lb(r){const e=jr(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YC(r,e,n){const s=jr(r);await Wh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",LC)}async function $C(r,e,n){if(wn(r.app))return Promise.reject(Cr(r));const s=jr(r),h=await Wh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&lb(r),p}),m=await wa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function XC(r,e,n){return wn(r.app)?Promise.reject(Cr(r)):QC(pt(r),Ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&lb(r),s})}function WC(r,e,n,s){return pt(r).onIdTokenChanged(e,n,s)}function JC(r,e,n){return pt(r).beforeAuthStateChanged(e,n)}function ZC(r,e,n,s){return pt(r).onAuthStateChanged(e,n,s)}function ub(r){return pt(r).signOut()}const Zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=1e3,tx=10;class hb extends cb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);gC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ex)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hb.type="LOCAL";const nx=hb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb extends cb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fb.type="SESSION";const db=fb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new bf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await ix(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=ag("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function sx(r){Yi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function ax(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ox(){return navigator?.serviceWorker?.controller||null}function lx(){return mb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firebaseLocalStorageDb",ux=1,ef="firebaseLocalStorage",gb="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Af(r,e){return r.transaction([ef],e?"readwrite":"readonly").objectStore(ef)}function cx(){const r=indexedDB.deleteDatabase(pb);return new Uu(r).toPromise()}function Tp(){const r=indexedDB.open(pb,ux);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ef,{keyPath:gb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ef)?e(s):(s.close(),await cx(),e(await Tp()))})})}async function eT(r,e,n){const s=Af(r,!0).put({[gb]:e,value:n});return new Uu(s).toPromise()}async function hx(r,e){const n=Af(r,!1).get(e),s=await new Uu(n).toPromise();return s===void 0?null:s.value}function tT(r,e){const n=Af(r,!0).delete(e);return new Uu(n).toPromise()}const fx=800,dx=3;class yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>dx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(lx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ax(),!this.activeServiceWorker)return;this.sender=new rx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ox()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await eT(e,Zh,"1"),await tT(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>eT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>hx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Af(o,!1).getAll();return new Uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yb.type="LOCAL";const mx=yb;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(r,e){return e?Rr(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function px(r){return ob(r.auth,new og(r),r.bypassAuthState)}function gx(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),KC(n,new og(r),r.bypassAuthState)}async function yx(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),GC(n,new og(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return px;case"linkViaPopup":case"linkViaRedirect":return yx;case"reauthViaPopup":case"reauthViaRedirect":return gx;default:Jn(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new Pu(2e3,1e4);async function vx(r,e,n){if(wn(r.app))return Promise.reject(pi(r,"operation-not-supported-in-this-environment"));const s=jr(r);XI(r,e,sg);const o=_b(s,n);return new _a(s,"signInViaPopup",e,o).executeNotNull()}class _a extends vb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_x.get())};e()}}_a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="pendingRedirect",Ph=new Map;class Tx extends vb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const s=await bx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bx(r,e){const n=wx(e),s=Sx(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Ax(r,e){Ph.set(r._key(),e)}function Sx(r){return Rr(r._redirectPersistence)}function wx(r){return kh(Ex,r.config.apiKey,r.name)}async function Rx(r,e,n=!1){if(wn(r.app))return Promise.reject(Cr(r));const s=jr(r),o=_b(s,e),h=await new Tx(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=600*1e3;class Cx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Eb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(pi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ix&&this.cachedEventUids.clear(),this.cachedEventUids.has(nT(e))}saveEventToCache(e){this.cachedEventUids.add(nT(e)),this.lastProcessedEventTime=Date.now()}}function nT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Eb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function xx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Eb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(r,e={}){return Pr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ox=/^https?/;async function Vx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Dx(r);for(const n of e)try{if(Mx(n))return}catch{}Jn(r,"unauthorized-domain")}function Mx(r){const e=vp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!Ox.test(n))return!1;if(Nx.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new Pu(3e4,6e4);function iT(){const r=Yi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Px(r){return new Promise((e,n)=>{function s(){iT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iT(),n(pi(r,"network-request-failed"))},timeout:kx.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)s();else{const o=wC("iframefcb");return Yi()[o]=()=>{gapi.load?s():n(pi(r,"network-request-failed"))},ib(`${SC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw jh=null,e})}let jh=null;function jx(r){return jh=jh||Px(r),jh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new Pu(5e3,15e3),Ux="__/auth/iframe",zx="emulator/auth/iframe",Bx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hx(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?eg(e,zx):`https://${r.config.authDomain}/${Ux}`,s={apiKey:e.apiKey,appName:r.name,v:xa},o=qx.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ku(s).slice(1)}`}async function Fx(r){const e=await jx(r),n=Yi().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:Hx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=pi(r,"network-request-failed"),m=Yi().setTimeout(()=>{u(h)},Lx.get());function p(){Yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kx=500,Qx=600,Yx="_blank",$x="http://localhost";class rT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xx(r,e,n,s=Kx,o=Qx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...Gx,width:s.toString(),height:o.toString(),top:u,left:h},g=hn().toLowerCase();n&&(m=X0(g)?Yx:n),Y0(g)&&(e=e||$x,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[R,D])=>`${S}${R}=${D},`,"");if(pC(g)&&m!=="_self")return Wx(e||"",m),new rT(null);const b=window.open(e||"",m,E);Te(b,r,"popup-blocked");try{b.focus()}catch{}return new rT(b)}function Wx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="__/auth/handler",Zx="emulator/auth/handler",e2=encodeURIComponent("fac");async function sT(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:xa,eventId:o};if(e instanceof sg){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",PR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof Lu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${e2}=${encodeURIComponent(p)}`:"";return`${t2(r)}?${ku(m).slice(1)}${g}`}function t2({config:r}){return r.emulator?eg(r,Zx):`https://${r.authDomain}/${Jx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class n2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=db,this._completeRedirectFn=Rx,this._overrideRedirectResult=Ax}async _openPopup(e,n,s,o){Or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await sT(e,n,s,vp(),o);return Xx(e,u,ag())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await sT(e,n,s,vp(),o);return sx(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Fx(e),s=new Cx(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},o=>{const u=o?.[0]?.[ip];u!==void 0&&n(!!u),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tb()||$0()||ng()}}const i2=n2;var aT="@firebase/auth",oT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a2(r){Aa(new Cs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nb(r)},g=new TC(s,o,u,p);return NC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Aa(new Cs("auth-internal",e=>{const n=jr(e.getProvider("auth").getImmediate());return(s=>new r2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(aT,oT,s2(r)),Qi(aT,oT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=300,l2=M0("authIdTokenMaxAge")||o2;let lT=null;const u2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>l2)return;const o=n?.token;lT!==o&&(lT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function c2(r=Wp()){const e=Ef(r,"auth");if(e.isInitialized())return e.getImmediate();const n=DC(r,{popupRedirectResolver:i2,persistence:[mx,nx,db]}),s=M0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=u2(u.toString());JC(n,h,()=>h(n.currentUser)),WC(n,m=>h(m))}}const o=N0("auth");return o&&OC(n,`http://${o}`),n}function h2(){return document.getElementsByTagName("head")?.[0]??document}bC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",h2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a2("Browser");var f2="firebase",d2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi(f2,d2,"app");var uT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,Tb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function x(){}x.prototype=I.prototype,C.F=I.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(k,M,z){for(var N=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)N[Qe-2]=arguments[Qe];return I.prototype[M].apply(k,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,I,x){x||(x=0);const k=Array(16);if(typeof I=="string")for(var M=0;M<16;++M)k[M]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(M=0;M<16;++M)k[M]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=C.g[0],x=C.g[1],M=C.g[2];let z=C.g[3],N;N=I+(z^x&(M^z))+k[0]+3614090360&4294967295,I=x+(N<<7&4294967295|N>>>25),N=z+(M^I&(x^M))+k[1]+3905402710&4294967295,z=I+(N<<12&4294967295|N>>>20),N=M+(x^z&(I^x))+k[2]+606105819&4294967295,M=z+(N<<17&4294967295|N>>>15),N=x+(I^M&(z^I))+k[3]+3250441966&4294967295,x=M+(N<<22&4294967295|N>>>10),N=I+(z^x&(M^z))+k[4]+4118548399&4294967295,I=x+(N<<7&4294967295|N>>>25),N=z+(M^I&(x^M))+k[5]+1200080426&4294967295,z=I+(N<<12&4294967295|N>>>20),N=M+(x^z&(I^x))+k[6]+2821735955&4294967295,M=z+(N<<17&4294967295|N>>>15),N=x+(I^M&(z^I))+k[7]+4249261313&4294967295,x=M+(N<<22&4294967295|N>>>10),N=I+(z^x&(M^z))+k[8]+1770035416&4294967295,I=x+(N<<7&4294967295|N>>>25),N=z+(M^I&(x^M))+k[9]+2336552879&4294967295,z=I+(N<<12&4294967295|N>>>20),N=M+(x^z&(I^x))+k[10]+4294925233&4294967295,M=z+(N<<17&4294967295|N>>>15),N=x+(I^M&(z^I))+k[11]+2304563134&4294967295,x=M+(N<<22&4294967295|N>>>10),N=I+(z^x&(M^z))+k[12]+1804603682&4294967295,I=x+(N<<7&4294967295|N>>>25),N=z+(M^I&(x^M))+k[13]+4254626195&4294967295,z=I+(N<<12&4294967295|N>>>20),N=M+(x^z&(I^x))+k[14]+2792965006&4294967295,M=z+(N<<17&4294967295|N>>>15),N=x+(I^M&(z^I))+k[15]+1236535329&4294967295,x=M+(N<<22&4294967295|N>>>10),N=I+(M^z&(x^M))+k[1]+4129170786&4294967295,I=x+(N<<5&4294967295|N>>>27),N=z+(x^M&(I^x))+k[6]+3225465664&4294967295,z=I+(N<<9&4294967295|N>>>23),N=M+(I^x&(z^I))+k[11]+643717713&4294967295,M=z+(N<<14&4294967295|N>>>18),N=x+(z^I&(M^z))+k[0]+3921069994&4294967295,x=M+(N<<20&4294967295|N>>>12),N=I+(M^z&(x^M))+k[5]+3593408605&4294967295,I=x+(N<<5&4294967295|N>>>27),N=z+(x^M&(I^x))+k[10]+38016083&4294967295,z=I+(N<<9&4294967295|N>>>23),N=M+(I^x&(z^I))+k[15]+3634488961&4294967295,M=z+(N<<14&4294967295|N>>>18),N=x+(z^I&(M^z))+k[4]+3889429448&4294967295,x=M+(N<<20&4294967295|N>>>12),N=I+(M^z&(x^M))+k[9]+568446438&4294967295,I=x+(N<<5&4294967295|N>>>27),N=z+(x^M&(I^x))+k[14]+3275163606&4294967295,z=I+(N<<9&4294967295|N>>>23),N=M+(I^x&(z^I))+k[3]+4107603335&4294967295,M=z+(N<<14&4294967295|N>>>18),N=x+(z^I&(M^z))+k[8]+1163531501&4294967295,x=M+(N<<20&4294967295|N>>>12),N=I+(M^z&(x^M))+k[13]+2850285829&4294967295,I=x+(N<<5&4294967295|N>>>27),N=z+(x^M&(I^x))+k[2]+4243563512&4294967295,z=I+(N<<9&4294967295|N>>>23),N=M+(I^x&(z^I))+k[7]+1735328473&4294967295,M=z+(N<<14&4294967295|N>>>18),N=x+(z^I&(M^z))+k[12]+2368359562&4294967295,x=M+(N<<20&4294967295|N>>>12),N=I+(x^M^z)+k[5]+4294588738&4294967295,I=x+(N<<4&4294967295|N>>>28),N=z+(I^x^M)+k[8]+2272392833&4294967295,z=I+(N<<11&4294967295|N>>>21),N=M+(z^I^x)+k[11]+1839030562&4294967295,M=z+(N<<16&4294967295|N>>>16),N=x+(M^z^I)+k[14]+4259657740&4294967295,x=M+(N<<23&4294967295|N>>>9),N=I+(x^M^z)+k[1]+2763975236&4294967295,I=x+(N<<4&4294967295|N>>>28),N=z+(I^x^M)+k[4]+1272893353&4294967295,z=I+(N<<11&4294967295|N>>>21),N=M+(z^I^x)+k[7]+4139469664&4294967295,M=z+(N<<16&4294967295|N>>>16),N=x+(M^z^I)+k[10]+3200236656&4294967295,x=M+(N<<23&4294967295|N>>>9),N=I+(x^M^z)+k[13]+681279174&4294967295,I=x+(N<<4&4294967295|N>>>28),N=z+(I^x^M)+k[0]+3936430074&4294967295,z=I+(N<<11&4294967295|N>>>21),N=M+(z^I^x)+k[3]+3572445317&4294967295,M=z+(N<<16&4294967295|N>>>16),N=x+(M^z^I)+k[6]+76029189&4294967295,x=M+(N<<23&4294967295|N>>>9),N=I+(x^M^z)+k[9]+3654602809&4294967295,I=x+(N<<4&4294967295|N>>>28),N=z+(I^x^M)+k[12]+3873151461&4294967295,z=I+(N<<11&4294967295|N>>>21),N=M+(z^I^x)+k[15]+530742520&4294967295,M=z+(N<<16&4294967295|N>>>16),N=x+(M^z^I)+k[2]+3299628645&4294967295,x=M+(N<<23&4294967295|N>>>9),N=I+(M^(x|~z))+k[0]+4096336452&4294967295,I=x+(N<<6&4294967295|N>>>26),N=z+(x^(I|~M))+k[7]+1126891415&4294967295,z=I+(N<<10&4294967295|N>>>22),N=M+(I^(z|~x))+k[14]+2878612391&4294967295,M=z+(N<<15&4294967295|N>>>17),N=x+(z^(M|~I))+k[5]+4237533241&4294967295,x=M+(N<<21&4294967295|N>>>11),N=I+(M^(x|~z))+k[12]+1700485571&4294967295,I=x+(N<<6&4294967295|N>>>26),N=z+(x^(I|~M))+k[3]+2399980690&4294967295,z=I+(N<<10&4294967295|N>>>22),N=M+(I^(z|~x))+k[10]+4293915773&4294967295,M=z+(N<<15&4294967295|N>>>17),N=x+(z^(M|~I))+k[1]+2240044497&4294967295,x=M+(N<<21&4294967295|N>>>11),N=I+(M^(x|~z))+k[8]+1873313359&4294967295,I=x+(N<<6&4294967295|N>>>26),N=z+(x^(I|~M))+k[15]+4264355552&4294967295,z=I+(N<<10&4294967295|N>>>22),N=M+(I^(z|~x))+k[6]+2734768916&4294967295,M=z+(N<<15&4294967295|N>>>17),N=x+(z^(M|~I))+k[13]+1309151649&4294967295,x=M+(N<<21&4294967295|N>>>11),N=I+(M^(x|~z))+k[4]+4149444226&4294967295,I=x+(N<<6&4294967295|N>>>26),N=z+(x^(I|~M))+k[11]+3174756917&4294967295,z=I+(N<<10&4294967295|N>>>22),N=M+(I^(z|~x))+k[2]+718787259&4294967295,M=z+(N<<15&4294967295|N>>>17),N=x+(z^(M|~I))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+z&4294967295}s.prototype.v=function(C,I){I===void 0&&(I=C.length);const x=I-this.blockSize,k=this.C;let M=this.h,z=0;for(;z<I;){if(M==0)for(;z<=x;)o(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<I;)if(k[M++]=C.charCodeAt(z++),M==this.blockSize){o(this,k),M=0;break}}else for(;z<I;)if(k[M++]=C[z++],M==this.blockSize){o(this,k),M=0;break}}this.h=M,this.o+=I},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;I=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=I&255,I/=256;for(this.v(C),C=Array(16),I=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)C[I++]=this.g[x]>>>k&255;return C};function u(C,I){var x=m;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=I(C)}function h(C,I){this.h=I;const x=[];let k=!0;for(let M=C.length-1;M>=0;M--){const z=C[M]|0;k&&z==I||(x[M]=z,k=!1)}this.g=x}var m={};function p(C){return-128<=C&&C<128?u(C,function(I){return new h([I|0],I<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return V(g(-C));const I=[];let x=1;for(let k=0;C>=x;k++)I[k]=C/x|0,x*=4294967296;return new h(I,0)}function E(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return V(E(C.substring(1),I));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(I,8));let k=b;for(let z=0;z<C.length;z+=8){var M=Math.min(8,C.length-z);const N=parseInt(C.substring(z,z+M),I);M<8?(M=g(Math.pow(I,M)),k=k.j(M).add(g(N))):(k=k.j(x),k=k.add(g(N)))}return k}var b=p(0),S=p(1),R=p(16777216);r=h.prototype,r.m=function(){if(B(this))return-V(this).m();let C=0,I=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);C+=(k>=0?k:4294967296+k)*I,I*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(B(this))return"-"+V(this).toString(C);const I=g(Math.pow(C,6));var x=this;let k="";for(;;){const M=he(x,I).g;x=Y(x,M.j(I));let z=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=M,D(x))return z+k;for(;z.length<6;)z="0"+z;k=z+k}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function B(C){return C.h==-1}r.l=function(C){return C=Y(this,C),B(C)?-1:D(C)?0:1};function V(C){const I=C.g.length,x=[];for(let k=0;k<I;k++)x[k]=~C.g[k];return new h(x,~C.h).add(S)}r.abs=function(){return B(this)?V(this):this},r.add=function(C){const I=Math.max(this.g.length,C.g.length),x=[];let k=0;for(let M=0;M<=I;M++){let z=k+(this.i(M)&65535)+(C.i(M)&65535),N=(z>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);k=N>>>16,z&=65535,N&=65535,x[M]=N<<16|z}return new h(x,x[x.length-1]&-2147483648?-1:0)};function Y(C,I){return C.add(V(I))}r.j=function(C){if(D(this)||D(C))return b;if(B(this))return B(C)?V(this).j(V(C)):V(V(this).j(C));if(B(C))return V(this.j(V(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const I=this.g.length+C.g.length,x=[];for(var k=0;k<2*I;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<C.g.length;M++){const z=this.i(k)>>>16,N=this.i(k)&65535,Qe=C.i(M)>>>16,ut=C.i(M)&65535;x[2*k+2*M]+=N*ut,W(x,2*k+2*M),x[2*k+2*M+1]+=z*ut,W(x,2*k+2*M+1),x[2*k+2*M+1]+=N*Qe,W(x,2*k+2*M+1),x[2*k+2*M+2]+=z*Qe,W(x,2*k+2*M+2)}for(C=0;C<I;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=I;C<2*I;C++)x[C]=0;return new h(x,0)};function W(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function ie(C,I){this.g=C,this.h=I}function he(C,I){if(D(I))throw Error("division by zero");if(D(C))return new ie(b,b);if(B(C))return I=he(V(C),I),new ie(V(I.g),V(I.h));if(B(I))return I=he(C,V(I)),new ie(V(I.g),I.h);if(C.g.length>30){if(B(C)||B(I))throw Error("slowDivide_ only works with positive integers.");for(var x=S,k=I;k.l(C)<=0;)x=ye(x),k=ye(k);var M=be(x,1),z=be(k,1);for(k=be(k,2),x=be(x,2);!D(k);){var N=z.add(k);N.l(C)<=0&&(M=M.add(x),z=N),k=be(k,1),x=be(x,1)}return I=Y(C,M.j(I)),new ie(M,I)}for(M=b;C.l(I)>=0;){for(x=Math.max(1,Math.floor(C.m()/I.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),z=g(x),N=z.j(I);B(N)||N.l(C)>0;)x-=k,z=g(x),N=z.j(I);D(z)&&(z=S),M=M.add(z),C=Y(C,N)}return new ie(M,C)}r.B=function(C){return he(this,C).h},r.and=function(C){const I=Math.max(this.g.length,C.g.length),x=[];for(let k=0;k<I;k++)x[k]=this.i(k)&C.i(k);return new h(x,this.h&C.h)},r.or=function(C){const I=Math.max(this.g.length,C.g.length),x=[];for(let k=0;k<I;k++)x[k]=this.i(k)|C.i(k);return new h(x,this.h|C.h)},r.xor=function(C){const I=Math.max(this.g.length,C.g.length),x=[];for(let k=0;k<I;k++)x[k]=this.i(k)^C.i(k);return new h(x,this.h^C.h)};function ye(C){const I=C.g.length+1,x=[];for(let k=0;k<I;k++)x[k]=C.i(k)<<1|C.i(k-1)>>>31;return new h(x,C.h)}function be(C,I){const x=I>>5;I%=32;const k=C.g.length-x,M=[];for(let z=0;z<k;z++)M[z]=I>0?C.i(z+x)>>>I|C.i(z+x+1)<<32-I:C.i(z+x);return new h(M,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Tb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ws=h}).apply(typeof uT<"u"?uT:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bb,uu,Ab,Lh,bp,Sb,wb,Rb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var y=0;y<c.length;++y){var T=c[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var T=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in T))break e;T=T[q]}c=c[c.length-1],w=T[c],y=y(w),y!=w&&y!=null&&e(T,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var T=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&T.push([w,y[w]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,T){return c.call.apply(c.bind,arguments)}function g(c,y,T){return g=p,g.apply(null,arguments)}function E(c,y){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function T(){}T.prototype=y.prototype,c.Z=y.prototype,c.prototype=new T,c.prototype.constructor=c,c.Ob=function(w,q,K){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return y.prototype[q].apply(w,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function R(c){const y=c.length;if(y>0){const T=Array(y);for(let w=0;w<y;w++)T[w]=c[w];return T}return[]}function D(c,y){for(let w=1;w<arguments.length;w++){const q=arguments[w];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=c.length||0;const K=q.length||0;c.length=T+K;for(let se=0;se<K;se++)c[T+se]=q[se]}else c.push(q)}}class B{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(c){h.setTimeout(()=>{throw c},0)}function Y(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,T){const w=ie.get();w.set(y,T),this.h?this.h.next=w:this.g=w,this.h=w}}var ie=new B(()=>new he,c=>c.reset());class he{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,be=!1,C=new W,I=()=>{const c=Promise.resolve(void 0);ye=()=>{c.then(x)}};function x(){for(var c;c=Y();){try{c.h.call(c.g)}catch(T){V(T)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}be=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const T=()=>{};h.addEventListener("test",T,y),h.removeEventListener("test",T,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Qe(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(Qe,M),Qe.prototype.init=function(c,y){const T=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(T=="mouseover"?y=c.fromElement:T=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),$=0;function ae(c,y,T,w,q){this.listener=c,this.proxy=null,this.src=y,this.type=T,this.capture=!!w,this.ha=q,this.key=++$,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function qe(c,y,T){for(const w in c)y.call(T,c[w],w,c)}function Ye(c,y){for(const T in c)y.call(void 0,c[T],T,c)}function j(c){const y={};for(const T in c)y[T]=c[T];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let T,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(T in w)c[T]=w[T];for(let K=0;K<te.length;K++)T=te[K],Object.prototype.hasOwnProperty.call(w,T)&&(c[T]=w[T])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,T,w,q){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=Ce(c,y,w,q);return se>-1?(y=c[se],T||(y.fa=!1)):(y=new ae(y,this.src,K,!!w,q),y.fa=T,c.push(y)),y};function Se(c,y){const T=y.type;if(T in c.g){var w=c.g[T],q=Array.prototype.indexOf.call(w,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(w,q,1),K&&(pe(y),c.g[T].length==0&&(delete c.g[T],c.h--))}}function Ce(c,y,T,w){for(let q=0;q<c.length;++q){const K=c[q];if(!K.da&&K.listener==y&&K.capture==!!T&&K.ha==w)return q}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Lt={};function ct(c,y,T,w,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)ct(c,y[K],T,w,q);return null}return T=nl(T),c&&c[ut]?c.J(y,T,m(w)?!!w.capture:!1,q):Ls(c,y,T,!1,w,q)}function Ls(c,y,T,w,q,K){if(!y)throw Error("Invalid event type");const se=m(q)?!!q.capture:!!q;let Re=Us(c);if(Re||(c[ze]=Re=new ue(c)),T=Re.add(y,T,w,se,K),T.proxy)return T;if(w=Ma(),T.proxy=w,w.src=c,w.listener=T,c.addEventListener)z||(q=se),q===void 0&&(q=!1),c.addEventListener(y.toString(),w,q);else if(c.attachEvent)c.attachEvent(bi(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ma(){function c(T){return y.call(c.src,c.listener,T)}const y=el;return c}function ka(c,y,T,w,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)ka(c,y[K],T,w,q);else w=m(w)?!!w.capture:!!w,T=nl(T),c&&c[ut]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],T=Ce(y,T,w,q),T>-1&&(pe(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Us(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,T,w,q)),(T=c>-1?y[c]:null)&&Pa(T))}function Pa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ut])Se(y.i,c);else{var T=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(T,w,c.capture):y.detachEvent?y.detachEvent(bi(T),w):y.addListener&&y.removeListener&&y.removeListener(w),(T=Us(y))?(Se(T,c),T.h==0&&(T.src=null,y[ze]=null)):pe(c)}}}function bi(c){return c in Lt?Lt[c]:Lt[c]="on"+c}function el(c,y){if(c.da)c=!0;else{y=new Qe(y,this);const T=c.listener,w=c.ha||c.src;c.fa&&Pa(c),c=T.call(w,y)}return c}function Us(c){return c=c[ze],c instanceof ue?c:null}var tl="__closure_events_fn_"+(Math.random()*1e9>>>0);function nl(c){return typeof c=="function"?c:(c[tl]||(c[tl]=function(y){return c.handleEvent(y)}),c[tl])}function wt(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}b(wt,k),wt.prototype[ut]=!0,wt.prototype.removeEventListener=function(c,y,T,w){ka(this,c,y,T,w)};function Ut(c,y){var T,w=c.G;if(w)for(T=[];w;w=w.G)T.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var q=y;y=new M(w,c),oe(y,q)}q=!0;let K,se;if(T)for(se=T.length-1;se>=0;se--)K=y.g=T[se],q=Lr(K,w,!0,y)&&q;if(K=y.g=c,q=Lr(K,w,!0,y)&&q,q=Lr(K,w,!1,y)&&q,T)for(se=0;se<T.length;se++)K=y.g=T[se],q=Lr(K,w,!1,y)&&q}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const T=c.g[y];for(let w=0;w<T.length;w++)pe(T[w]);delete c.g[y],c.h--}}this.G=null},wt.prototype.J=function(c,y,T,w){return this.i.add(String(c),y,!1,T,w)},wt.prototype.K=function(c,y,T,w){return this.i.add(String(c),y,!0,T,w)};function Lr(c,y,T,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==T){const Re=se.listener,Et=se.ha||se.src;se.fa&&Se(c.i,se),q=Re.call(Et,w)!==!1&&q}}return q&&!w.defaultPrevented}function Gf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function $u(c){c.g=Gf(()=>{c.g=null,c.i&&(c.i=!1,$u(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class fn extends k{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:$u(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(c){k.call(this),this.h=c,this.g={}}b(zs,k);var il=[];function rl(c){qe(c.g,function(y,T){this.g.hasOwnProperty(T)&&Pa(y)},c),c.g={}}zs.prototype.N=function(){zs.Z.N.call(this),rl(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ur=h.JSON.stringify,Kf=h.JSON.parse,Xu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Wu(){}function Ju(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){M.call(this,"d")}b(Yt,M);function Un(){M.call(this,"c")}b(Un,M);var vt={},Zu=null;function ja(){return Zu=Zu||new wt}vt.Ia="serverreachability";function ec(c){M.call(this,vt.Ia,c)}b(ec,M);function Ai(c){const y=ja();Ut(y,new ec(y))}vt.STAT_EVENT="statevent";function Bs(c,y){M.call(this,vt.STAT_EVENT,c),this.stat=y}b(Bs,M);function Rt(c){const y=ja();Ut(y,new Bs(y,c))}vt.Ja="timingevent";function Si(c,y){M.call(this,vt.Ja,c),this.size=y}b(Si,M);function wi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Qf(c,y,T,w,q,K){c.info(function(){if(c.g)if(K){var se="",Re=K.split("&");for(let Ge=0;Ge<Re.length;Ge++){var Et=Re[Ge].split("=");if(Et.length>1){const ht=Et[0];Et=Et[1];const Hn=ht.split("_");se=Hn.length>=2&&Hn[1]=="type"?se+(ht+"="+Et+"&"):se+(ht+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+T+`
`+se})}function tc(c,y,T,w,q,K,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+T+`
`+K+" "+se})}function Ri(c,y,T,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Yf(c,T)+(w?" "+w:"")})}function qs(c,y){c.info(function(){return"TIMEOUT: "+y})}ti.prototype.info=function(){};function Yf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var T=K[c];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return Ur(K)}catch{return y}}var Hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},al;function Fs(){}b(Fs,Wu),Fs.prototype.g=function(){return new XMLHttpRequest},al=new Fs;function rr(c){return encodeURIComponent(String(c))}function nc(c){var y=1;c=c.split(":");const T=[];for(;y>0&&c.length;)T.push(c.shift()),y--;return c.length&&T.push(c.join(":")),T}function ni(c,y,T,w){this.j=c,this.i=y,this.l=T,this.S=w||1,this.V=new zs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var It={},qt={};function Ii(c,y,T){c.M=1,c.A=Gs(xt(y)),c.u=T,c.R=!0,La(c,null)}function La(c,y){c.F=Date.now(),Ci(c),c.B=xt(c.A);var T=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),qa(T.i,"t",w),c.C=0,T=c.j.L,c.h=new ii,c.g=yc(c.j,T?y:null,!c.u),c.P>0&&(c.O=new fn(g(c.Y,c,c.g),c.P)),y=c.V,T=c.g,w=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(il[0]=q.toString()),q=il);for(let K=0;K<q.length;K++){const se=ct(T,q[K],w||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Ai(),Qf(c.i,c.v,c.B,c.l,c.S,c.u)}ni.prototype.ba=function(c){c=c.target;const y=this.O;y&&ai(c)==3?y.j():this.Y(c)},ni.prototype.Y=function(c){try{if(c==this.g)e:{const Re=ai(this.g),Et=this.g.ya(),Ge=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Re!=4||Et==7||(Et==8||Ge<=0?Ai(3):Ai(2)),xi(this);var y=this.g.ca();this.X=y;var T=$f(this);if(this.o=y==200,tc(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var K=w;break t}}K=null}if(c=K)Ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Di(this,c);else{this.o=!1,this.m=3,Rt(12),In(this),zn(this);break e}}if(this.R){c=!0;let ht;for(;!this.K&&this.C<T.length;)if(ht=rc(this,T),ht==qt){Re==4&&(this.m=4,Rt(14),c=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==It){this.m=4,Rt(15),Ri(this.i,this.l,T,"[Invalid Chunk]"),c=!1;break}else Ri(this.i,this.l,ht,null),Di(this,ht);if(ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||T.length!=0||this.h.h||(this.m=1,Rt(16),c=!1),this.o=this.o&&c,!c)Ri(this.i,this.l,T,"[Invalid Chunked Response]"),In(this),zn(this);else if(T.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Tl(se),se.P=!0,Rt(11))}}else Ri(this.i,this.l,T,null),Di(this,T);Re==4&&In(this),this.o&&!this.K&&(Re==4?dc(this.j,this):(this.o=!1,Ci(this)))}else ar(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),In(this),zn(this)}}}catch{}finally{}};function $f(c){if(!ic(c))return c.g.la();const y=$t(c.g);if(y==="")return"";let T="";const w=y.length,q=ai(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return In(c),zn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<w;K++)c.h.h=!0,T+=c.h.i.decode(y[K],{stream:!(q&&K==w-1)});return y.length=0,c.h.g+=T,c.C=0,c.h.g}function ic(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function rc(c,y){var T=c.C,w=y.indexOf(`
`,T);return w==-1?qt:(T=Number(y.substring(T,w)),isNaN(T)?It:(w+=1,w+T>y.length?qt:(y=y.slice(w,w+T),c.C=w+T,y)))}ni.prototype.cancel=function(){this.K=!0,In(this)};function Ci(c){c.T=Date.now()+c.H,Ua(c,c.H)}function Ua(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=wi(g(c.aa,c),y)}function xi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}ni.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(qs(this.i,this.B),this.M!=2&&(Ai(),Rt(17)),In(this),this.m=2,zn(this)):Ua(this,this.T-c)};function zn(c){c.j.I==0||c.K||dc(c.j,c)}function In(c){xi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,rl(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Di(c,y){try{var T=c.j;if(T.I!=0&&(T.g==c||Oi(T.h,c))){if(!c.L&&Oi(T.h,c)&&T.I==3){try{var w=T.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<c.F)Qa(T),Qr(T);else break e;Js(T),Rt(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=wi(g(T.Va,T),6e3));Ni(T.h)<=1&&T.ta&&(T.ta=void 0)}else Li(T,11)}else if((c.L||T.g==c)&&Qa(T),!N(y))for(q=T.Ba.g.parse(y),y=0;y<q.length;y++){let Ge=q[y];const ht=Ge[0];if(!(ht<=T.K))if(T.K=ht,Ge=Ge[1],T.I==2)if(Ge[0]=="c"){T.M=Ge[1],T.ba=Ge[2];const Hn=Ge[3];Hn!=null&&(T.ka=Hn,T.j.info("VER="+T.ka));const Ui=Ge[4];Ui!=null&&(T.za=Ui,T.j.info("SVER="+T.za));const oi=Ge[5];oi!=null&&typeof oi=="number"&&oi>0&&(w=1.5*oi,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const li=c.g;if(li){const Zs=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zs){var K=w.h;K.g||Zs.indexOf("spdy")==-1&&Zs.indexOf("quic")==-1&&Zs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ul(K,K.h),K.h=null))}if(w.G){const Ya=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(w.wa=Ya,$e(w.J,w.G,Ya))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-c.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var se=c;if(w.na=gc(w,w.L?w.ba:null,w.W),se.L){cl(w.h,se);var Re=se,Et=w.O;Et&&(Re.H=Et),Re.D&&(xi(Re),Ci(Re)),w.g=se}else hc(w);T.i.length>0&&ji(T)}else Ge[0]!="stop"&&Ge[0]!="close"||Li(T,7);else T.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Li(T,7):vl(T):Ge[0]!="noop"&&T.l&&T.l.qa(Ge),T.A=0)}}Ai(4)}catch{}}var Ct=class{constructor(c,y){this.g=c,this.map=y}};function ol(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ll(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ni(c){return c.h?1:c.g?c.g.size:0}function Oi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ul(c,y){c.g?c.g.add(y):c.h=y}function cl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ol.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function hl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const T of c.g.values())y=y.concat(T.G);return y}return R(c.i)}var sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(c,y){if(c){c=c.split("&");for(let T=0;T<c.length;T++){const w=c[T].indexOf("=");let q,K=null;w>=0?(q=c[T].substring(0,w),K=c[T].substring(w+1)):q=c[T],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Cn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Cn?(this.l=c.l,Ht(this,c.j),this.o=c.o,this.g=c.g,zr(this,c.u),this.h=c.h,fl(this,uc(c.i)),this.m=c.m):c&&(y=String(c).match(sc))?(this.l=!1,Ht(this,y[1]||"",!0),this.o=Vi(y[2]||""),this.g=Vi(y[3]||"",!0),zr(this,y[4]),this.h=Vi(y[5]||"",!0),fl(this,y[6]||"",!0),this.m=Vi(y[7]||"")):(this.l=!1,this.i=new qr(null,this.l))}Cn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ks(y,Ba,!0),":");var T=this.g;return(T||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ks(y,Ba,!0),"@"),c.push(rr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&c.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&c.push("/"),c.push(Ks(T,T.charAt(0)=="/"?dl:ac,!0))),(T=this.i.toString())&&c.push("?",T),(T=this.m)&&c.push("#",Ks(T,oc)),c.join("")},Cn.prototype.resolve=function(c){const y=xt(this);let T=!!c.j;T?Ht(y,c.j):T=!!c.o,T?y.o=c.o:T=!!c.g,T?y.g=c.g:T=c.u!=null;var w=c.h;if(T)zr(y,c.u);else if(T=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=y.h.lastIndexOf("/");q!=-1&&(w=y.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let se=0;se<q.length;){const Re=q[se++];Re=="."?w&&se==q.length&&K.push(""):Re==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&se==q.length&&K.push("")):(K.push(Re),w=!0)}w=K.join("/")}else w=q}return T?y.h=w:T=c.i.toString()!=="",T?fl(y,uc(c.i)):T=!!c.m,T&&(y.m=c.m),y};function xt(c){return new Cn(c)}function Ht(c,y,T){c.j=T?Vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function zr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function fl(c,y,T){y instanceof qr?(c.i=y,Ha(c.i,c.l)):(T||(y=Ks(y,Br)),c.i=new qr(y,c.l))}function $e(c,y,T){c.i.set(y,T)}function Gs(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ks(c,y,T){return typeof c=="string"?(c=encodeURI(c).replace(y,yn),T&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ba=/[#\/\?@]/g,ac=/[#\?:]/g,dl=/[#\?]/g,Br=/[#\?@]/g,oc=/#/g;function qr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&za(c.i,function(y,T){c.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}r=qr.prototype,r.add=function(c,y){_n(this),this.i=null,c=Hr(this,c);let T=this.g.get(c);return T||this.g.set(c,T=[]),T.push(y),this.h+=1,this};function lc(c,y){_n(c),y=Hr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ml(c,y){return _n(c),y=Hr(c,y),c.g.has(y)}r.forEach=function(c,y){_n(this),this.g.forEach(function(T,w){T.forEach(function(q){c.call(y,q,w,this)},this)},this)};function pl(c,y){_n(c);let T=[];if(typeof y=="string")ml(c,y)&&(T=T.concat(c.g.get(Hr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)T=T.concat(c[y]);return T}r.set=function(c,y){return _n(this),this.i=null,c=Hr(this,c),ml(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=pl(this,c),c.length>0?String(c[0]):y):y};function qa(c,y,T){lc(c,y),T.length>0&&(c.i=null,c.g.set(Hr(c,y),R(T)),c.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var T=y[w];const q=rr(T);T=pl(this,T);for(let K=0;K<T.length;K++){let se=q;T[K]!==""&&(se+="="+rr(T[K])),c.push(se)}}return this.i=c.join("&")};function uc(c){const y=new qr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Hr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ha(c,y){y&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(T,w){const q=w.toLowerCase();w!=q&&(lc(this,w),qa(this,q,T))},c)),c.j=y}function ri(c,y){const T=new ti;if(h.Image){const w=new Image;w.onload=E(Bn,T,"TestLoadImage: loaded",!0,y,w),w.onerror=E(Bn,T,"TestLoadImage: error",!1,y,w),w.onabort=E(Bn,T,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(Bn,T,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function gl(c,y){const T=new ti,w=new AbortController,q=setTimeout(()=>{w.abort(),Bn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(q),K.ok?Bn(T,"TestPingServer: ok",!0,y):Bn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Bn(T,"TestPingServer: error",!1,y)})}function Bn(c,y,T,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(T)}catch{}}function Fr(){this.g=new Xu}function Mi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Mi,Wu),Mi.prototype.g=function(){return new Qs(this.i,this.h)};function Qs(c,y){wt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Qs,wt),r=Qs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,si(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Gr(this):si(this),this.readyState==3&&Fa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Gr(this))},r.Na=function(c){this.g&&(this.response=c,Gr(this))},r.ga=function(){this.g&&Gr(this)};function Gr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,si(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,c.push(T[0]+": "+T[1]),T=y.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qn(c){let y="";return qe(c,function(T,w){y+=w,y+=":",y+=T,y+=`\r
`}),y}function Ys(c,y,T){e:{for(w in T){var w=!1;break e}w=!0}w||(T=qn(T),typeof c=="string"?T!=null&&rr(T):$e(c,y,T))}function Ze(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,wt);var ki=/^https?$/i,yl=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():al.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){$s(this,K);return}if(c=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)T.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())T.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(yl,y,void 0)>=0)||w||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of T)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){$s(this,K)}};function $s(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,_l(c),sr(c)}function _l(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ut(this,"complete"),Ut(this,"abort"),sr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Xs(this):this.Xa())},r.Xa=function(){Xs(this)};function Xs(c){if(c.h&&typeof u<"u"){if(c.v&&ai(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ut(c,"readystatechange"),ai(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var w;if(w=K===0){let se=String(c.D).match(sc)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),w=!ki.test(se?se.toLowerCase():"")}T=w}if(T)Ut(c,"complete"),Ut(c,"success");else{c.o=6;try{var q=ai(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",_l(c)}}finally{sr(c)}}}}function sr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const T=c.g;c.g=null,y||Ut(c,"ready");try{T.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ai(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Kf(y)}};function $t(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ar(c){const y={};c=(c.g&&ai(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(N(c[w]))continue;var T=nc(c[w]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=y[q]||[];y[q]=K,K.push(T)}Ye(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(c,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[c]||y}function Kr(c){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,c),this.Za=Pi("retryDelaySeedMs",1e4,c),this.Ta=Pi("forwardChannelMaxRetries",2,c),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(c&&c.concurrentRequestLimit),this.Ba=new Fr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Kr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,T,w){Rt(0),this.W=c,this.H=y||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=gc(this,null,this.W),ji(this)};function vl(c){if(Ga(c),c.I==3){var y=c.V++,T=xt(c.J);if($e(T,"SID",c.M),$e(T,"RID",y),$e(T,"TYPE","terminate"),Ws(c,T),y=new ni(c,c.j,y),y.M=2,y.A=Gs(xt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&h.Image&&(new Image().src=y.A,T=!0),T||(y.g=yc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ci(y)}pc(c)}function Qr(c){c.g&&(Tl(c),c.g.cancel(),c.g=null)}function Ga(c){Qr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Qa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function ji(c){if(!ll(c.h)&&!c.m){c.m=!0;var y=c.Ea;ye||I(),be||(ye(),be=!0),C.add(y,c),c.D=0}}function Ka(c,y){return Ni(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=wi(g(c.Ea,c,y),mc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new ni(this,this.j,c);let K=this.o;if(this.U&&(K?(K=j(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=cc(this,q,y),T=xt(this.J),$e(T,"RID",c),$e(T,"CVER",22),this.G&&$e(T,"X-HTTP-Session-Id",this.G),Ws(this,T),K&&(this.R?y="headers="+rr(qn(K))+"&"+y:this.u&&Ys(T,this.u,K)),ul(this.h,q),this.Ra&&$e(T,"TYPE","init"),this.S?($e(T,"$req",y),$e(T,"SID","null"),q.U=!0,Ii(q,T,null)):Ii(q,T,y),this.I=2}}else this.I==3&&(c?El(this,c):this.i.length==0||ll(this.h)||El(this))};function El(c,y){var T;y?T=y.l:T=c.V++;const w=xt(c.J);$e(w,"SID",c.M),$e(w,"RID",T),$e(w,"AID",c.K),Ws(c,w),c.u&&c.o&&Ys(w,c.u,c.o),T=new ni(c,c.j,T,c.D+1),c.u===null&&(T.J=c.o),y&&(c.i=y.G.concat(c.i)),y=cc(c,T,1e3),T.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ul(c.h,T),Ii(T,w,y)}function Ws(c,y){c.H&&qe(c.H,function(T,w){$e(y,w,T)}),c.l&&qe({},function(T,w){$e(y,w,T)})}function cc(c,y,T){T=Math.min(c.i.length,T);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var q=c.i;let Re=-1;for(;;){const Et=["count="+T];Re==-1?T>0?(Re=q[0].g,Et.push("ofs="+Re)):Re=0:Et.push("ofs="+Re);let Ge=!0;for(let ht=0;ht<T;ht++){var K=q[ht].g;const Hn=q[ht].map;if(K-=Re,K<0)Re=Math.max(0,q[ht].g-100),Ge=!1;else try{K="req"+K+"_"||"";try{var se=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Ui,oi]of se){let li=oi;m(oi)&&(li=Ur(oi)),Et.push(K+Ui+"="+encodeURIComponent(li))}}catch(Ui){throw Et.push(K+"type="+encodeURIComponent("_badmap")),Ui}}catch{w&&w(Hn)}}if(Ge){se=Et.join("&");break e}}se=void 0}return c=c.i.splice(0,T),y.G=c,se}function hc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ye||I(),be||(ye(),be=!0),C.add(y,c),c.A=0}}function Js(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=wi(g(c.Da,c),mc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=wi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Qr(this),fc(this))};function Tl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function fc(c){c.g=new ni(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=xt(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),Ws(c,y),c.u&&c.o&&Ys(y,c.u,c.o),c.O&&(c.g.H=c.O);var T=c.g;c=c.ba,T.M=1,T.A=Gs(xt(y)),T.u=null,T.R=!0,La(T,c)}r.Va=function(){this.C!=null&&(this.C=null,Qr(this),Js(this),Rt(19))};function Qa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function dc(c,y){var T=null;if(c.g==y){Qa(c),Tl(c),c.g=null;var w=2}else if(Oi(c.h,y))T=y.G,cl(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;w=ja(),Ut(w,new Si(w,T)),ji(c)}else hc(c);else if(q=y.m,q==3||q==0&&y.X>0||!(w==1&&Ka(c,y)||w==2&&Js(c)))switch(T&&T.length>0&&(y=c.h,y.i=y.i.concat(T)),q){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function mc(c,y){let T=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(T*=2),T*y}function Li(c,y){if(c.j.info("Error code "+y),y==2){var T=g(c.bb,c),w=c.Ua;const q=!w;w=new Cn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ht(w,"https"),Gs(w),q?ri(w.toString(),T):gl(w.toString(),T)}else Rt(2);c.I=0,c.l&&c.l.pa(y),pc(c),Ga(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function pc(c){if(c.I=0,c.ja=[],c.l){const y=hl(c.h);(y.length!=0||c.i.length!=0)&&(D(c.ja,y),D(c.ja,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.oa()}}function gc(c,y,T){var w=T instanceof Cn?xt(T):new Cn(T);if(w.g!="")y&&(w.g=y+"."+w.g),zr(w,w.u);else{var q=h.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new Cn(null);w&&Ht(K,w),y&&(K.g=y),q&&zr(K,q),T&&(K.h=T),w=K}return T=c.G,y=c.wa,T&&y&&$e(w,T,y),$e(w,"VER",c.ka),Ws(c,w),w}function yc(c,y,T){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Ze(new Mi({ab:T})):new Ze(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _c(){}r=_c.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Yr(){}Yr.prototype.g=function(c,y){return new dn(c,y)};function dn(c,y){wt.call(this),this.g=new Kr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new or(this)}b(dn,wt),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){vl(this.g)},dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var T={};T.__data__=c,c=T}else this.v&&(T={},T.__data__=Ur(c),c=T);y.i.push(new Ct(y.Ya++,c)),y.I==3&&ji(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,dn.Z.N.call(this)};function vc(c){Yt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const T in y){c=T;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(vc,Yt);function Ec(){Un.call(this),this.status=1}b(Ec,Un);function or(c){this.g=c}b(or,_c),or.prototype.ra=function(){Ut(this.g,"a")},or.prototype.qa=function(c){Ut(this.g,new vc(c))},or.prototype.pa=function(c){Ut(this.g,new Ec)},or.prototype.oa=function(){Ut(this.g,"b")},Yr.prototype.createWebChannel=Yr.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,Rb=function(){return new Yr},wb=function(){return ja()},Sb=vt,bp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,Lh=Hs,sl.COMPLETE="complete",Ab=sl,Ju.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",wt.prototype.listen=wt.prototype.J,uu=Ju,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,bb=Ze}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const cT="@firebase/firestore",hT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new $p("@firebase/firestore");function wo(){return Ra.logLevel}function le(r,...e){if(Ra.logLevel<=ke.DEBUG){const n=e.map(lg);Ra.debug(`Firestore (${Qo}): ${r}`,...n)}}function Vr(r,...e){if(Ra.logLevel<=ke.ERROR){const n=e.map(lg);Ra.error(`Firestore (${Qo}): ${r}`,...n)}}function ko(r,...e){if(Ra.logLevel<=ke.WARN){const n=e.map(lg);Ra.warn(`Firestore (${Qo}): ${r}`,...n)}}function lg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Ib(r,s,n)}function Ib(r,e,n){let s=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Vr(s),new Error(s)}function Ue(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Ib(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class p2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class g2{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string",31837,{l:s}),new Cb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class y2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new y2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=E2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function Ap(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return rp(o)===rp(u)?Pe(o,u):rp(o)?1:-1}return Pe(r.length,e.length)}const T2=55296,b2=57343;function rp(r){const e=r.charCodeAt(0);return e>=T2&&e<=b2}function Po(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="__name__";class Gi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ge(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Gi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Gi.isNumericId(e),o=Gi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Gi.extractNumericId(e).compare(Gi.extractNumericId(n)):Ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ws.fromString(e.substring(4,e.length-2))}}class Je extends Gi{construct(e,n,s){return new Je(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new re(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const A2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Gi{construct(e,n,s){return new rn(e,n,s)}static isValidIdentifier(e){return A2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dT}static keyField(){return new rn([dT])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new re(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new re(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new re(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Je.fromString(e))}static fromName(e){return new de(Je.fromString(e).popFirst(5))}static empty(){return new de(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(r,e,n){if(!n)throw new re(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function S2(r,e,n,s){if(e===!0&&s===!0)throw new re(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function mT(r){if(!de.isDocumentKey(r))throw new re(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pT(r){if(de.isDocumentKey(r))throw new re(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Db(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Sf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ge(12329,{type:typeof r})}function cn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new re(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sf(r);throw new re(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(r,e){const n={typeString:r};return e&&(n.value=e),n}function zu(r,e){if(!Db(r))throw new re(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new re(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=-62135596800,yT=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*yT);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gT)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yT}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:jt("string",ot._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new ot(0,0))}static max(){return new Ee(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=-1;function w2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new xs(o,de.empty(),e)}function R2(r){return new xs(r.readTime,r.key,Au)}class xs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new xs(Ee.min(),de.empty(),Au)}static max(){return new xs(Ee.max(),de.empty(),Au)}}function I2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==C2)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function D2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-1;function Bu(r){return r==null}function tf(r){return r===0&&1/r==-1/0}function N2(r){return typeof r=="number"&&Number.isInteger(r)&&!tf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="";function O2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=_T(e)),e=V2(r.get(n),e);return _T(e)}function V2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Nb:n+="";break;default:n+=u}}return n}function _T(r){return r+Nb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ps(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function M2(r,e){const n=[];for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.push(e(r[s],s,r));return n}function Ob(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ih(this.root,e,this.comparator,!0)}}class Ih{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??nn.RED,this.left=o??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new nn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ET(this.data.getIterator())}getIteratorFrom(e){return new ET(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class ET{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Bt(rn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Vb("Invalid base64 string: "+u):u}})(e);return new an(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const k2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(r){if(Ue(!!r,39018),typeof r=="string"){let e=0;const n=k2.exec(r);if(Ue(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(r.seconds),nanos:St(r.nanos)}}function St(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ns(r){return typeof r=="string"?an.fromBase64String(r):an.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="server_timestamp",kb="__type__",Pb="__previous_value__",jb="__local_write_time__";function Rf(r){return(r?.mapValue?.fields||{})[kb]?.stringValue===Mb}function If(r){const e=r.mapValue.fields[Pb];return Rf(e)?If(e):e}function Su(r){const e=Ds(r.mapValue.fields[jb].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const nf="(default)";class wu{constructor(e,n){this.projectId=e,this.database=n||nf}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===nf}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="__type__",j2="__max__",Ch={mapValue:{}},Ub="__vector__",rf="value";function Os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rf(r)?4:U2(r)?9007199254740991:L2(r)?10:11:ge(28295,{value:r})}function Ji(r,e){if(r===e)return!0;const n=Os(r);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Su(r).isEqual(Su(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ds(o.timestampValue),m=Ds(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ns(o.bytesValue).isEqual(Ns(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=St(o.doubleValue),m=St(u.doubleValue);return h===m?tf(h)===tf(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Po(r.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(vT(h)!==vT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ji(h[p],m[p])))return!1;return!0})(r,e);default:return ge(52216,{left:r})}}function Ru(r,e){return(r.values||[]).find((n=>Ji(n,e)))!==void 0}function jo(r,e){if(r===e)return 0;const n=Os(r),s=Os(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=St(u.integerValue||u.doubleValue),p=St(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return TT(r.timestampValue,e.timestampValue);case 4:return TT(Su(r),Su(e));case 5:return Ap(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=Ns(u),p=Ns(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pe(m[g],p[g]);if(E!==0)return E}return Pe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Pe(St(u.latitude),St(h.latitude));return m!==0?m:Pe(St(u.longitude),St(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return bT(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[rf]?.arrayValue,E=p[rf]?.arrayValue,b=Pe(g?.values?.length||0,E?.values?.length||0);return b!==0?b:bT(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Ch.mapValue&&h===Ch.mapValue)return 0;if(u===Ch.mapValue)return 1;if(h===Ch.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=Ap(p[b],E[b]);if(S!==0)return S;const R=jo(m[p[b]],g[E[b]]);if(R!==0)return R}return Pe(p.length,E.length)})(r.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function TT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=Ds(r),s=Ds(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function bT(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=jo(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function Lo(r){return Sp(r)}function Sp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ds(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ns(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Sp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Sp(n.fields[h])}`;return o+"}"})(r.mapValue):ge(61005,{value:r})}function Uh(r){switch(Os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=If(r);return e?16+Uh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Uh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ps(s.fields,((u,h)=>{o+=u.length+Uh(h)})),o})(r.mapValue);default:throw ge(13486,{value:r})}}function sf(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function wp(r){return!!r&&"integerValue"in r}function hg(r){return!!r&&"arrayValue"in r}function AT(r){return!!r&&"nullValue"in r}function ST(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zh(r){return!!r&&"mapValue"in r}function L2(r){return(r?.mapValue?.fields||{})[Lb]?.stringValue===Ub}function pu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ps(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=pu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(r.arrayValue.values[n]);return e}return{...r}}function U2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===j2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=rn.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=pu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ps(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new pn(pu(this.value))}}function zb(r){const e=[];return Ps(r.fields,((n,s)=>{const o=new rn([n]);if(zh(s)){const u=zb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Qt(e,0,Ee.min(),Ee.min(),Ee.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new Qt(e,1,n,Ee.min(),s,o,0)}static newNoDocument(e,n){return new Qt(e,2,n,Ee.min(),Ee.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,Ee.min(),Ee.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){this.position=e,this.inclusive=n}}function wT(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(h.referenceValue),n.key):s=jo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function RT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ji(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function z2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{}class Pt extends Bb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new q2(e,n,s):n==="array-contains"?new G2(e,s):n==="in"?new K2(e,s):n==="not-in"?new Q2(e,s):n==="array-contains-any"?new Y2(e,s):new Pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new H2(e,s):new F2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jo(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends Bb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vi(e,n)}matches(e){return qb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qb(r){return r.op==="and"}function Hb(r){return B2(r)&&qb(r)}function B2(r){for(const e of r.filters)if(e instanceof vi)return!1;return!0}function Rp(r){if(r instanceof Pt)return r.field.canonicalString()+r.op.toString()+Lo(r.value);if(Hb(r))return r.filters.map((e=>Rp(e))).join(",");{const e=r.filters.map((n=>Rp(n))).join(",");return`${r.op}(${e})`}}function Fb(r,e){return r instanceof Pt?(function(s,o){return o instanceof Pt&&s.op===o.op&&s.field.isEqual(o.field)&&Ji(s.value,o.value)})(r,e):r instanceof vi?(function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&Fb(h,o.filters[m])),!0):!1})(r,e):void ge(19439)}function Gb(r){return r instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(r):r instanceof vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Gb).join(" ,")+"}"})(r):"Filter"}class q2 extends Pt{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class H2 extends Pt{constructor(e,n){super(e,"in",n),this.keys=Kb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class F2 extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=Kb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Kb(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class G2 extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hg(n)&&Ru(n.arrayValue,this.value)}}class K2 extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}}class Q2 extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ru(this.value.arrayValue,n)}}class Y2 extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ru(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function IT(r,e=null,n=[],s=[],o=null,u=null,h=null){return new $2(r,e,n,s,o,u,h)}function fg(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Rp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Bu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Lo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Lo(s))).join(",")),e.Te=n}return e.Te}function dg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!z2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Fb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!RT(r.startAt,e.startAt)&&RT(r.endAt,e.endAt)}function Ip(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function X2(r,e,n,s,o,u,h,m){return new Da(r,e,n,s,o,u,h,m)}function Cf(r){return new Da(r)}function CT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function mg(r){return r.collectionGroup!==null}function Vo(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Bt(rn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Iu(u,s))})),n.has(rn.keyField().canonicalString())||e.Ie.push(new Iu(rn.keyField(),s))}return e.Ie}function $i(r){const e=Ae(r);return e.Ee||(e.Ee=Qb(e,Vo(r))),e.Ee}function W2(r){const e=Ae(r);return e.de||(e.de=Qb(e,r.explicitOrderBy)),e.de}function Qb(r,e){if(r.limitType==="F")return IT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Iu(o.field,u)}));const n=r.endAt?new Uo(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Uo(r.startAt.position,r.startAt.inclusive):null;return IT(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Cp(r,e){const n=r.filters.concat([e]);return new Da(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function af(r,e,n){return new Da(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function xf(r,e){return dg($i(r),$i(e))&&r.limitType===e.limitType}function Yb(r){return`${fg($i(r))}|lt:${r.limitType}`}function Ro(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Gb(o))).join(", ")}]`),Bu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${s})`})($i(r))}; limitType=${r.limitType})`}function Df(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Vo(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=wT(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Vo(s),o)||s.endAt&&!(function(h,m,p){const g=wT(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Vo(s),o))})(r,e)}function J2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $b(r){return(e,n)=>{let s=!1;for(const o of Vo(r)){const u=Z2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Z2(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?jo(p,g):ge(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ge(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Ob(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new gt(de.comparator);function Mr(){return eD}const Xb=new gt(de.comparator);function cu(...r){let e=Xb;for(const n of r)e=e.insert(n.key,n);return e}function Wb(r){let e=Xb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function va(){return gu()}function Jb(){return gu()}function gu(){return new Na((r=>r.toString()),((r,e)=>r.isEqual(e)))}const tD=new gt(de.comparator),nD=new Bt(de.comparator);function je(...r){let e=nD;for(const n of r)e=e.add(n);return e}const iD=new Bt(Pe);function rD(){return iD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(e)?"-0":e}}function Zb(r){return{integerValue:""+r}}function sD(r,e){return N2(e)?Zb(e):pg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this._=void 0}}function aD(r,e,n){return r instanceof Cu?(function(o,u){const h={fields:{[kb]:{stringValue:Mb},[jb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Rf(u)&&(u=If(u)),u&&(h.fields[Pb]=u),{mapValue:h}})(n,e):r instanceof xu?tA(r,e):r instanceof Du?nA(r,e):(function(o,u){const h=eA(o,u),m=xT(h)+xT(o.Ae);return wp(h)&&wp(o.Ae)?Zb(m):pg(o.serializer,m)})(r,e)}function oD(r,e,n){return r instanceof xu?tA(r,e):r instanceof Du?nA(r,e):n}function eA(r,e){return r instanceof of?(function(s){return wp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Cu extends Nf{}class xu extends Nf{constructor(e){super(),this.elements=e}}function tA(r,e){const n=iA(e);for(const s of r.elements)n.some((o=>Ji(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Du extends Nf{constructor(e){super(),this.elements=e}}function nA(r,e){let n=iA(e);for(const s of r.elements)n=n.filter((o=>!Ji(o,s)));return{arrayValue:{values:n}}}class of extends Nf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xT(r){return St(r.integerValue||r.doubleValue)}function iA(r){return hg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.field=e,this.transform=n}}function uD(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof xu&&o instanceof xu||s instanceof Du&&o instanceof Du?Po(s.elements,o.elements,Ji):s instanceof of&&o instanceof of?Ji(s.Ae,o.Ae):s instanceof Cu&&o instanceof Cu})(r.transform,e.transform)}class cD{constructor(e,n){this.version=e,this.transformResults=n}}class sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Of{}function rA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Vf(r.key,sn.none()):new qu(r.key,r.data,sn.none());{const n=r.data,s=pn.empty();let o=new Bt(rn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new js(r.key,s,new jn(o.toArray()),sn.none())}}function hD(r,e,n){r instanceof qu?(function(o,u,h){const m=o.value.clone(),p=NT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof js?(function(o,u,h){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=NT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(sA(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function yu(r,e,n,s){return r instanceof qu?(function(u,h,m,p){if(!Bh(u.precondition,h))return m;const g=u.value.clone(),E=OT(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof js?(function(u,h,m,p){if(!Bh(u.precondition,h))return m;const g=OT(u.fieldTransforms,p,h),E=h.data;return E.setAll(sA(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,h,m){return Bh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function fD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=eA(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function DT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Po(s,o,((u,h)=>uD(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class qu extends Of{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class js extends Of{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function sA(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function NT(r,e,n){const s=new Map;Ue(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,oD(h,m,n[o]))}return s}function OT(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,aD(u,h,e))}return s}class Vf extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aA extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&hD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=yu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=yu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Jb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=rA(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,((n,s)=>DT(n,s)))&&Po(this.baseMutations,e.baseMutations,((n,s)=>DT(n,s)))}}class gg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ue(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return tD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new gg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,s){this.alias=e,this.aggregateType=n,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Be;function oA(r){switch(r){case X.OK:return ge(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ge(15467,{code:r})}}function lA(r){if(r===void 0)return Vr("GRPC error has no .code"),X.UNKNOWN;switch(r){case kt.OK:return X.OK;case kt.CANCELLED:return X.CANCELLED;case kt.UNKNOWN:return X.UNKNOWN;case kt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case kt.INTERNAL:return X.INTERNAL;case kt.UNAVAILABLE:return X.UNAVAILABLE;case kt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case kt.NOT_FOUND:return X.NOT_FOUND;case kt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case kt.ABORTED:return X.ABORTED;case kt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case kt.DATA_LOSS:return X.DATA_LOSS;default:return ge(39323,{code:r})}}(Be=kt||(kt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new ws([4294967295,4294967295],0);function VT(r){const e=yD().encode(r),n=new Tb;return n.update(e),new Uint8Array(n.digest())}function MT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ws([n,s],0),new ws([o,u],0)]}class yg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(s<0)throw new hu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ws.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ws.fromNumber(s)));return o.compare(_D)===1&&(o=new ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VT(e),[s,o]=MT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new yg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=VT(e),[s,o]=MT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Mf(Ee.min(),o,new gt(Pe),Mr(),je())}}class Hu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Hu(s,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class uA{constructor(e,n){this.targetId=e,this.Ce=n}}class cA{constructor(e,n,s=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class kT{constructor(){this.ve=0,this.Fe=PT(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ge(38017,{changeType:u})}})),new Hu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=PT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mr(),this.Je=xh(),this.He=xh(),this.Ye=new gt(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Ip(u))if(s===0){const h=new de(u.path);this.et(n,h,Qt.newNoDocument(h,Ee.min()))}else Ue(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Ns(s).toUint8Array()}catch(p){if(p instanceof Vb)return ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new yg(h,o,u)}catch(p){return ko(p instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Ip(m.target)){const p=new de(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Qt.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=je();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Mf(e,n,this.Ye,this.je,s);return this.je=Mr(),this.Je=xh(),this.He=xh(),this.Ye=new gt(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new kT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xh(){return new gt(de.comparator)}function PT(){return new gt(de.comparator)}const ED={asc:"ASCENDING",desc:"DESCENDING"},TD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bD={and:"AND",or:"OR"};class AD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xp(r,e){return r.useProto3Json||Bu(e)?e:{value:e}}function lf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function SD(r,e){return lf(r,e.toTimestamp())}function Ln(r){return Ue(!!r,49232),Ee.fromTimestamp((function(n){const s=Ds(n);return new ot(s.seconds,s.nanos)})(r))}function _g(r,e){return Dp(r,e).canonicalString()}function Dp(r,e){const n=(function(o){return new Je(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function fA(r){const e=Je.fromString(r);return Ue(vA(e),10190,{key:e.toString()}),e}function uf(r,e){return _g(r.databaseId,e.path)}function _u(r,e){const n=fA(e);if(n.get(1)!==r.databaseId.projectId)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(mA(n))}function dA(r,e){return _g(r.databaseId,e)}function wD(r){const e=fA(r);return e.length===4?Je.emptyPath():mA(e)}function Np(r){return new Je(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mA(r){return Ue(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jT(r,e,n){return{name:uf(r,e),fields:n.value.mapValue.fields}}function RD(r,e){return"found"in e?(function(s,o){Ue(!!o.found,43571),o.found.name,o.found.updateTime;const u=_u(s,o.found.name),h=Ln(o.found.updateTime),m=o.found.createTime?Ln(o.found.createTime):Ee.min(),p=new pn({mapValue:{fields:o.found.fields}});return Qt.newFoundDocument(u,h,m,p)})(r,e):"missing"in e?(function(s,o){Ue(!!o.missing,3894),Ue(!!o.readTime,22933);const u=_u(s,o.missing),h=Ln(o.readTime);return Qt.newNoDocument(u,h)})(r,e):ge(7234,{result:e})}function ID(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ge(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ue(E===void 0||typeof E=="string",58123),an.fromBase64String(E||"")):(Ue(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),an.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?X.UNKNOWN:lA(g.code);return new re(E,g.message||"")})(h);n=new cA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_u(r,s.document.name),u=Ln(s.document.updateTime),h=s.document.createTime?Ln(s.document.createTime):Ee.min(),m=new pn({mapValue:{fields:s.document.fields}}),p=Qt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new qh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_u(r,s.document),u=s.readTime?Ln(s.readTime):Ee.min(),h=Qt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new qh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_u(r,s.document),u=s.removedTargetIds||[];n=new qh([],u,o,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new gD(o,u),m=s.targetId;n=new uA(m,h)}}return n}function pA(r,e){let n;if(e instanceof qu)n={update:jT(r,e.key,e.value)};else if(e instanceof Vf)n={delete:uf(r,e.key)};else if(e instanceof js)n={update:jT(r,e.key,e.data),updateMask:PD(e.fieldMask)};else{if(!(e instanceof aA))return ge(16599,{Vt:e.type});n={verify:uf(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Cu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Du)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof of)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ge(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:SD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ge(27497)})(r,e.precondition)),n}function CD(r,e){return r&&r.length>0?(Ue(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Ln(o.updateTime):Ln(u);return h.isEqual(Ee.min())&&(h=Ln(u)),new cD(h,o.transformResults||[])})(n,e)))):[]}function xD(r,e){return{documents:[dA(r,e.path)]}}function gA(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dA(r,o);const u=(function(g){if(g.length!==0)return _A(vi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(S){return{field:Ts(S.field),direction:VD(S.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=xp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function DD(r,e,n,s){const{ft:o,parent:u}=gA(r,e),h={},m=[];let p=0;return n.forEach((g=>{const E="aggregate_"+p++;h[E]=g.alias,g.aggregateType==="count"?m.push({alias:E,count:{}}):g.aggregateType==="avg"?m.push({alias:E,avg:{field:Ts(g.fieldPath)}}):g.aggregateType==="sum"&&m.push({alias:E,sum:{field:Ts(g.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:m,structuredQuery:o.structuredQuery},parent:o.parent},gt:h,parent:u}}function ND(r){let e=wD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ue(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const S=yA(b);return S instanceof vi&&Hb(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((S=>(function(D){return new Iu(Io(D.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,Bu(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(b){const S=!!b.before,R=b.values||[];return new Uo(R,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const S=!b.before,R=b.values||[];return new Uo(R,S)})(n.endAt)),X2(e,o,h,u,m,"F",p,g)}function OD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yA(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Io(n.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Io(n.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Io(n.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Io(n.unaryFilter.field);return Pt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Pt.create(Io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return vi.create(n.compositeFilter.filters.map((s=>yA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(n.compositeFilter.op))})(r):ge(30097,{filter:r})}function VD(r){return ED[r]}function MD(r){return TD[r]}function kD(r){return bD[r]}function Ts(r){return{fieldPath:r.canonicalString()}}function Io(r){return rn.fromServerFormat(r.fieldPath)}function _A(r){return r instanceof Pt?(function(n){if(n.op==="=="){if(ST(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NAN"}};if(AT(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ST(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NAN"}};if(AT(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(n.field),op:MD(n.op),value:n.value}}})(r):r instanceof vi?(function(n){const s=n.getFilters().map((o=>_A(o)));return s.length===1?s[0]:{compositeFilter:{op:kD(n.op),filters:s}}})(r):ge(54877,{filter:r})}function PD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function vA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,s,o,u=Ee.min(),h=Ee.min(),m=an.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.yt=e}}function LD(r){const e=ND({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?af(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.Cn=new zD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(xs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class zD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Bt(Je.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EA=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(EA,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zo(0)}static cr(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="LruGarbageCollector",BD=1048576;function zT([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class qD{constructor(e){this.Ir=e,this.buffer=new Bt(zT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();zT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(UT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?le(UT,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Vr(3e5)}))}}class FD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(wf.ce);const s=new qD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(LT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),wo()<=ke.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function GD(r,e){return new FD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.changes=new Na((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&yu(s.mutation,o,jn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const o=va();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=cu();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=va();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Mr();const h=gu(),m=(function(){return gu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof js)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),yu(E.mutation,g,E.mutation.getFieldMask(),ot.now())):h.set(g.key,jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new QD(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=gu();let o=new gt(((h,m)=>h-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||jn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=Jb();E.forEach((S=>{if(!u.has(S)){const R=rA(n.get(S),s.get(S));R!==null&&b.set(S,R),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return de.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(va());let m=Au,p=u;return h.next((g=>ne.forEach(g,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{p=p.insert(E,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,je()))).next((E=>({batchId:m,changes:Wb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let o=cu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=cu();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(b,S){return new Da(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((b,S)=>{h=h.insert(b,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Qt.newInvalidDocument(E)))}));let m=cu();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&yu(E.mutation,g,jn.empty(),ot.now()),Df(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ln(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:LD(o.bundledQuery),readTime:Ln(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.overlays=new gt(de.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=va();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=va(),u=n.length+1,h=new de(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new gt(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=va(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=va(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new mD(n,s));let u=this.qr.get(n);u===void 0&&(u=je(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.Qr=new Bt(Kt.$r),this.Ur=new Bt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Kt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new de(new Je([])),s=new Kt(n,e),o=new Kt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new Je([])),s=new Kt(n,e),o=new Kt(n,e+1);let u=je();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Kt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new dD(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?cg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Kt(n,0),o=new Kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bt(Pe);return n.forEach((o=>{const u=new Kt(o,0),h=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const h=new Kt(new de(u),0);let m=new Bt(Pe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ue(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Kt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.ri=e,this.docs=(function(){return new gt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let s=Mr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Qt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Mr();const h=n.path,m=new de(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||I2(R2(E),s)<=0||(o.has(E.key)||Df(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ge(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new eN(this)}getSize(e){return ne.resolve(this.size)}}class eN extends KD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.persistence=e,this.si=new Na((n=>fg(n)),dg),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new vg,this.targetCount=0,this.ai=zo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n){this.ui={},this.overlays={},this.ci=new wf(0),this.li=!1,this.li=!0,this.hi=new WD,this.referenceDelegate=e(this),this.Pi=new tN(this),this.indexManager=new UD,this.remoteDocumentCache=(function(o){return new ZD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new jD(n),this.Ii=new $D(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new JD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new nN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class nN extends x2{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Ri=new vg,this.Vi=null}static mi(e){return new Eg(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=de.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class cf{constructor(e,n){this.persistence=e,this.pi=new Na((s=>O2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=GD(this,n)}static mi(e,n){return new cf(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DR()?8:D2(hn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new iN;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(wo()<=ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(wo()<=ke.DEBUG&&le("QueryEngine","Query:",Ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(wo()<=ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(n))):ne.resolve())}ys(e,n){if(CT(n))return ne.resolve(null);let s=$i(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=af(n,null,"F"),s=$i(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=je(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,af(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return CT(n)||o.isEqual(Ee.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(wo()<=ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(n)),this.vs(e,h,n,w2(o,Au)).next((m=>m)))}))}Ds(e,n){let s=new Bt($b(e));return n.forEach(((o,u)=>{Df(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return wo()<=ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.ps.getDocumentsMatchingQuery(e,n,xs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="LocalStore",sN=3e8;class aN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new gt(Pe),this.xs=new Na((u=>fg(u)),dg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function oN(r,e,n,s){return new aN(r,e,n,s)}async function bA(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=je();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function lN(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const b=g.batch,S=b.keys();let R=ne.resolve();return S.forEach((D=>{R=R.next((()=>E.getEntry(p,D))).next((B=>{const V=g.docVersions.get(D);Ue(V!==null,48541),B.version.compareTo(V)<0&&(b.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),E.addEntry(B)))}))})),R.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function AA(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function uN(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,b)=>{const S=o.get(b);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let R=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(an.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(E.resumeToken,s)),o=o.insert(b,R),(function(B,V,Y){return B.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=sN?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(S,R,E)&&m.push(n.Pi.updateTargetData(u,R))}));let p=Mr(),g=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(cN(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Ee.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function cN(r,e,n){let s=je(),o=je();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Mr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(bg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function hN(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=cg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function fN(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new bs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Op(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!$o(h))throw h;le(bg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function BT(r,e,n){const s=Ae(r);let o=Ee.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const b=Ae(p),S=b.xs.get(E);return S!==void 0?ne.resolve(b.Ms.get(S)):b.Pi.getTargetData(g,E)})(s,h,$i(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Ee.min(),n?u:je()))).next((m=>(dN(s,J2(e),m),{documents:m,Qs:u})))))}function dN(r,e,n){let s=r.Os.get(e)||Ee.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class qT{constructor(){this.activeTargetIds=rD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mN{constructor(){this.Mo=new qT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="ConnectivityMonitor";class FT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(HT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(HT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh=null;function Vp(){return Dh===null?Dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dh++,"0x"+Dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="RestConnection",gN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===nf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Vp(),m=this.zo(e,n.toUriEncodedString());le(sp,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Ca(g);return this.Jo(e,m,p,s,E).then((b=>(le(sp,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw ko(sp,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=gN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class vN extends yN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Vp();return new Promise(((m,p)=>{const g=new bb;g.setWithCredentials(!0),g.listenOnce(Ab.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Lh.NO_ERROR:const b=g.getResponseJson();le(ln,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case Lh.TIMEOUT:le(ln,`RPC '${e}' ${h} timed out`),p(new re(X.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const S=g.getStatus();if(le(ln,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const D=R?.error;if(D&&D.status&&D.message){const B=(function(Y){const W=Y.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(W)>=0?W:X.UNKNOWN})(D.status);p(new re(B,D.message))}else p(new re(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new re(X.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(ln,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);le(ln,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Vp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Rb(),m=wb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(ln,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=h.createWebChannel(E,p);this.I_(b);let S=!1,R=!1;const D=new _N({Yo:V=>{R?le(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(S||(le(ln,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),le(ln,`RPC '${e}' stream ${o} sending:`,V),b.send(V))},Zo:()=>b.close()}),B=(V,Y,W)=>{V.listen(Y,(ie=>{try{W(ie)}catch(he){setTimeout((()=>{throw he}),0)}}))};return B(b,uu.EventType.OPEN,(()=>{R||(le(ln,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),B(b,uu.EventType.CLOSE,(()=>{R||(R=!0,le(ln,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(b))})),B(b,uu.EventType.ERROR,(V=>{R||(R=!0,ko(ln,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),D.a_(new re(X.UNAVAILABLE,"The operation could not be completed")))})),B(b,uu.EventType.MESSAGE,(V=>{if(!R){const Y=V.data[0];Ue(!!Y,16349);const W=Y,ie=W?.error||W[0]?.error;if(ie){le(ln,`RPC '${e}' stream ${o} received error:`,ie);const he=ie.status;let ye=(function(I){const x=kt[I];if(x!==void 0)return lA(x)})(he),be=ie.message;ye===void 0&&(ye=X.INTERNAL,be="Unknown error status: "+he+" with message "+ie.message),R=!0,D.a_(new re(ye,be)),b.close()}else le(ln,`RPC '${e}' stream ${o} received:`,Y),D.u_(Y)}})),B(m,Sb.STAT_EVENT,(V=>{V.stat===bp.PROXY?le(ln,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===bp.NOPROXY&&le(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(r){return new AD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="PersistentStream";class SA{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ag(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new re(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(GT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(GT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EN extends SA{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ID(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ee.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Ln(h.readTime):Ee.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Np(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Ip(p)?{documents:xD(u,p)}:{query:gA(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=hA(u,h.resumeToken);const g=xp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ee.min())>0){m.readTime=lf(u,h.snapshotVersion.toTimestamp());const g=xp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=OD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Np(this.serializer),n.removeTarget=e,this.q_(n)}}class TN extends SA{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CD(e.writeResults,e.commitTime),s=Ln(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Np(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>pA(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{}class AN extends bN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Dp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new re(X.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Dp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new re(X.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class wN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Oa(this)&&(le(Ia,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Fu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Pf(g)})(this))}))})),this.Ra=new SN(s,o)}}async function Pf(r){if(Oa(r))for(const e of r.da)await e(!0)}async function Fu(r){for(const e of r.da)await e(!1)}function wA(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ig(n)?Rg(n):Xo(n).O_()&&wg(n,e))}function Sg(r,e){const n=Ae(r),s=Xo(n);n.Ia.delete(e),s.O_()&&RA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Oa(n)&&n.Ra.set("Unknown"))}function wg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(r).Y_(e)}function RA(r,e){r.Va.Ue(e),Xo(r).Z_(e)}function Rg(r){r.Va=new vD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Xo(r).start(),r.Ra.ua()}function Ig(r){return Oa(r)&&!Xo(r).x_()&&r.Ia.size>0}function Oa(r){return Ae(r).Ea.size===0}function IA(r){r.Va=void 0}async function RN(r){r.Ra.set("Online")}async function IN(r){r.Ia.forEach(((e,n)=>{wg(r,e)}))}async function CN(r,e){IA(r),Ig(r)?(r.Ra.ha(e),Rg(r)):r.Ra.set("Unknown")}async function xN(r,e,n){if(r.Ra.set("Online"),e instanceof cA&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hf(r,s)}else if(e instanceof qh?r.Va.Ze(e):e instanceof uA?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ee.min()))try{const s=await AA(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(an.EMPTY_BYTE_STRING,E.snapshotVersion)),RA(u,p);const b=new bs(E.target,p,g,E.sequenceNumber);wg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(Ia,"Failed to raise snapshot:",s),await hf(r,s)}}async function hf(r,e,n){if(!$o(e))throw e;r.Ea.add(1),await Fu(r),r.Ra.set("Offline"),n||(n=()=>AA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(Ia,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Pf(r)}))}function CA(r,e){return e().catch((n=>hf(r,n,e)))}async function jf(r){const e=Ae(r),n=Vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cg;for(;DN(e);)try{const o=await hN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,NN(e,o)}catch(o){await hf(e,o)}xA(e)&&DA(e)}function DN(r){return Oa(r)&&r.Ta.length<10}function NN(r,e){r.Ta.push(e);const n=Vs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function xA(r){return Oa(r)&&!Vs(r).x_()&&r.Ta.length>0}function DA(r){Vs(r).start()}async function ON(r){Vs(r).ra()}async function VN(r){const e=Vs(r);for(const n of r.Ta)e.ea(n.mutations)}async function MN(r,e,n){const s=r.Ta.shift(),o=gg.from(s,e,n);await CA(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await jf(r)}async function kN(r,e){e&&Vs(r).X_&&await(async function(s,o){if((function(h){return oA(h)&&h!==X.ABORTED})(o.code)){const u=s.Ta.shift();Vs(s).B_(),await CA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await jf(s)}})(r,e),xA(r)&&DA(r)}async function KT(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),le(Ia,"RemoteStore received new credentials");const s=Oa(n);n.Ea.add(3),await Fu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Pf(n)}async function PN(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Pf(n)):e||(n.Ea.add(2),await Fu(n),n.Ra.set("Unknown"))}function Xo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new EN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:RN.bind(null,r),t_:IN.bind(null,r),r_:CN.bind(null,r),H_:xN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Ig(r)?Rg(r):r.Ra.set("Unknown")):(await r.ma.stop(),IA(r))}))),r.ma}function Vs(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new TN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ON.bind(null,r),r_:kN.bind(null,r),ta:VN.bind(null,r),na:MN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await jf(r)):(await r.fa.stop(),r.Ta.length>0&&(le(Ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Cg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(r,e){if(Vr("AsyncQueue",`${e}: ${r}`),$o(r))return new re(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=cu(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.ga=new gt(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Bo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Bo(e,n,Mo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class LN{constructor(){this.queries=YT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=YT(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new re(X.ABORTED,"Firestore shutting down"))}}function YT(){return new Na((r=>Yb(r)),xf)}async function Dg(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new jN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=xg(h,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Og(n)}async function Ng(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function UN(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Og(n)}function zN(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Og(r){r.Ca.forEach((e=>{e.next()}))}var Mp,$T;($T=Mp||(Mp={})).Ma="default",$T.Cache="cache";class Vg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.key=e}}class OA{constructor(e){this.key=e}}class BN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=$b(e),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new QT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const S=o.get(E),R=Df(this.query,b)?b:null,D=!!S&&this.mutatedKeys.has(S.key),B=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let V=!1;S&&R?S.data.isEqual(R.data)?D!==B&&(s.track({type:3,doc:R}),V=!0):this.su(S,R)||(s.track({type:2,doc:R}),V=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(m=!0)):!S&&R?(s.track({type:0,doc:R}),V=!0):S&&!R&&(s.track({type:1,doc:S}),V=!0,(p||g)&&(m=!0)),V&&(R?(h=h.add(R),u=B?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,b)=>(function(R,D){const B=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:V})}};return B(R)-B(D)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Bo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new OA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new NA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mg="SyncEngine";class qN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class HN{constructor(e){this.key=e,this.hu=!1}}class FN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Na((m=>Yb(m)),xf),this.Iu=new Map,this.Eu=new Set,this.du=new gt(de.comparator),this.Au=new Map,this.Ru=new vg,this.Vu={},this.mu=new Map,this.fu=zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GN(r,e,n=!0){const s=LA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await VA(s,e,n,!0),o}async function KN(r,e){const n=LA(r);await VA(n,e,!0,!1)}async function VA(r,e,n,s){const o=await fN(r.localStore,$i(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await QN(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&wA(r.remoteStore,o),m}async function QN(r,e,n,s,o){r.pu=(b,S,R)=>(async function(B,V,Y,W){let ie=V.view.ru(Y);ie.Cs&&(ie=await BT(B.localStore,V.query,!1).then((({documents:C})=>V.view.ru(C,ie))));const he=W&&W.targetChanges.get(V.targetId),ye=W&&W.targetMismatches.get(V.targetId)!=null,be=V.view.applyChanges(ie,B.isPrimaryClient,he,ye);return WT(B,V.targetId,be.au),be.snapshot})(r,b,S,R);const u=await BT(r.localStore,e,!0),h=new BN(e,u.Qs),m=h.ru(u.documents),p=Hu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);WT(r,n,g.au);const E=new qN(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function YN(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!xf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Sg(s.remoteStore,o.targetId),kp(s,o.targetId)})).catch(Yo)):(kp(s,o.targetId),await Op(s.localStore,o.targetId,!0))}async function $N(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sg(n.remoteStore,s.targetId))}async function XN(r,e,n){const s=iO(r);try{const o=await(function(h,m){const p=Ae(h),g=ot.now(),E=m.reduce(((R,D)=>R.add(D.key)),je());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let D=Mr(),B=je();return p.Ns.getEntries(R,E).next((V=>{D=V,D.forEach(((Y,W)=>{W.isValidDocument()||(B=B.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,D))).next((V=>{b=V;const Y=[];for(const W of m){const ie=fD(W,b.get(W.key).overlayedDocument);ie!=null&&Y.push(new js(W.key,ie,zb(ie.value.mapValue),sn.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,Y,m)})).next((V=>{S=V;const Y=V.applyToLocalDocumentSet(b,B);return p.documentOverlayCache.saveOverlays(R,V.batchId,Y)}))})).then((()=>({batchId:S.batchId,changes:Wb(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new gt(Pe)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Gu(s,o.changes),await jf(s.remoteStore)}catch(o){const u=xg(o,"Failed to persist write");n.reject(u)}}async function MA(r,e){const n=Ae(r);try{const s=await uN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ue(h.hu,14607):o.removedDocuments.size>0&&(Ue(h.hu,42227),h.hu=!1))})),await Gu(n,s,e)}catch(s){await Yo(s)}}function XT(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,b)=>{for(const S of b.Sa)S.va(m)&&(g=!0)})),g&&Og(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function WN(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new gt(de.comparator);h=h.insert(u,Qt.newNoDocument(u,Ee.min()));const m=je().add(u),p=new Mf(Ee.min(),new Map,new gt(Pe),h,m);await MA(s,p),s.du=s.du.remove(u),s.Au.delete(e),kg(s)}else await Op(s.localStore,e,!1).then((()=>kp(s,e,n))).catch(Yo)}async function JN(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await lN(n.localStore,e);PA(n,s,null),kA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Gu(n,o)}catch(o){await Yo(o)}}async function ZN(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Ue(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);PA(s,e,n),kA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Gu(s,o)}catch(o){await Yo(o)}}function kA(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function PA(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function kp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||jA(r,s)}))}function jA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Sg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),kg(r))}function WT(r,e,n){for(const s of n)s instanceof NA?(r.Ru.addReference(s.key,e),eO(r,s)):s instanceof OA?(le(Mg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||jA(r,s.key)):ge(19791,{wu:s})}function eO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(Mg,"New document in limbo: "+n),r.Eu.add(s),kg(r))}function kg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(Je.fromString(e)),s=r.fu.next();r.Au.set(s,new HN(n)),r.du=r.du.insert(n,s),wA(r.remoteStore,new bs($i(Cf(n.path)),s,"TargetPurposeLimboResolution",wf.ce))}}async function Gu(r,e,n){const s=Ae(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Tg.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(g,(S=>ne.forEach(S.Es,(R=>E.persistence.referenceDelegate.addReference(b,S.targetId,R))).next((()=>ne.forEach(S.ds,(R=>E.persistence.referenceDelegate.removeReference(b,S.targetId,R)))))))))}catch(b){if(!$o(b))throw b;le(bg,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const R=E.Ms.get(S),D=R.snapshotVersion,B=R.withLastLimboFreeSnapshotVersion(D);E.Ms=E.Ms.insert(S,B)}}})(s.localStore,u))}async function tO(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){le(Mg,"User change. New user:",e.toKey());const s=await bA(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new re(X.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Gu(n,s.Ls)}}function nO(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function LA(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=MA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WN.bind(null,e),e.Pu.H_=UN.bind(null,e.eventManager),e.Pu.yu=zN.bind(null,e.eventManager),e}function iO(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZN.bind(null,e),e}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oN(this.persistence,new rN,e.initialUser,this.serializer)}Cu(e){return new TA(Eg.mi,this.serializer)}Du(e){return new mN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class rO extends ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ue(this.persistence.referenceDelegate instanceof cf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new HD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new TA((s=>cf.mi(s,n)),this.serializer)}}class Pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>XT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tO.bind(null,this.syncEngine),await PN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LN})()}createDatastore(e){const n=kf(e.databaseInfo.databaseId),s=(function(u){return new vN(u)})(e.databaseInfo);return(function(u,h,m,p){return new AN(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new wN(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>XT(this.syncEngine,n,0)),(function(){return FT.v()?new FT:new pN})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const b=new FN(o,u,h,m,p,g);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(Ia,"RemoteStore shutting down."),s.Ea.add(5),await Fu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pp.provider={build:()=>new Pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new re(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const h=Ae(o),m={documents:u.map((b=>uf(h.serializer,b)))},p=await h.Ho("BatchGetDocuments",h.serializer.databaseId,Je.emptyPath(),m,u.length),g=new Map;p.forEach((b=>{const S=RD(h.serializer,b);g.set(S.key.toString(),S)}));const E=[];return u.forEach((b=>{const S=g.get(b.toString());Ue(!!S,55234,{key:b}),E.push(S)})),E})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=de.fromPath(s);this.mutations.push(new aA(o,this.precondition(o)))})),await(async function(s,o){const u=Ae(s),h={writes:o.map((m=>pA(u.serializer,m)))};await u.Go("Commit",u.serializer.databaseId,Je.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ge(50498,{Gu:e.constructor.name});n=Ee.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new re(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ee.min())?sn.exists(!1):sn.updateTime(n):sn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ee.min()))throw new re(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sn.updateTime(n)}return sn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new Ag(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new sO(this.datastore),n=this.Hu(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Bu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!oA(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class oO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(Ms,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(Ms,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function op(r,e){r.asyncQueue.verifyOperationInProgress(),le(Ms,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await bA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function JT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await lO(r);le(Ms,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>KT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>KT(e.remoteStore,o))),r._onlineComponents=e}async function lO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Ms,"Using user provided OfflineComponentProvider");try{await op(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await op(r,new ff)}}else le(Ms,"Using default OfflineComponentProvider"),await op(r,new rO(void 0));return r._offlineComponents}async function jg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Ms,"Using user provided OnlineComponentProvider"),await JT(r,r._uninitializedComponentsProvider._online)):(le(Ms,"Using default OnlineComponentProvider"),await JT(r,new Pp))),r._onlineComponents}function uO(r){return jg(r).then((e=>e.syncEngine))}function UA(r){return jg(r).then((e=>e.datastore))}async function df(r){const e=await jg(r),n=e.eventManager;return n.onListen=GN.bind(null,e.syncEngine),n.onUnlisten=YN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$N.bind(null,e.syncEngine),n}function cO(r,e,n={}){const s=new gi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Pg({next:S=>{E.Nu(),h.enqueueAndForget((()=>Ng(u,b)));const R=S.docs.has(m);!R&&S.fromCache?g.reject(new re(X.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&p&&p.source==="server"?g.reject(new re(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Vg(Cf(m.path),E,{includeMetadataChanges:!0,qa:!0});return Dg(u,b)})(await df(r),r.asyncQueue,e,n,s))),s.promise}function hO(r,e,n={}){const s=new gi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Pg({next:S=>{E.Nu(),h.enqueueAndForget((()=>Ng(u,b))),S.fromCache&&p.source==="server"?g.reject(new re(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Vg(m,E,{includeMetadataChanges:!0,qa:!0});return Dg(u,b)})(await df(r),r.asyncQueue,e,n,s))),s.promise}function fO(r,e,n){const s=new gi;return r.asyncQueue.enqueueAndForget((async()=>{try{const o=await UA(r);s.resolve((async function(h,m,p){const g=Ae(h),{request:E,gt:b,parent:S}=DD(g.serializer,W2(m),p);g.connection.$o||delete E.parent;const R=(await g.Ho("RunAggregationQuery",g.serializer.databaseId,S,E,1)).filter((B=>!!B.result));Ue(R.length===1,64727);const D=R[0].result?.aggregateFields;return Object.keys(D).reduce(((B,V)=>(B[b[V]]=D[V],B)),{})})(o,e,n))}catch(o){s.reject(o)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firestore.googleapis.com",e0=!0;class t0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BA,this.ssl=e0}else this.host=e.host,this.ssl=e.ssl??e0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BD)throw new re(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new m2;switch(s.type){case"firstParty":return new _2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new re(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=ZT.get(n);s&&(le("ComponentProvider","Removing Datastore"),ZT.delete(n),s.terminate())})(this),Promise.resolve()}}function dO(r,e,n,s={}){r=cn(r,Lf);const o=Ca(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Qp(`https://${m}`),Yp("Firestore",!0)),u.host!==BA&&u.host!==m&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ba(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=un.MOCK_USER;else{g=k0(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new re(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new un(b)}r._authCredentials=new p2(new Cb(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new nr(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(zu(n,mt._jsonSchema))return new mt(e,s||null,new de(Je.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:jt("string",mt._jsonSchemaVersion),referencePath:jt("string")};class Rs extends nr{constructor(e,n,s){super(e,n,Cf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new de(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function rt(r,e,...n){if(r=pt(r),xb("collection","path",e),r instanceof Lf){const s=Je.fromString(e,...n);return pT(s),new Rs(r,null,s)}{if(!(r instanceof mt||r instanceof Rs))throw new re(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Je.fromString(e,...n));return pT(s),new Rs(r.firestore,null,s)}}function lt(r,e,...n){if(r=pt(r),arguments.length===1&&(e=ug.newId()),xb("doc","path",e),r instanceof Lf){const s=Je.fromString(e,...n);return mT(s),new mt(r,null,new de(s))}{if(!(r instanceof mt||r instanceof Rs))throw new re(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Je.fromString(e,...n));return mT(s),new mt(r.firestore,r instanceof Rs?r.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="AsyncQueue";class i0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ag(this,"async_queue_retry"),this._c=()=>{const s=ap();s&&le(n0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$o(e))throw e;le(n0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Vr("INTERNAL UNHANDLED ERROR: ",r0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Cg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ge(47125,{Pc:r0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function r0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Ei extends Lf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new i0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new i0(e),this._firestoreClient=void 0,await e}}}function mO(r,e){const n=typeof r=="object"?r:Wp(),s=typeof r=="string"?r:nf,o=Ef(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=O0("firestore");u&&dO(o,...u)}return o}function Wo(r){if(r._terminated)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pO(r),r._firestoreClient}function pO(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new P2(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,zA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new oO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class yO{constructor(e,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(an.fromBase64String(e))}catch(n){throw new re(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:jt("string",Pn._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(zu(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:jt("string",Xi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wi(e.vectorValues);throw new re(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:jt("string",Wi._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=/^__.*__$/;class vO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new qu(e,this.data,n,this.fieldTransforms)}}class qA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:r})}}class Lg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HA(this.Ac)&&_O.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kf(e)}Cc(e,n,s,o=!1){return new Lg({Ac:e,methodName:n,Dc:s,path:rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jo(r){const e=r._freezeSettings(),n=kf(r._databaseId);return new EO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Ug(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Bg("Data must be an object, but it was:",h,s);const m=QA(s,h);let p,g;if(u.merge)p=new jn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=jp(e,b,n);if(!h.contains(S))throw new re(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);$A(E,S)||E.push(S)}p=new jn(E),g=h.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=h.fieldTransforms;return new vO(new pn(m),p,g)}class zf extends Uf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}class zg extends Uf{_toFieldTransform(e){return new lD(e.path,new Cu)}isEqual(e){return e instanceof zg}}function FA(r,e,n,s){const o=r.Cc(1,e,n);Bg("Data must be an object, but it was:",o,s);const u=[],h=pn.empty();Ps(s,((p,g)=>{const E=qg(e,p,n);g=pt(g);const b=o.yc(E);if(g instanceof zf)u.push(E);else{const S=Qu(g,b);S!=null&&(u.push(E),h.set(E,S))}}));const m=new jn(u);return new qA(h,m,o.fieldTransforms)}function GA(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[jp(e,s,n)],p=[o];if(u.length%2!=0)throw new re(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(jp(e,u[S])),p.push(u[S+1]);const g=[],E=pn.empty();for(let S=m.length-1;S>=0;--S)if(!$A(g,m[S])){const R=m[S];let D=p[S];D=pt(D);const B=h.yc(R);if(D instanceof zf)g.push(R);else{const V=Qu(D,B);V!=null&&(g.push(R),E.set(R,V))}}const b=new jn(g);return new qA(E,b,h.fieldTransforms)}function KA(r,e,n,s=!1){return Qu(n,r.Cc(s?4:3,e))}function Qu(r,e){if(YA(r=pt(r)))return Bg("Unsupported field value:",e,r),QA(r,e);if(r instanceof Uf)return(function(s,o){if(!HA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Qu(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ot.fromDate(s);return{timestampValue:lf(o.serializer,u)}}if(s instanceof ot){const u=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lf(o.serializer,u)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:hA(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_g(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wi)return(function(h,m){return{mapValue:{fields:{[Lb]:{stringValue:Ub},[rf]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return pg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Sf(s)}`)})(r,e)}function QA(r,e){const n={};return Ob(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(r,((s,o)=>{const u=Qu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function YA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ot||r instanceof Xi||r instanceof Pn||r instanceof mt||r instanceof Uf||r instanceof Wi)}function Bg(r,e,n){if(!YA(n)||!Db(n)){const s=Sf(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function jp(r,e,n){if((e=pt(e))instanceof Ku)return e._internalPath;if(typeof e=="string")return qg(r,e);throw mf("Field path arguments must be of type string or ",r,!1,void 0,n)}const TO=new RegExp("[~\\*/\\[\\]]");function qg(r,e,n){if(e.search(TO)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ku(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function mf(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new re(X.INVALID_ARGUMENT,m+r+p)}function $A(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bO extends Nu{data(){return super.data()}}function Bf(r,e){return typeof e=="string"?qg(r,e):e instanceof Ku?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new re(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hg{}class qf extends Hg{}function yi(r,e,...n){let s=[];e instanceof Hg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Fg)).length,m=u.filter((p=>p instanceof Hf)).length;if(h>1||h>0&&m>0)throw new re(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Hf extends qf{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Hf(e,n,s)}_apply(e){const n=this._parse(e);return WA(e._query,n),new nr(e.firestore,e.converter,Cp(e._query,n))}_parse(e){const n=Jo(e.firestore);return(function(u,h,m,p,g,E,b){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new re(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){o0(b,E);const D=[];for(const B of b)D.push(a0(p,u,B));S={arrayValue:{values:D}}}else S=a0(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||o0(b,E),S=KA(m,h,b,E==="in"||E==="not-in");return Pt.create(g,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xr(r,e,n){const s=e,o=Bf("where",r);return Hf._create(o,s,n)}class Fg extends Hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)WA(h,p),h=Cp(h,p)})(e._query,n),new nr(e.firestore,e.converter,Cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gg extends qf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new re(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new re(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(u,h)})(e._query,this._field,this._direction);return new nr(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Da(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Hh(r,e="asc"){const n=e,s=Bf("orderBy",r);return Gg._create(s,n)}class Kg extends qf{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Kg(e,n,s)}_apply(e){return new nr(e.firestore,e.converter,af(e._query,this._limit,this._limitType))}}function lp(r){return Kg._create("limit",r,"F")}class Qg extends qf{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Qg(e,n,s)}_apply(e){const n=SO(e,this.type,this._docOrFields,this._inclusive);return new nr(e.firestore,e.converter,(function(o,u){return new Da(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(e._query,n))}}function AO(...r){return Qg._create("startAfter",r,!1)}function SO(r,e,n,s){if(n[0]=pt(n[0]),n[0]instanceof Nu)return(function(u,h,m,p,g){if(!p)throw new re(X.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const E=[];for(const b of Vo(u))if(b.field.isKeyField())E.push(sf(h,p.key));else{const S=p.data.field(b.field);if(Rf(S))throw new re(X.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(S===null){const R=b.field.canonicalString();throw new re(X.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}E.push(S)}return new Uo(E,g)})(r._query,r.firestore._databaseId,e,n[0]._document,s);{const o=Jo(r.firestore);return(function(h,m,p,g,E,b){const S=h.explicitOrderBy;if(E.length>S.length)throw new re(X.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let D=0;D<E.length;D++){const B=E[D];if(S[D].field.isKeyField()){if(typeof B!="string")throw new re(X.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof B}`);if(!mg(h)&&B.indexOf("/")!==-1)throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${B}' contains a slash.`);const V=h.path.child(Je.fromString(B));if(!de.isDocumentKey(V))throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const Y=new de(V);R.push(sf(m,Y))}else{const V=KA(p,g,B);R.push(V)}}return new Uo(R,b)})(r._query,r.firestore._databaseId,o,e,n,s)}}function a0(r,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new re(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mg(e)&&n.indexOf("/")!==-1)throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Je.fromString(n));if(!de.isDocumentKey(s))throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return sf(r,new de(s))}if(n instanceof mt)return sf(r,n._key);throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sf(n)}.`)}function o0(r,e){if(!Array.isArray(r)||r.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WA(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JA{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ps(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[rf].arrayValue?.values?.map((s=>St(s.doubleValue)));return new Wi(n)}convertGeoPoint(e){return new Xi(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=If(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=Ds(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Je.fromString(e);Ue(vA(s),9688,{name:e});const o=new wu(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||Vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class wO extends JA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function RO(){return new gO("count")}class Co{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Is extends Nu{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Bf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Is._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Is._jsonSchemaVersion="firestore/documentSnapshot/1.0",Is._jsonSchema={type:jt("string",Is._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Fh extends Is{data(e={}){return super.data(e)}}class Ea{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Co(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Fh(this._firestore,this._userDataWriter,s.key,s,new Co(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Co(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Co(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:IO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function IO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(r){r=cn(r,mt);const e=cn(r.firestore,Ei);return cO(Wo(e),r._key).then((n=>eS(e,r,n)))}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:jt("string",Ea._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class Yu extends JA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function gn(r){r=cn(r,nr);const e=cn(r.firestore,Ei),n=Wo(e),s=new Yu(e);return XA(r._query),hO(n,r._query).then((o=>new Ea(e,s,r,o)))}function qo(r,e,n){r=cn(r,mt);const s=cn(r.firestore,Ei),o=Yg(r.converter,e,n);return Ff(s,[Ug(Jo(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,sn.none())])}function Zn(r,e,n,...s){r=cn(r,mt);const o=cn(r.firestore,Ei),u=Jo(o);let h;return h=typeof(e=pt(e))=="string"||e instanceof Ku?GA(u,"updateDoc",r._key,e,n,s):FA(u,"updateDoc",r._key,e),Ff(o,[h.toMutation(r._key,sn.exists(!0))])}function CO(r){return Ff(cn(r.firestore,Ei),[new Vf(r._key,sn.none())])}function ZA(r,e){const n=cn(r.firestore,Ei),s=lt(r),o=Yg(r.converter,e);return Ff(n,[Ug(Jo(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,sn.exists(!1))]).then((()=>s))}function $g(r,...e){r=pt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||s0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(s0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(r instanceof mt)h=cn(r.firestore,Ei),m=Cf(r._key.path),u={next:p=>{e[s]&&e[s](eS(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=cn(r,nr);h=cn(p.firestore,Ei),m=p._query;const g=new Yu(h);u={next:E=>{e[s]&&e[s](new Ea(h,g,p,E))},error:e[s+1],complete:e[s+2]},XA(r._query)}return(function(g,E,b,S){const R=new Pg(S),D=new Vg(E,R,b);return g.asyncQueue.enqueueAndForget((async()=>Dg(await df(g),D))),()=>{R.Nu(),g.asyncQueue.enqueueAndForget((async()=>Ng(await df(g),D)))}})(Wo(h),m,o,u)}function Ff(r,e){return(function(s,o){const u=new gi;return s.asyncQueue.enqueueAndForget((async()=>XN(await uO(s),o,u))),u.promise})(Wo(r),e)}function eS(r,e,n){const s=n.docs.get(e._key),o=new Yu(r);return new Is(r,o,e._key,s,new Co(n.hasPendingWrites,n.fromCache),e.converter)}function xo(r){return xO(r,{count:RO()})}function xO(r,e){const n=cn(r.firestore,Ei),s=Wo(n),o=M2(e,((u,h)=>new pD(h,u.aggregateType,u._internalFieldPath)));return fO(s,r._query,o).then((u=>(function(m,p,g){const E=new Yu(m);return new yO(p,E,g)})(n,r,u)))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={maxAttempts:5};function fu(r,e){if((r=pt(r)).firestore!==e)throw new re(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Jo(e)}get(e){const n=fu(e,this._firestore),s=new wO(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return ge(24041);const u=o[0];if(u.isFoundDocument())return new Nu(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Nu(this._firestore,s,n._key,null,n.converter);throw ge(18433,{doc:u})}))}set(e,n,s){const o=fu(e,this._firestore),u=Yg(o.converter,n,s),h=Ug(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,h),this}update(e,n,s,...o){const u=fu(e,this._firestore);let h;return h=typeof(n=pt(n))=="string"||n instanceof Ku?GA(this._dataReader,"Transaction.update",u._key,n,s,o):FA(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,h),this}delete(e){const n=fu(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO extends NO{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=fu(e,this._firestore),s=new Yu(this._firestore);return super.get(e).then((o=>new Is(this._firestore,s,n._key,o._document,new Co(!1,!1),n.converter)))}}function VO(r,e,n){r=cn(r,Ei);const s={...DO,...n};return(function(u){if(u.maxAttempts<1)throw new re(X.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,h,m){const p=new gi;return u.asyncQueue.enqueueAndForget((async()=>{const g=await UA(u);new aO(u.asyncQueue,g,m,h,p).ju()})),p.promise})(Wo(r),(o=>e(new OO(r,o))),s)}function Rn(){return new zg("serverTimestamp")}(function(e,n=!0){(function(o){Qo=o})(xa),Aa(new Cs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ei(new g2(s.getProvider("auth-internal")),new v2(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new re(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Qi(cT,hT,e),Qi(cT,hT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="firebasestorage.googleapis.com",MO="storageBucket",kO=120*1e3,PO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends tr{constructor(e,n,s=0){super(up(e),`Firebase Storage: ${n} (${up(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ir.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return up(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zi||(Zi={}));function up(r){return"storage/"+r}function jO(){const r="An unknown error occurred, please check the error payload for server response.";return new ir(Zi.UNKNOWN,r)}function LO(){return new ir(Zi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UO(){return new ir(Zi.CANCELED,"User canceled the upload/download.")}function zO(r){return new ir(Zi.INVALID_URL,"Invalid URL '"+r+"'.")}function BO(r){return new ir(Zi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function l0(r){return new ir(Zi.INVALID_ARGUMENT,r)}function nS(){return new ir(Zi.APP_DELETED,"The Firebase app was deleted.")}function qO(r){return new ir(Zi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=mi.makeFromUrl(e,n)}catch{return new mi(e,"")}if(s.path==="")return s;throw BO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(he){he.path_=decodeURIComponent(he.path)}const E="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",R=new RegExp(`^https?://${b}/${E}/b/${o}/o${S}`,"i"),D={bucket:1,path:3},B=n===tS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",Y=new RegExp(`^https?://${B}/${o}/${V}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:R,indices:D,postModify:g},{regex:Y,indices:{bucket:1,path:2},postModify:g}];for(let he=0;he<ie.length;he++){const ye=ie[he],be=ye.regex.exec(e);if(be){const C=be[ye.indices.bucket];let I=be[ye.indices.path];I||(I=""),s=new mi(C,I),ye.postModify(s);break}}if(s==null)throw zO(e);return s}}class HO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...V){g||(g=!0,e.apply(null,V))}function b(V){o=setTimeout(()=>{o=null,r(R,p())},V)}function S(){u&&clearTimeout(u)}function R(V,...Y){if(g){S();return}if(V){S(),E.call(null,V,...Y);return}if(p()||h){S(),E.call(null,V,...Y);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,b(ie)}let D=!1;function B(V){D||(D=!0,S(),!g&&(o!==null?(V||(m=2),clearTimeout(o),b(0)):V||(m=1)))}return b(0),u=setTimeout(()=>{h=!0,B(!0)},n),B}function GO(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(r){return r!==void 0}function u0(r,e,n,s){if(s<e)throw l0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw l0(`Invalid value for '${r}'. Expected ${n} or less.`)}function QO(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var pf;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(pf||(pf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n,s,o,u,h,m,p,g,E,b,S=!0,R=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,B)=>{this.resolve_=D,this.reject_=B,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Nh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===pf.NO_ERROR,p=u.getStatus();if(!m||YO(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===pf.ABORT;s(!1,new Nh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Nh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());KO(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=jO();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?nS():UO();h(p)}else{const p=LO();h(p)}};this.canceled_?n(!1,new Nh(!1,null,!0)):this.backoffId_=FO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function XO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function WO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function ZO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function eV(r,e,n,s,o,u,h=!0,m=!1){const p=QO(r.urlParams),g=r.url+p,E=Object.assign({},r.headers);return JO(E,e),XO(E,n),WO(E,u),ZO(E,s),new $O(g,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function nV(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this._service=e,n instanceof mi?this._location=n:this._location=mi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gf(e,n)}get root(){const e=new mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nV(this._location.path)}get storage(){return this._service}get parent(){const e=tV(this._location.path);if(e===null)return null;const n=new mi(this._location.bucket,e);return new gf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw qO(e)}}function c0(r,e){const n=e?.[MO];return n==null?null:mi.makeFromBucketSpec(n,r)}function iV(r,e,n,s={}){r.host=`${e}:${n}`;const o=Ca(e);o&&(Qp(`https://${r.host}/b`),Yp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:k0(u,r.app.options.projectId))}class rV{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=tS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kO,this._maxUploadRetryTime=PO,this._requests=new Set,o!=null?this._bucket=mi.makeFromBucketSpec(o,this._host):this._bucket=c0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mi.makeFromBucketSpec(this._url,e):this._bucket=c0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){u0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){u0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gf(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new HO(nS());{const h=eV(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const h0="@firebase/storage",f0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="storage";function sV(r=Wp(),e){r=pt(r);const s=Ef(r,iS).getImmediate({identifier:e}),o=O0("storage");return o&&aV(s,...o),s}function aV(r,e,n,s={}){iV(r,e,n,s)}function oV(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new rV(n,s,o,e,xa)}function lV(){Aa(new Cs(iS,oV,"PUBLIC").setMultipleInstances(!0)),Qi(h0,f0,""),Qi(h0,f0,"esm2020")}lV();const uV={apiKey:"AIzaSyAjxmYzmbSbfUneXaxEKmewWoSfwF8Ld30",authDomain:"mijnfegon.firebaseapp.com",projectId:"mijnfegon",storageBucket:"mijnfegon.firebasestorage.app",messagingSenderId:"415529097955",appId:"1:415529097955:web:da03af79ae2888a58a83d6"},Xg=L0(uV),ve=mO(Xg),Ta=c2(Xg),cV=new Ki;sV(Xg);cV.setCustomParameters({prompt:"select_account"});function hV({user:r,role:e}){const[n,s]=L.useState(0),[o,u]=L.useState(0),[h,m]=L.useState(0),[p,g]=L.useState(""),[E,b]=L.useState(""),S=qp();L.useEffect(()=>{if(!r)return;const D=lt(ve,"users",r.uid),B=$g(D,W=>{if(W.exists()){const ie=W.data();s(ie.points_total||0),g(ie.company||"Onbekend bedrijf")}},W=>{console.error("Dashboard user onSnapshot error:",W.code,W.message)});async function V(){try{const W=yi(rt(ve,"registrations"),xr("installer_uid","==",r.uid)),ie=await xo(W);u(ie.data().count)}catch(W){console.warn("Registraties tellen mislukt:",W)}}async function Y(){try{const W=yi(rt(ve,"registrations"),xr("installer_uid","==",r.uid),xr("status","==","pending")),ie=await xo(W);m(ie.data().count)}catch(W){console.warn("In afwachting tellen mislukt:",W)}}return V(),Y(),()=>{B()}},[r]);const R=async()=>{await ub(Ta),S("/")};return v.jsx("div",{style:Mt.page,children:v.jsxs("div",{style:Mt.container,children:[v.jsxs("header",{style:Mt.header,children:[v.jsxs("div",{children:[v.jsxs("h1",{style:Mt.titel,children:["Welkom terug, ",r.displayName||r.email," "]}),v.jsxs("p",{style:Mt.subtitel,children:["Laatste inlog: ",new Date().toLocaleString()]})]}),v.jsx("button",{onClick:R,style:Mt.logoutBtn,children:"Uitloggen"})]}),v.jsxs("section",{style:Mt.cards,children:[v.jsxs("div",{style:Mt.card,children:[v.jsx("h2",{children:" Beschikbare punten"}),v.jsx("p",{style:Mt.bigText,children:n})]}),v.jsxs("div",{style:Mt.card,children:[v.jsx("h2",{children:" Registraties totaal"}),v.jsx("p",{style:Mt.bigText,children:o})]}),v.jsxs("div",{style:Mt.card,children:[v.jsx("h2",{children:" In afwachting"}),v.jsx("p",{style:Mt.bigText,children:h})]}),v.jsxs("div",{style:Mt.card,children:[v.jsx("h2",{children:" Bedrijf"}),v.jsx("p",{children:p})]})]}),v.jsxs("section",{style:Mt.actions,children:[v.jsx(tn,{to:"/registratie",style:Mt.button,children:" Nieuw apparaat registreren"}),v.jsx(tn,{to:"/shop",style:Mt.buttonOutline,children:" Naar shop"}),v.jsx(tn,{to:"/instellingen",style:Mt.buttonOutline,children:" Instellingen"}),e==="admin"&&v.jsx(tn,{to:"/admin",style:Mt.adminBtn,children:" Adminpaneel"})]}),E&&v.jsx("p",{style:Mt.melding,children:E})]})})}const Mt={page:{fontFamily:"Inter, system-ui, sans-serif",background:"linear-gradient(180deg, #f7f9fc 0%, #eef3fb 100%)",minHeight:"100vh",display:"flex",justifyContent:"center",padding:"2rem"},container:{width:"100%",maxWidth:"1100px",background:"white",borderRadius:"20px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",padding:"2.5rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fdfdfd",padding:"1.5rem 2rem",borderRadius:"14px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",marginBottom:"2rem"},titel:{margin:0,fontSize:"1.8rem",color:"#003366",fontWeight:700},subtitel:{margin:0,color:"#666",fontSize:"0.9rem"},logoutBtn:{background:"#e53935",color:"#fff",border:"none",borderRadius:8,padding:"0.7rem 1.4rem",cursor:"pointer",fontWeight:"bold"},cards:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},card:{background:"#fff",borderRadius:14,padding:"1.6rem",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"},bigText:{fontSize:"2.2rem",fontWeight:700,color:"#004aad",marginTop:"0.6rem"},actions:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"1rem"},button:{background:"#004aad",color:"#fff",borderRadius:8,padding:"0.9rem 1.6rem",textDecoration:"none",fontWeight:600},buttonOutline:{border:"2px solid #004aad",color:"#004aad",borderRadius:8,padding:"0.9rem 1.6rem",textDecoration:"none",fontWeight:600,background:"transparent"},adminBtn:{background:"#ff9800",color:"#fff",borderRadius:8,padding:"0.9rem 1.6rem",textDecoration:"none",fontWeight:600},melding:{marginTop:"1.5rem",textAlign:"center",color:"#004aad"}};function fV({user:r}){const[e,n]=L.useState([]),[s,o]=L.useState(0),[u,h]=L.useState({}),[m,p]=L.useState(!0),[g,E]=L.useState(!1),[b,S]=L.useState(""),[R,D]=L.useState(""),B=C=>{const I=C?.points??C?.priceDrops??0,x=Number(I);return Number.isFinite(x)&&x>=0?x:0};L.useEffect(()=>{if(!r)return;async function C(){try{p(!0),S("");const I=lt(ve,"users",r.uid),x=await Zo(I);if(x.exists()){const Qe=x.data().points_total??0,ut=Number(Qe);o(Number.isFinite(ut)?ut:0)}else o(0);const k=rt(ve,"products"),z=(await gn(k)).docs.map(N=>({id:N.id,...N.data()})).filter(N=>N.active!==!1);n(z)}catch(I){console.error("Fout bij laden shop:",I),S("Er ging iets mis bij het laden van de shop.")}finally{p(!1)}}C()},[r]);const V=C=>{h(I=>({...I,[C]:(I[C]||0)+1}))},Y=C=>{h(I=>{const x={...I};return delete x[C],x})},W=(C,I)=>{const x=Number(I);if(isNaN(x)||x<=0)return Y(C);h(k=>({...k,[C]:x}))},ie=L.useMemo(()=>Object.entries(u).map(([C,I])=>{const x=e.find(z=>z.id===C);if(!x)return null;const k=B(x),M=k*I;return{...x,quantity:I,price:k,lineTotal:M}}).filter(C=>C!==null),[u,e]),he=L.useMemo(()=>ie.reduce((I,x)=>{const k=Number(x.lineTotal);return I+(Number.isFinite(k)?k:0)},0),[ie]),ye=s>=he,be=async()=>{if(ie.length===0){S("Je winkelwagen is leeg.");return}if(!ye){S("Onvoldoende Fegon Drops.");return}S(""),D(""),E(!0);try{const C=lt(ve,"users",r.uid),I=rt(ve,"orders");await VO(ve,async x=>{const k=await x.get(C);if(!k.exists())throw new Error("Gebruiker niet gevonden.");const z=k.data().points_total??0,N=Number(z);if(!Number.isFinite(N)||N<he)throw new Error("Onvoldoende Fegon Drops. Je saldo is tussentijds gewijzigd.");const Qe=N-he;x.update(C,{points_total:Qe});const ut=lt(I);x.set(ut,{userId:r.uid,items:ie.map($=>({productId:$.id,name:$.name,points:$.price,quantity:$.quantity})),totalPoints:he,createdAt:Rn(),status:"completed"}),o(Qe)}),h({}),D("Bestelling succesvol geplaatst! ")}catch(C){console.error("Checkout fout:",C),S(C.message||"Er ging iets mis bij het afrekenen.")}finally{E(!1)}};return m?v.jsx("p",{style:{padding:20},children:" Shop wordt geladen..."}):v.jsx("div",{style:De.page,children:v.jsxs("div",{style:De.container,children:[v.jsxs("header",{style:De.header,children:[v.jsxs("div",{children:[v.jsx("h1",{style:De.title,children:"Fegon Shop"}),v.jsx("p",{style:De.subtitle,children:"Wissel je Fegon Drops in voor producten en beloningen."})]}),v.jsxs("div",{style:De.balanceCard,children:[v.jsx("span",{style:De.balanceLabel,children:"Saldo"}),v.jsxs("span",{style:De.balanceValue,children:[s.toLocaleString()," Drops"]})]})]}),b&&v.jsx("div",{style:{...De.alert,...De.alertError},children:b}),R&&v.jsx("div",{style:{...De.alert,...De.alertSuccess},children:R}),v.jsxs("div",{style:De.grid,children:[v.jsxs("section",{style:De.leftCol,children:[v.jsx("h2",{style:De.sectionTitle,children:"Producten"}),e.length===0?v.jsx("p",{children:"Er zijn nog geen producten beschikbaar."}):v.jsx("div",{style:De.productsGrid,children:e.map(C=>{const I=B(C);return v.jsxs("div",{style:De.productCard,children:[v.jsxs("div",{children:[v.jsx("h3",{style:De.productTitle,children:C.name}),C.description&&v.jsx("p",{style:De.productDescription,children:C.description})]}),v.jsxs("div",{style:De.productFooter,children:[v.jsxs("div",{children:[v.jsx("span",{style:De.priceValue,children:I}),v.jsx("span",{style:De.priceLabel,children:"Drops"})]}),v.jsx("button",{onClick:()=>V(C.id),style:De.primaryButton,children:"In winkelwagen"})]})]},C.id)})})]}),v.jsxs("section",{style:De.rightCol,children:[v.jsx("h2",{style:De.sectionTitle,children:"Winkelwagen"}),ie.length===0?v.jsx("p",{children:"Je winkelwagen is leeg."}):v.jsxs(v.Fragment,{children:[v.jsx("div",{style:De.cartList,children:ie.map(C=>v.jsxs("div",{style:De.cartItem,children:[v.jsxs("div",{children:[v.jsx("div",{style:De.cartItemTitle,children:C.name}),v.jsxs("div",{style:De.cartItemMeta,children:[C.price," Drops per stuk"]})]}),v.jsxs("div",{style:De.cartItemControls,children:[v.jsx("input",{type:"number",min:"1",value:C.quantity,onChange:I=>W(C.id,I.target.value),style:De.qtyInput}),v.jsxs("div",{style:De.cartItemTotal,children:[C.lineTotal," Drops"]}),v.jsx("button",{onClick:()=>Y(C.id),style:De.removeButton,title:"Verwijderen",children:""})]})]},C.id))}),v.jsxs("div",{style:De.cartSummary,children:[v.jsxs("div",{children:[v.jsx("div",{style:De.summaryLabel,children:"Totaal"}),v.jsxs("div",{style:De.summaryValue,children:[he.toLocaleString()," Drops"]}),!ye&&v.jsx("div",{style:De.summaryWarning,children:"Onvoldoende saldo voor deze bestelling."})]}),v.jsx("button",{onClick:be,disabled:!ye||g,style:{...De.primaryButton,...!ye||g?De.primaryButtonDisabled:{}},children:g?"Bezig met afrekenen...":"Afrekenen"})]})]})]})]})]})})}const De={page:{fontFamily:"Inter, system-ui, sans-serif",background:"#f4f6fb",minHeight:"100vh",padding:"2rem 1rem"},container:{maxWidth:1100,margin:"0 auto"},header:{display:"flex",justifyContent:"space-between",gap:"1.5rem",alignItems:"center",marginBottom:"1.5rem"},title:{margin:0,fontSize:"1.8rem"},subtitle:{margin:"0.4rem 0 0",color:"#555",fontSize:"0.95rem"},balanceCard:{background:"#fff",padding:"0.9rem 1.2rem",borderRadius:12,boxShadow:"0 2px 6px rgba(0,0,0,0.08)",minWidth:180,textAlign:"right"},balanceLabel:{display:"block",fontSize:12,color:"#777"},balanceValue:{fontSize:18,fontWeight:"bold",color:"#004aad"},alert:{padding:"0.6rem 0.8rem",borderRadius:8,marginBottom:"1rem",fontSize:14},alertError:{background:"#ffe5e5",color:"#a00"},alertSuccess:{background:"#e5ffe8",color:"#0a7a26"},grid:{display:"grid",gridTemplateColumns:"2fr 1.3fr",gap:"1.5rem"},leftCol:{minWidth:0},rightCol:{minWidth:0},sectionTitle:{margin:"0 0 0.8rem",fontSize:"1.1rem"},productsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:16},productCard:{background:"#fff",borderRadius:12,padding:"1rem",boxShadow:"0 2px 6px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:150},productTitle:{margin:"0 0 0.4rem",fontSize:"1rem"},productDescription:{margin:0,color:"#666",fontSize:13},productFooter:{marginTop:"0.8rem",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"0.8rem"},priceValue:{display:"block",fontWeight:"bold",fontSize:18},priceLabel:{display:"block",fontSize:11,color:"#777"},primaryButton:{background:"#004aad",color:"#fff",border:"none",borderRadius:999,padding:"0.5rem 1rem",cursor:"pointer",fontWeight:"bold",fontSize:14,whiteSpace:"nowrap"},primaryButtonDisabled:{opacity:.6,cursor:"not-allowed"},cartList:{background:"#fff",borderRadius:12,boxShadow:"0 2px 6px rgba(0,0,0,0.05)",padding:"0.8rem",maxHeight:340,overflowY:"auto"},cartItem:{display:"flex",justifyContent:"space-between",gap:"0.8rem",padding:"0.5rem 0.3rem",borderBottom:"1px solid #eee",alignItems:"center"},cartItemTitle:{fontSize:14,fontWeight:500},cartItemMeta:{fontSize:12,color:"#777"},cartItemControls:{display:"flex",alignItems:"center",gap:"0.4rem"},qtyInput:{width:55,padding:"0.2rem 0.3rem",textAlign:"right",borderRadius:6,border:"1px solid #ccc",fontSize:13},cartItemTotal:{fontSize:13,minWidth:80,textAlign:"right"},removeButton:{border:"none",background:"transparent",color:"#a00",cursor:"pointer",fontSize:16,lineHeight:1},cartSummary:{marginTop:"1rem",background:"#fff",borderRadius:12,padding:"0.9rem 1rem",boxShadow:"0 2px 6px rgba(0,0,0,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem"},summaryLabel:{fontSize:12,color:"#777"},summaryValue:{fontSize:18,fontWeight:"bold"},summaryWarning:{marginTop:4,fontSize:12,color:"#a00"}};function dV({user:r}){const[e,n]=L.useState({full_name:"",company:"",phone:"",kvk:"",address:""}),[s,o]=L.useState(!0),[u,h]=L.useState(!1),[m,p]=L.useState("");L.useEffect(()=>{async function b(){if(!r)return;const S=lt(ve,"users",r.uid),R=await Zo(S);if(R.exists()){const D=R.data();n({full_name:D.full_name||"",company:D.company||"",phone:D.phone||"",kvk:D.kvk||"",address:D.address||""})}o(!1)}b()},[r]);function g(b){const{name:S,value:R}=b.target;n(D=>({...D,[S]:R}))}async function E(b){b.preventDefault(),h(!0),p("");try{const S=lt(ve,"users",r.uid);await Zn(S,{...e,updatedAt:new Date}),p(" Gegevens succesvol opgeslagen!")}catch(S){console.error(S),p(" Opslaan mislukt.")}finally{h(!1)}}return s?v.jsx("div",{style:{textAlign:"center"},children:" Laden..."}):v.jsx("div",{style:en.page,children:v.jsxs("div",{style:en.container,children:[v.jsx("h1",{style:en.title,children:" Instellingen"}),v.jsx("p",{style:en.subtitle,children:"Beheer hier je persoonlijke en bedrijfsgegevens."}),v.jsxs("form",{onSubmit:E,style:en.form,children:[v.jsx("label",{style:en.label,children:"Volledige naam *"}),v.jsx("input",{name:"full_name",type:"text",value:e.full_name,onChange:g,required:!0,style:en.input}),v.jsx("label",{style:en.label,children:"Bedrijfsnaam *"}),v.jsx("input",{name:"company",type:"text",value:e.company,onChange:g,required:!0,style:en.input}),v.jsx("label",{style:en.label,children:"Telefoonnummer"}),v.jsx("input",{name:"phone",type:"text",value:e.phone,onChange:g,style:en.input}),v.jsx("label",{style:en.label,children:"KvK-nummer"}),v.jsx("input",{name:"kvk",type:"text",value:e.kvk,onChange:g,style:en.input}),v.jsx("label",{style:en.label,children:"Adres"}),v.jsx("input",{name:"address",type:"text",value:e.address,onChange:g,style:en.input}),v.jsx("button",{type:"submit",style:en.button,disabled:u,children:u?"Opslaan...":"Opslaan"})]}),m&&v.jsx("p",{style:en.message,children:m})]})})}const en={page:{fontFamily:"Inter, system-ui, sans-serif",background:"linear-gradient(180deg, #f7f9fc 0%, #eef3fb 100%)",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"3rem 1rem"},container:{width:"100%",maxWidth:"650px",background:"#fff",padding:"2rem",borderRadius:16,boxShadow:"0 4px 16px rgba(0,0,0,0.08)"},title:{margin:0,fontSize:"1.7rem",color:"#003366",fontWeight:700},subtitle:{margin:"0.5rem 0 1.5rem",color:"#666"},form:{display:"flex",flexDirection:"column",gap:"1rem"},label:{fontWeight:600,color:"#003366"},input:{padding:"0.8rem",borderRadius:8,border:"1px solid #ccc",fontSize:"1rem"},button:{background:"#004aad",color:"#fff",border:"none",padding:"0.9rem",borderRadius:8,fontWeight:"bold",cursor:"pointer",marginTop:"1rem"},message:{marginTop:"1.2rem",textAlign:"center",fontWeight:"bold",color:"#004aad"}};function mV({user:r}){const[e,n]=L.useState({installer_full_name:"",installer_company:"",installer_phone:"",installer_kvk:"",installer_address:""}),[s,o]=L.useState(!1),[u,h]=L.useState(!1),[m,p]=L.useState("");function g(b){const{name:S,value:R}=b.target;n(D=>({...D,[S]:R}))}async function E(b){b.preventDefault(),o(!0),p(""),h(!1);try{const S=lt(ve,"users",r.uid);(await Zo(S)).exists()?await Zn(S,{installer_full_name:e.installer_full_name,installer_company:e.installer_company,installer_phone:e.installer_phone,installer_kvk:e.installer_kvk,installer_address:e.installer_address,profile_completed:!0,updatedAt:Rn()}):await qo(S,{uid:r.uid,email:r.email,role:"user",points_total:0,points_pending:0,createdAt:Rn(),installer_full_name:e.installer_full_name,installer_company:e.installer_company,installer_phone:e.installer_phone,installer_kvk:e.installer_kvk,installer_address:e.installer_address,profile_completed:!0}),h(!0)}catch(S){console.error(" Profiel opslaan mislukt:",S),p("Er is iets misgegaan bij het opslaan van je gegevens. Probeer het opnieuw.")}finally{o(!1)}}return v.jsx("div",{className:"container",style:Ar.page,children:v.jsxs("div",{className:"card",style:Ar.card,children:[v.jsx("h1",{children:"Welkom bij MijnFegon "}),v.jsx("p",{className:"text-muted",style:{marginBottom:"1rem"},children:"Vul onderstaande bedrijfsgegevens aan om toegang te krijgen tot het portaal."}),v.jsxs("form",{onSubmit:E,style:Ar.form,children:[v.jsx("label",{children:"Volledige naam*"}),v.jsx("input",{type:"text",name:"installer_full_name",placeholder:"Bijv. Jan Jansen",value:e.installer_full_name,onChange:g,required:!0,style:Ar.input}),v.jsx("label",{children:"Bedrijfsnaam*"}),v.jsx("input",{type:"text",name:"installer_company",placeholder:"Bijv. Installatiebedrijf Jansen BV",value:e.installer_company,onChange:g,required:!0,style:Ar.input}),v.jsx("label",{children:"Telefoonnummer"}),v.jsx("input",{type:"text",name:"installer_phone",placeholder:"Bijv. 0612345678",value:e.installer_phone,onChange:g,style:Ar.input}),v.jsx("label",{children:"KvK-nummer (optioneel)"}),v.jsx("input",{type:"text",name:"installer_kvk",placeholder:"Bijv. 12345678",value:e.installer_kvk,onChange:g,style:Ar.input}),v.jsx("label",{children:"Adres (optioneel)"}),v.jsx("input",{type:"text",name:"installer_address",placeholder:"Bijv. Dorpsstraat 12, 1234 AB Amsterdam",value:e.installer_address,onChange:g,style:Ar.input}),v.jsx("button",{type:"submit",className:"btn btn-primary",style:Ar.button,disabled:s,children:s?"Opslaan...":"Opslaan en doorgaan"})]}),u&&v.jsx("p",{style:{color:"green",marginTop:"1rem",textAlign:"center"},children:" Gegevens opgeslagen! Je kunt nu verder naar het dashboard."}),m&&v.jsx("p",{style:{color:"red",marginTop:"1rem",textAlign:"center"},children:m})]})})}const Ar={page:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(180deg, #f7f9fc 0%, #eef3fb 100%)",fontFamily:"Inter, system-ui, sans-serif"},card:{maxWidth:500,width:"100%",background:"#fff",borderRadius:12,padding:"2rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},form:{display:"flex",flexDirection:"column",gap:"0.8rem"},input:{padding:"0.8rem",borderRadius:8,border:"1px solid #ccc",fontSize:"1rem"},button:{marginTop:"1rem",background:"#004aad",color:"#fff",border:"none",borderRadius:8,padding:"0.8rem 1.2rem",cursor:"pointer",fontWeight:"bold"}};function pV({user:r}){const[e,n]=L.useState({brand:"",model:"",serial:"",customer_name:"",customer_address:"",customer_postal:"",customer_city:"",customer_email:""}),[s,o]=L.useState(""),[u,h]=L.useState(""),m={Aquastar:["S-500","800 SHE Plus","1000 Duo","1400 SHE Plus","2000 SHE Plus","3010 HE","6010 HE"],Digisofter:["DS-500","DS-900 HE","DS-1200 HE Plus","DS-2000 HE Plus","DS-2820 HE","DS-5220 HE"],Lavigo:["GS-1100 HE Plus","GS-1900 HE Plus"],Kalkfri:["Kalkfri 750","Kalkfri 1100","Kalkfri 1600"],Descale:["Descale 10","Descale 15"],Softy:["Wave"],Talent:["Talent 100BS","Talent 100B","Talent 100M","Talent 200B","Talent 200BL"],Anders:["Anders (handmatig)"]};function p(E){const{name:b,value:S}=E.target;n(R=>({...R,[b]:S}))}async function g(E){E.preventDefault(),o(""),h("");try{await ZA(rt(ve,"registrations"),{installer_uid:r.uid,installer_email:r.email,...e,status:"pending",points:50,createdAt:Rn()}),o(" Registratie opgeslagen. Wacht op beoordeling door admin."),n({brand:"",model:"",serial:"",customer_name:"",customer_address:"",customer_postal:"",customer_city:"",customer_email:""})}catch(b){h(" Opslaan mislukt: "+b.message)}}return v.jsxs("div",{style:cp.wrap,children:[v.jsx("h1",{children:" Nieuw apparaat registreren"}),v.jsxs("form",{onSubmit:g,style:cp.form,children:[v.jsx("label",{children:"Merk"}),v.jsxs("select",{name:"brand",value:e.brand,onChange:E=>{n(b=>({...b,brand:E.target.value,model:""}))},required:!0,children:[v.jsx("option",{value:"",children:"Kies merk"}),Object.keys(m).map(E=>v.jsx("option",{value:E,children:E},E))]}),e.brand&&v.jsxs(v.Fragment,{children:[v.jsx("label",{children:"Type"}),v.jsxs("select",{name:"model",value:e.model,onChange:p,required:!0,children:[v.jsx("option",{value:"",children:"Kies type"}),m[e.brand].map(E=>v.jsx("option",{value:E,children:E},E))]})]}),v.jsx("label",{children:"Serienummer"}),v.jsx("input",{name:"serial",value:e.serial,onChange:p,required:!0,placeholder:"Bijv. AS123456"}),v.jsx("h3",{children:"Eindklant"}),v.jsx("input",{name:"customer_name",value:e.customer_name,onChange:p,placeholder:"Naam",required:!0}),v.jsx("input",{name:"customer_address",value:e.customer_address,onChange:p,placeholder:"Adres",required:!0}),v.jsx("input",{name:"customer_postal",value:e.customer_postal,onChange:p,placeholder:"Postcode",required:!0}),v.jsx("input",{name:"customer_city",value:e.customer_city,onChange:p,placeholder:"Plaats",required:!0}),v.jsx("input",{name:"customer_email",type:"email",value:e.customer_email,onChange:p,placeholder:"E-mail (optioneel)"}),v.jsx("button",{style:cp.btn,children:" Registreren"})]}),s&&v.jsx("p",{style:{color:"#0a7",marginTop:12},children:s}),u&&v.jsx("p",{style:{color:"#d33",marginTop:12},children:u})]})}const cp={wrap:{maxWidth:640,margin:"2rem auto",background:"#fff",padding:"1.5rem",borderRadius:12,boxShadow:"0 2px 10px rgba(0,0,0,.07)",fontFamily:"system-ui, sans-serif"},form:{display:"grid",gap:"0.6rem"},btn:{marginTop:"0.6rem",background:"#004aad",color:"#fff",border:"none",borderRadius:8,padding:"0.8rem 1.2rem",cursor:"pointer",fontWeight:600}};function gV(){const[r,e]=L.useState(""),[n,s]=L.useState(""),[o,u]=L.useState(""),[h,m]=L.useState(!1),p=new Ki;async function g(R){const D=lt(ve,"users",R.uid),B=await Zo(D);B.exists()?await qo(D,{uid:R.uid,email:R.email,name:R.displayName||B.data().name||"",updatedAt:Rn()},{merge:!0}):await qo(D,{uid:R.uid,email:R.email,name:R.displayName||"",role:"user",company:"",points_total:0,points_pending:0,profile_completed:!1,createdAt:Rn(),updatedAt:Rn()})}async function E(){m(!0),u("");try{const R=await vx(Ta,p);await g(R.user)}catch(R){console.error(R),u(" "+R.message)}finally{m(!1)}}async function b(){m(!0),u("");try{const R=await XC(Ta,r,n);await g(R.user)}catch(R){let D=" Inloggen mislukt.";R.code==="auth/user-not-found"&&(D=" Geen gebruiker gevonden."),R.code==="auth/wrong-password"&&(D=" Incorrect wachtwoord."),R.code==="auth/invalid-email"&&(D=" Ongeldig e-mailadres."),u(D)}finally{m(!1)}}async function S(){if(!r){u(" Vul eerst je e-mail in.");return}try{await YC(Ta,r),u(" Reset e-mail verzonden!")}catch(R){u(" "+R.message)}}return v.jsx("div",{style:fi.wrapper,children:v.jsxs("div",{style:fi.card,children:[v.jsx("h1",{style:fi.title,children:"Inloggen"}),o&&v.jsx("div",{style:fi.alert,children:o}),v.jsx("input",{style:fi.input,placeholder:"E-mail",type:"email",value:r,onChange:R=>e(R.target.value)}),v.jsx("input",{style:fi.input,placeholder:"Wachtwoord",type:"password",value:n,onChange:R=>s(R.target.value)}),v.jsx("button",{style:fi.btnPrimary,onClick:b,disabled:h,children:h?"Bezig...":"Inloggen"}),v.jsx("button",{style:fi.btnLink,onClick:S,children:"Wachtwoord vergeten?"}),v.jsx("hr",{style:fi.hr}),v.jsx("button",{style:fi.btnGoogle,onClick:E,disabled:h,children:" Log in met Google"}),v.jsxs("p",{style:{marginTop:"1rem",textAlign:"center"},children:["Nog geen account?"," ",v.jsx("a",{href:"/register",style:fi.link,children:"Registreren"})]})]})})}const fi={wrapper:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(180deg,#eef2ff,#dbe4ff)",padding:20},card:{width:"100%",maxWidth:380,background:"white",padding:"2rem",borderRadius:14,boxShadow:"0 4px 14px rgba(0,0,0,0.12)"},title:{textAlign:"center",marginBottom:"1.4rem"},input:{width:"100%",padding:"0.8rem",borderRadius:8,border:"1px solid #ccc",marginBottom:"1rem"},btnPrimary:{width:"100%",padding:"0.8rem",background:"#004aad",color:"white",border:"none",borderRadius:8,fontWeight:"bold",cursor:"pointer"},btnGoogle:{width:"100%",padding:"0.8rem",background:"#ffffff",border:"1px solid #ccc",borderRadius:8,cursor:"pointer"},btnLink:{marginTop:"0.6rem",background:"transparent",border:"none",color:"#004aad",cursor:"pointer",textDecoration:"underline"},hr:{margin:"1.4rem 0"},alert:{background:"#ffe6e6",padding:"0.8rem",borderRadius:8,border:"1px solid #ffbcbc",marginBottom:"1rem",color:"#aa0000"},link:{color:"#004aad",fontWeight:"bold"}};function yV(){const[r,e]=L.useState({name:"",company:"",email:"",password:"",password2:""}),[n,s]=L.useState(""),[o,u]=L.useState(!1);function h(g){e({...r,[g.target.name]:g.target.value})}function m(){return r.name?r.company?r.email?!r.password||!r.password2?"Vul een wachtwoord in.":r.password!==r.password2?"Wachtwoorden komen niet overeen.":r.password.length<6?"Wachtwoord moet minimaal 6 tekens zijn.":null:"Vul een e-mailadres in.":"Vul een bedrijfsnaam in.":"Vul een naam in."}async function p(g){g.preventDefault(),s("");const E=m();if(E)return s(" "+E);try{u(!0);const b=await $C(Ta,r.email,r.password);await qo(lt(ve,"users",b.user.uid),{uid:b.user.uid,email:r.email,name:r.name,company:r.company,role:"user",points_total:0,points_pending:0,profile_completed:!1,createdAt:Rn(),updatedAt:Rn()}),s(" Account aangemaakt! Je wordt doorgestuurd..."),setTimeout(()=>{window.location.href="/"},1200)}catch(b){console.error(b),s(" Er ging iets mis: "+b.message)}finally{u(!1)}}return v.jsx("div",{style:Fi.wrapper,children:v.jsxs("form",{onSubmit:p,style:Fi.card,children:[v.jsx("h1",{style:Fi.title,children:"Account Registreren"}),n&&v.jsx("p",{style:Fi.alert,children:n}),v.jsx("input",{style:Fi.input,placeholder:"Volledige naam",name:"name",value:r.name,onChange:h}),v.jsx("input",{style:Fi.input,placeholder:"Bedrijfsnaam",name:"company",value:r.company,onChange:h}),v.jsx("input",{style:Fi.input,placeholder:"E-mail",type:"email",name:"email",value:r.email,onChange:h}),v.jsx("input",{style:Fi.input,placeholder:"Wachtwoord",type:"password",name:"password",value:r.password,onChange:h}),v.jsx("input",{style:Fi.input,placeholder:"Herhaal wachtwoord",type:"password",name:"password2",value:r.password2,onChange:h}),v.jsx("button",{disabled:o,style:Fi.btnPrimary,children:o?"Bezig...":"Account aanmaken"}),v.jsxs("p",{style:{marginTop:"1rem"},children:["Al een account? ",v.jsx("a",{href:"/login",children:"Inloggen"})]})]})})}const Fi={wrapper:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(180deg,#eef2ff,#dbe4ff)",padding:"1rem"},card:{width:"100%",maxWidth:400,background:"white",padding:"2rem",borderRadius:14,boxShadow:"0 4px 14px rgba(0,0,0,0.15)"},title:{marginBottom:"1.4rem",textAlign:"center",fontSize:"1.6rem"},input:{width:"100%",padding:"0.8rem",marginBottom:"1rem",borderRadius:8,border:"1px solid #ccc"},btnPrimary:{width:"100%",padding:"0.9rem",borderRadius:8,background:"#004aad",color:"white",border:"none",fontSize:"1rem",cursor:"pointer"},alert:{background:"#ffeded",padding:"0.8rem",borderRadius:8,border:"1px solid #ffb0b0",color:"#b00000",marginBottom:"1rem"}};function Va(){return v.jsxs("div",{className:"admin-menu",children:[v.jsx("h2",{style:{marginBottom:"1rem"},children:" Admin"}),v.jsxs("nav",{className:"admin-nav",children:[v.jsx(tn,{to:"/admin",children:" Dashboard"}),v.jsx(tn,{to:"/admin/users",children:" Gebruikers"}),v.jsx(tn,{to:"/admin/registraties",children:" Registraties"}),v.jsx(tn,{to:"/admin/producten",children:" Producten"}),v.jsx(tn,{to:"/admin/punten",children:" Punten"}),v.jsx(tn,{to:"/admin/koppelingen",children:" Koppelingen"}),v.jsx(tn,{to:"/admin/importexport",children:" Import / Export"}),v.jsx(tn,{to:"/admin/logboek",children:" Logboek"}),v.jsx(tn,{to:"/admin/instellingen",children:" Instellingen"})]})]})}async function _V(){const r=rt(ve,"users"),e=await gn(r);for(const n of e.docs){const s=n.data(),o=[];s.email&&o.push(s.email.toLowerCase()),s.installer_full_name&&o.push(s.installer_full_name.toLowerCase()),console.log("Indexing:",s.email),await Zn(lt(ve,"users",n.id),{keywords:o})}alert(" Alle gebruikers opnieuw gendexeerd!")}function vV({user:r}){const[e,n]=L.useState({totalUsers:0,totalRegistrations:0,newUsersThisMonth:0,totalLogins:0}),[s,o]=L.useState(null);L.useEffect(()=>{h(),u()},[]);async function u(){const m=lt(ve,"users",r.uid),p=await Zo(m);p.exists()&&o(p.data())}async function h(){const m=new Date,p=new Date(m.getFullYear(),m.getMonth(),1),g=rt(ve,"users"),E=await xo(g),b=yi(rt(ve,"users"),xr("createdAt",">=",p)),S=await xo(b),R=rt(ve,"registrations"),D=await xo(R),B=rt(ve,"logs_login"),V=await xo(B);n({totalUsers:E.data().count,newUsersThisMonth:S.data().count,totalRegistrations:D.data().count,totalLogins:V.data().count})}return v.jsxs("div",{className:"admin-layout",children:[v.jsx(Va,{}),v.jsxs("div",{className:"admin-content",children:[v.jsx("h1",{className:"admin-title",children:" Admin Dashboard"}),v.jsx("button",{onClick:_V,style:{padding:"0.7rem 1.2rem",background:"#0055ff",color:"white",cursor:"pointer",borderRadius:6,border:"none",marginBottom:"1.5rem",fontWeight:"bold"},children:" Gebruikers opnieuw indexeren"}),v.jsxs("div",{className:"stats-grid",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("h3",{children:" Gebruikers totaal"}),v.jsx("p",{children:e.totalUsers})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h3",{children:" Nieuwe aanmeldingen (deze maand)"}),v.jsx("p",{children:e.newUsersThisMonth})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h3",{children:" Registraties totaal"}),v.jsx("p",{children:e.totalRegistrations})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h3",{children:" Totaal aantal logins"}),v.jsx("p",{children:e.totalLogins})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h3",{children:" Ingelogde admin"}),s?v.jsxs("div",{children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Naam:"})," ",s.name||"Onbekend"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email:"})," ",s.email]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Rol:"})," ",s.role]})]}):v.jsx("p",{children:"Data laden..."})]})]})]})]})}function EV(){const[r,e]=L.useState([]),[n,s]=L.useState({}),[o,u]=L.useState(""),[h,m]=L.useState(1),p=25;L.useEffect(()=>{async function D(){const V=(await gn(rt(ve,"users"))).docs.map(Y=>({id:Y.id,...Y.data()}));e(V)}D()},[]),L.useEffect(()=>{async function D(){const B={};for(let V of r){const Y=yi(rt(ve,"registrations"),xr("installer_uid","==",V.id)),W=await gn(Y);B[V.id]=W.size}s(B)}r.length>0&&D()},[r]);const g=r.filter(D=>(D.email||"").toLowerCase().includes(o.toLowerCase())),E=Math.ceil(g.length/p),b=(h-1)*p,S=g.slice(b,b+p);async function R(D,B){await Zn(lt(ve,"users",D),{role:B}),e(V=>V.map(Y=>Y.id===D?{...Y,role:B}:Y))}return v.jsxs("div",{className:"admin-layout",children:[v.jsx(Va,{}),v.jsxs("div",{className:"admin-content",children:[v.jsx("h1",{children:" Gebruikersbeheer"}),v.jsx("input",{className:"admin-search",placeholder:"Zoek op e-mail",value:o,onChange:D=>{u(D.target.value),m(1)}}),v.jsxs("table",{className:"admin-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Email"}),v.jsx("th",{children:"Bedrijf"}),v.jsx("th",{children:"Rol"}),v.jsx("th",{children:"Registraties"}),v.jsx("th",{children:"Acties"})]})}),v.jsxs("tbody",{children:[S.map(D=>v.jsxs("tr",{children:[v.jsx("td",{children:D.email}),v.jsx("td",{children:D.company||"-"}),v.jsx("td",{children:v.jsxs("select",{className:"admin-select",value:D.role,onChange:B=>R(D.id,B.target.value),children:[v.jsx("option",{value:"user",children:"user"}),v.jsx("option",{value:"admin",children:"admin"})]})}),v.jsx("td",{children:n[D.id]??""}),v.jsx("td",{children:v.jsx(tn,{className:"admin-btn",to:`/admin/registraties?user=${D.id}`,children:"Bekijk registraties"})})]},D.id)),S.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:"5",className:"admin-empty",children:"Geen gebruikers gevonden."})})]})]}),v.jsxs("div",{className:"admin-pagination",children:[v.jsx("button",{disabled:h<=1,onClick:()=>m(D=>D-1),className:"admin-page-btn",children:" Vorige"}),v.jsxs("span",{children:["Pagina ",h," van ",E]}),v.jsx("button",{disabled:h>=E,onClick:()=>m(D=>D+1),className:"admin-page-btn",children:"Volgende "})]})]})]})}function TV({user:r}){const[e,n]=L.useState([]),[s,o]=L.useState("all"),[u,h]=L.useState(""),[m,p]=L.useState(!0);L.useEffect(()=>{const R=rt(ve,"registrations"),D=yi(R,Hh("createdAt","desc")),B=$g(D,V=>{const Y=V.docs.map(W=>({id:W.id,...W.data()}));n(Y),p(!1)},V=>{console.error("AdminRegistraties onSnapshot error:",V.code,V.message),h(" Kan registraties niet laden (onvoldoende rechten of netwerkprobleem)."),p(!1)});return()=>B()},[]);const g=R=>{h(R),R&&setTimeout(()=>h(""),4e3)};async function E(R){try{const D=lt(ve,"registrations",R.id);await Zn(D,{status:"approved",approvedAt:Rn(),approvedBy:r?r.uid:null}),g(" Registratie goedgekeurd.")}catch(D){console.error("approveRegistration error:",D),g(" Fout bij goedkeuren: "+D.message)}}async function b(R){const D=window.prompt("Optioneel: reden van afwijzing (wordt opgeslagen bij de registratie):");try{const B=lt(ve,"registrations",R.id);await Zn(B,{status:"rejected",rejectedAt:Rn(),rejectedBy:r?r.uid:null,rejectedReason:D||null}),g(" Registratie afgewezen.")}catch(B){console.error("rejectRegistration error:",B),g(" Fout bij afwijzen: "+B.message)}}const S=L.useMemo(()=>s==="all"?e:e.filter(R=>(R.status||"pending")===s),[e,s]);return v.jsxs("div",{style:pa.page,children:[v.jsx("h1",{children:" Admin  Registraties"}),v.jsx("p",{style:{color:"#555"},children:"Overzicht van alle ingediende registraties (installateurs / klanten / aanvragen)."}),v.jsxs("div",{style:pa.filterRow,children:[v.jsx("span",{children:"Status filter:"}),v.jsxs("select",{value:s,onChange:R=>o(R.target.value),style:pa.select,children:[v.jsx("option",{value:"all",children:"Alle"}),v.jsx("option",{value:"pending",children:"Openstaand"}),v.jsx("option",{value:"approved",children:"Goedgekeurd"}),v.jsx("option",{value:"rejected",children:"Afgewezen"})]})]}),u&&v.jsx("p",{style:pa.message,children:u}),m?v.jsx("p",{children:" Registraties worden geladen..."}):v.jsx("div",{style:{overflowX:"auto",marginTop:"1rem"},children:v.jsxs("table",{style:pa.table,children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Datum"}),v.jsx("th",{children:"Naam"}),v.jsx("th",{children:"Email"}),v.jsx("th",{children:"Installateur"}),v.jsx("th",{children:"Status"}),v.jsx("th",{children:"Acties"})]})}),v.jsxs("tbody",{children:[S.map(R=>v.jsxs("tr",{children:[v.jsx("td",{children:R.createdAt&&R.createdAt.toDate?R.createdAt.toDate().toLocaleString():""}),v.jsx("td",{children:R.customerName||R.name||""}),v.jsx("td",{children:R.customerEmail||R.email||""}),v.jsx("td",{children:R.installer_name||R.installer_email||R.installer_uid||""}),v.jsxs("td",{children:[v.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:999,fontSize:12,background:(R.status||"pending")==="approved"?"#e5ffe7":(R.status||"pending")==="rejected"?"#ffe5e5":"#fff8e1",color:(R.status||"pending")==="approved"?"#0a7a26":(R.status||"pending")==="rejected"?"#a00":"#9c6b00"},children:R.status||"pending"}),R.rejectedReason&&v.jsxs("div",{style:{fontSize:11,color:"#a00",marginTop:4},children:["Reden: ",R.rejectedReason]})]}),v.jsx("td",{children:v.jsxs("div",{style:{display:"flex",gap:"0.4rem",flexWrap:"wrap"},children:[(R.status||"pending")==="pending"&&v.jsxs(v.Fragment,{children:[v.jsx("button",{style:pa.approveBtn,onClick:()=>E(R),children:" Goedkeuren"}),v.jsx("button",{style:pa.rejectBtn,onClick:()=>b(R),children:" Afwijzen"})]}),(R.status||"pending")!=="pending"&&v.jsx("span",{style:{fontSize:12,color:"#555"},children:"Actie voltooid"})]})})]},R.id)),S.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center"},children:"Geen registraties gevonden voor deze filter."})})]})]})})]})}const pa={page:{fontFamily:"Inter, system-ui, sans-serif",padding:"2rem",background:"#f4f6fb",minHeight:"100vh"},filterRow:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"1rem"},select:{padding:"0.4rem 0.6rem",borderRadius:8,border:"1px solid #ccc"},table:{width:"100%",borderCollapse:"collapse",background:"#fff",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},approveBtn:{background:"#0a7a26",color:"#fff",border:"none",borderRadius:6,padding:"0.3rem 0.6rem",cursor:"pointer",fontSize:12},rejectBtn:{background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"0.3rem 0.6rem",cursor:"pointer",fontSize:12},message:{marginTop:"1rem",textAlign:"left",color:"#004aad",fontWeight:"bold"}};function bV({user:r}){const[e,n]=L.useState([]),[s,o]=L.useState({name:"",description:"",points:"",image:"",active:!0}),[u,h]=L.useState(null),[m,p]=L.useState("");L.useEffect(()=>{const D=rt(ve,"products"),B=$g(D,V=>{const Y=V.docs.map(W=>({id:W.id,...W.data()}));n(Y)},V=>{console.error("AdminProducten onSnapshot error:",V.code,V.message),p(" Kan producten niet laden (onvoldoende rechten of netwerkprobleem).")});return()=>B()},[]);const g=D=>{p(D),D&&setTimeout(()=>p(""),4e3)};async function E(){if(!s.name||!s.points){g(" Vul ten minste een naam en aantal punten in.");return}try{await ZA(rt(ve,"products"),{name:s.name.trim(),description:s.description.trim(),points:Number(s.points),image:s.image.trim(),active:s.active,createdAt:Rn(),createdBy:r?r.uid:null}),o({name:"",description:"",points:"",image:"",active:!0}),g(" Product succesvol toegevoegd!")}catch(D){console.error("voegProductToe error:",D),g(" Fout bij toevoegen: "+D.message)}}async function b(){if(u)try{const D=lt(ve,"products",u.id);await Zn(D,{name:u.name.trim(),description:u.description.trim(),points:Number(u.points),image:u.image.trim(),active:!!u.active,updatedAt:Rn(),updatedBy:r?r.uid:null}),h(null),g(" Product succesvol bijgewerkt!")}catch(D){console.error("updateProduct error:",D),g(" Fout bij bewerken: "+D.message)}}async function S(D){if(window.confirm("Weet je zeker dat je dit product wilt verwijderen?"))try{await CO(lt(ve,"products",D)),g(" Product verwijderd.")}catch(B){console.error("verwijderProduct error:",B),g(" Fout bij verwijderen: "+B.message)}}async function R(D){try{const B=lt(ve,"products",D.id);await Zn(B,{active:!D.active,updatedAt:Rn(),updatedBy:r?r.uid:null})}catch(B){console.error("toggleActive error:",B),g(" Fout bij wijzigen van status: "+B.message)}}return v.jsxs("div",{style:At.page,children:[v.jsx("h1",{children:" Admin  Producten"}),v.jsx("p",{style:{color:"#555"},children:"Beheer alle producten die zichtbaar zijn in de Fegon Shop."}),v.jsxs("div",{style:At.addBox,children:[v.jsx("h2",{children:"Nieuw product toevoegen"}),v.jsx("input",{style:At.input,placeholder:"Naam van het product",value:s.name,onChange:D=>o({...s,name:D.target.value})}),v.jsx("textarea",{style:At.textarea,placeholder:"Beschrijving",value:s.description,onChange:D=>o({...s,description:D.target.value})}),v.jsx("input",{style:At.input,placeholder:"Aantal punten (Fegon Drops)",type:"number",value:s.points,onChange:D=>o({...s,points:D.target.value})}),v.jsx("input",{style:At.input,placeholder:"Afbeelding URL (optioneel)",value:s.image,onChange:D=>o({...s,image:D.target.value})}),v.jsxs("label",{style:At.checkboxRow,children:[v.jsx("input",{type:"checkbox",checked:s.active,onChange:D=>o({...s,active:D.target.checked})}),v.jsx("span",{children:"Actief (zichtbaar in shop)"})]}),v.jsx("button",{onClick:E,style:At.saveBtn,children:" Toevoegen"})]}),v.jsx("h2",{style:{marginTop:"2rem"},children:"Bestaande producten"}),v.jsx("div",{style:{overflowX:"auto"},children:v.jsxs("table",{style:At.table,children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Naam"}),v.jsx("th",{children:"Beschrijving"}),v.jsx("th",{children:"Punten"}),v.jsx("th",{children:"Afbeelding"}),v.jsx("th",{children:"Status"}),v.jsx("th",{children:"Acties"})]})}),v.jsxs("tbody",{children:[e.map(D=>v.jsxs("tr",{children:[v.jsx("td",{children:D.name}),v.jsx("td",{children:D.description}),v.jsx("td",{children:D.points}),v.jsx("td",{children:D.image?v.jsx("img",{src:D.image,alt:D.name,style:{width:50,height:50,objectFit:"cover",borderRadius:6}}):""}),v.jsx("td",{children:v.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:999,fontSize:12,background:D.active?"#e5ffe7":"#ffe5e5",color:D.active?"#0a7a26":"#a00"},children:D.active?"Actief":"Inactief"})}),v.jsxs("td",{children:[v.jsx("button",{style:At.smallBtn,onClick:()=>R(D),children:D.active?"Deactiveren":"Activeren"}),v.jsx("button",{style:At.editBtn,onClick:()=>h(D),children:" Bewerken"}),v.jsx("button",{style:At.deleteBtn,onClick:()=>S(D.id),children:" Verwijderen"})]})]},D.id)),e.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center"},children:"Geen producten gevonden."})})]})]})}),u&&v.jsxs("div",{style:At.editBox,children:[v.jsx("h2",{children:"Product bewerken"}),v.jsx("input",{style:At.input,value:u.name,onChange:D=>h({...u,name:D.target.value})}),v.jsx("textarea",{style:At.textarea,value:u.description,onChange:D=>h({...u,description:D.target.value})}),v.jsx("input",{style:At.input,type:"number",value:u.points,onChange:D=>h({...u,points:D.target.value})}),v.jsx("input",{style:At.input,value:u.image,onChange:D=>h({...u,image:D.target.value})}),v.jsxs("label",{style:At.checkboxRow,children:[v.jsx("input",{type:"checkbox",checked:!!u.active,onChange:D=>h({...u,active:D.target.checked})}),v.jsx("span",{children:"Actief (zichtbaar in shop)"})]}),v.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[v.jsx("button",{onClick:b,style:At.saveBtn,children:" Opslaan"}),v.jsx("button",{onClick:()=>h(null),style:At.cancelBtn,children:"Annuleren"})]})]}),m&&v.jsx("p",{style:At.message,children:m})]})}const At={page:{fontFamily:"Inter, system-ui, sans-serif",padding:"2rem",background:"#f4f6fb",minHeight:"100vh"},addBox:{background:"#fff",padding:"1.5rem",borderRadius:12,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"2rem"},editBox:{background:"#fff8e1",padding:"1.5rem",borderRadius:12,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginTop:"2rem"},input:{width:"100%",padding:"0.6rem",borderRadius:8,border:"1px solid #ccc",marginBottom:"0.8rem"},textarea:{width:"100%",height:"80px",padding:"0.6rem",borderRadius:8,border:"1px solid #ccc",marginBottom:"0.8rem"},table:{width:"100%",borderCollapse:"collapse",background:"#fff",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},saveBtn:{background:"#004aad",color:"#fff",border:"none",borderRadius:8,padding:"0.6rem 1.2rem",cursor:"pointer",fontWeight:"bold"},cancelBtn:{background:"#ccc",color:"#000",border:"none",borderRadius:8,padding:"0.6rem 1.2rem",cursor:"pointer"},smallBtn:{background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"0.3rem 0.6rem",cursor:"pointer",marginRight:"0.4rem",fontSize:12},editBtn:{background:"#ff9800",color:"#fff",border:"none",borderRadius:6,padding:"0.4rem 0.8rem",cursor:"pointer",marginRight:"0.4rem"},deleteBtn:{background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"0.4rem 0.8rem",cursor:"pointer"},checkboxRow:{display:"flex",alignItems:"center",gap:"0.4rem",marginBottom:"0.8rem",fontSize:14},message:{marginTop:"1rem",textAlign:"center",color:"#004aad",fontWeight:"bold"}};function AV(){const[r,e]=L.useState([]),[n,s]=L.useState(""),[o,u]=L.useState(1),[h,m]=L.useState({}),[p,g]=L.useState({}),E=25;L.useEffect(()=>{async function V(){const W=(await gn(rt(ve,"users"))).docs.map(ie=>({id:ie.id,...ie.data()}));e(W)}V()},[]),L.useEffect(()=>{async function V(){const Y={};for(let W of r){const ie=yi(rt(ve,"registrations"),xr("installer_uid","==",W.id),xr("status","==","pending")),he=await gn(ie);Y[W.id]=he.docs.map(ye=>({id:ye.id,...ye.data()}))}g(Y)}r.length>0&&V()},[r]);const b=r.filter(V=>(V.email||"").toLowerCase().includes(n.toLowerCase())),S=Math.ceil(b.length/E),R=(o-1)*E,D=b.slice(R,R+E);async function B(V,Y){const W=lt(ve,"users",V),he=(await gn(yi(rt(ve,"users"),xr("__name__","==",V)))).docs[0].data().points_total||0;await Zn(W,{points_total:he+Y}),e(ye=>ye.map(be=>be.id===V?{...be,points_total:he+Y}:be)),m({...h,[V]:""})}return v.jsxs("div",{className:"admin-layout",children:[v.jsx(Va,{}),v.jsxs("div",{className:"admin-content",children:[v.jsx("h1",{children:" Puntenbeheer"}),v.jsx("input",{className:"admin-search",placeholder:"Zoek op e-mail...",value:n,onChange:V=>{s(V.target.value),u(1)}}),v.jsxs("table",{className:"admin-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Email"}),v.jsx("th",{children:"Huidige punten"}),v.jsx("th",{children:"Pas punten aan"}),v.jsx("th",{children:"Openstaande registraties"}),v.jsx("th",{children:"Acties"})]})}),v.jsxs("tbody",{children:[D.map(V=>v.jsxs("tr",{children:[v.jsx("td",{children:V.email}),v.jsx("td",{children:V.points_total||0}),v.jsxs("td",{children:[v.jsx("input",{type:"number",style:{width:"80px",padding:"6px",borderRadius:"6px",border:"1px solid #ccc"},value:h[V.id]||"",onChange:Y=>m({...h,[V.id]:Y.target.value})}),v.jsx("button",{className:"admin-btn",style:{marginLeft:"6px"},onClick:()=>B(V.id,Number(h[V.id]||0)),children:" Opslaan"})]}),v.jsx("td",{children:(p[V.id]?.length||0)>0?v.jsxs("span",{style:{color:"#d33",fontWeight:"bold"},children:[p[V.id].length," open"]}):v.jsx("span",{style:{color:"green"},children:"Geen"})}),v.jsx("td",{children:v.jsx(tn,{className:"admin-btn",to:`/admin/registraties?user=${V.id}`,children:"Bekijk registraties"})})]},V.id)),D.length===0&&v.jsx("tr",{children:v.jsx("td",{className:"admin-empty",colSpan:"5",children:"Geen gebruikers gevonden."})})]})]}),v.jsxs("div",{className:"admin-pagination",children:[v.jsx("button",{disabled:o<=1,onClick:()=>u(V=>V-1),className:"admin-page-btn",children:" Vorige"}),v.jsxs("span",{children:["Pagina ",o," van ",S]}),v.jsx("button",{disabled:o>=S,onClick:()=>u(V=>V+1),className:"admin-page-btn",children:"Volgende "})]})]})]})}function SV(){const[r,e]=L.useState([]),[n,s]=L.useState([]),[o,u]=L.useState(!0),[h,m]=L.useState("");L.useEffect(()=>{async function g(){u(!0);const b=(await gn(rt(ve,"users"))).docs.map(V=>({id:V.id,...V.data()}));s(b);const S=yi(rt(ve,"registrations"),xr("installer_uid","==",null)),B=(await gn(S)).docs.map(V=>({id:V.id,...V.data()})).map(V=>{const Y=b.find(W=>V.installer_email&&W.email?.toLowerCase()===V.installer_email.toLowerCase());return{...V,autoMatch:Y?Y.id:""}});e(B),u(!1)}g()},[]);async function p(g,E){try{const b=lt(ve,"registrations",g);await Zn(b,{installer_uid:E,status:"pending"}),m(" Koppeling opgeslagen!"),e(S=>S.filter(R=>R.id!==g))}catch(b){console.error(b),m(" Fout bij opslaan koppeling.")}}return o?v.jsx("p",{style:{padding:20},children:" Laden..."}):v.jsxs("div",{className:"admin-layout",children:[v.jsx(Va,{})," ",v.jsxs("div",{className:"admin-content",children:[v.jsx("h1",{children:" Registraties koppelen"}),h&&v.jsx("p",{children:h}),r.length===0&&v.jsx("p",{children:" Geen openstaande registraties om te koppelen."}),r.map(g=>v.jsxs("div",{className:"stat-card",style:{marginBottom:20},children:[v.jsxs("h3",{children:["Registratie: ",g.serial||"(geen serienummer)"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email installateur:"})," ",g.installer_email||"Onbekend"]}),v.jsx("label",{style:{fontWeight:"bold"},children:"Koppel aan installateur:"}),v.jsxs("select",{className:"admin-select",defaultValue:g.autoMatch||"",onChange:E=>p(g.id,E.target.value),children:[v.jsx("option",{value:"",children:"-- Kies installateur --"}),n.map(E=>v.jsxs("option",{value:E.id,children:[E.email," (",E.company||"Geen bedrijf",")"]},E.id))]}),g.autoMatch&&v.jsx("p",{style:{color:"green",marginTop:6},children:" Automatische match gevonden!"})]},g.id))]})]})}function wV(){const[r,e]=L.useState("");async function n(){const h=(await gn(rt(ve,"users"))).docs.map(p=>({id:p.id,...p.data()})),m=[["id","email","name","company","role","points"],...h.map(p=>[p.id,p.email||"",p.name||"",p.company||"",p.role||"user",p.points||0])].map(p=>p.join(",")).join(`
`);o("users_export.csv",m)}async function s(u){const h=u.target.files[0];if(!h)return;const p=(await h.text()).split(`
`).slice(1);for(let g of p){if(!g.trim())continue;const[E,b,S,R,D,B]=g.split(",");await qo(lt(ve,"users",E),{email:b,name:S,company:R,role:D,points:Number(B||0)},{merge:!0})}e(" Gebruikers succesvol gemporteerd!")}function o(u,h){const m=document.createElement("a");m.href=URL.createObjectURL(new Blob([h],{type:"text/csv"})),m.download=u,m.click()}return v.jsxs("div",{children:[v.jsx("h2",{children:" Gebruikers import/export"}),v.jsx("button",{onClick:n,className:"admin-btn",children:" Exporteer gebruikers"}),v.jsx("br",{}),v.jsx("br",{}),v.jsx("input",{type:"file",accept:".csv",onChange:s}),r&&v.jsx("p",{children:r})]})}function RV(){const[r,e]=L.useState("");async function n(){const h=(await gn(rt(ve,"registrations"))).docs.map(p=>({id:p.id,...p.data()})),m=[["id","serial","installer_email","installer_uid","status"],...h.map(p=>[p.id,p.serial||"",p.installer_email||"",p.installer_uid||"",p.status||"pending"])].map(p=>p.join(",")).join(`
`);o("registrations_export.csv",m)}async function s(u){const h=u.target.files[0];if(!h)return;const p=(await h.text()).split(`
`).slice(1);for(let g of p){if(!g.trim())continue;const[E,b,S,R,D]=g.split(",");await qo(lt(ve,"registrations",E),{serial:b,installer_email:S,installer_uid:R||null,status:D||"pending"},{merge:!0})}e(" Registraties gemporteerd!")}function o(u,h){const m=document.createElement("a");m.href=URL.createObjectURL(new Blob([h],{type:"text/csv"})),m.download=u,m.click()}return v.jsxs("div",{children:[v.jsx("h2",{children:" Registraties import/export"}),v.jsx("button",{onClick:n,className:"admin-btn",children:" Exporteer registraties"}),v.jsx("br",{}),v.jsx("br",{}),v.jsx("input",{type:"file",accept:".csv",onChange:s}),r&&v.jsx("p",{children:r})]})}function IV(){const[r,e]=L.useState("");async function n(){const h=(await gn(rt(ve,"users"))).docs.map(p=>({id:p.id,...p.data()})),m=[["id","email","points"],...h.map(p=>[p.id,p.email,p.points||0])].map(p=>p.join(",")).join(`
`);o("points_export.csv",m)}async function s(u){const h=u.target.files[0];if(!h)return;const p=(await h.text()).split(`
`).slice(1);for(let g of p){if(!g.trim())continue;const[E,b,S]=g.split(",");await Zn(lt(ve,"users",E),{points:Number(S)})}e(" Punten gepdatet!")}function o(u,h){const m=document.createElement("a");m.href=URL.createObjectURL(new Blob([h],{type:"text/csv"})),m.download=u,m.click()}return v.jsxs("div",{children:[v.jsx("h2",{children:" Punten import/export"}),v.jsx("button",{onClick:n,className:"admin-btn",children:" Exporteer punten"}),v.jsx("br",{}),v.jsx("br",{}),v.jsx("input",{type:"file",accept:".csv",onChange:s}),r&&v.jsx("p",{children:r})]})}function CV(){const[r,e]=L.useState("users");return v.jsxs("div",{className:"admin-layout",children:[v.jsx(Va,{}),v.jsxs("div",{className:"admin-content",children:[v.jsx("h1",{children:" Import & Export"}),v.jsx("p",{children:"Kies een categorie om te importeren of exporteren."}),v.jsxs("div",{style:ga.tabs,children:[v.jsx("button",{onClick:()=>e("users"),style:r==="users"?ga.active:ga.tab,children:" Gebruikers"}),v.jsx("button",{onClick:()=>e("registrations"),style:r==="registrations"?ga.active:ga.tab,children:" Registraties"}),v.jsx("button",{onClick:()=>e("points"),style:r==="points"?ga.active:ga.tab,children:" Punten"})]}),r==="users"&&v.jsx(wV,{}),r==="registrations"&&v.jsx(RV,{}),r==="points"&&v.jsx(IV,{})]})]})}const ga={tabs:{display:"flex",gap:"1rem",marginBottom:"2rem"},tab:{padding:"0.7rem 1.2rem",background:"#e6eaff",border:"1px solid #ccd5ff",borderRadius:8,cursor:"pointer"},active:{padding:"0.7rem 1.2rem",background:"#004aad",border:"1px solid #00357a",borderRadius:8,color:"white",cursor:"pointer"}};function xV(){const[r,e]=L.useState([]),[n,s]=L.useState(null),[o,u]=L.useState("all"),h=25;L.useEffect(()=>{m(!0)},[o]);async function m(g=!1){let E=yi(rt(ve,"logs"),Hh("timestamp","desc"),lp(h));o!=="all"&&(E=yi(rt(ve,"logs"),Hh("timestamp","desc"),lp(h)));const b=await gn(E);e(g?b.docs.map(S=>({id:S.id,...S.data()})):S=>[...S,...b.docs.map(R=>({id:R.id,...R.data()}))]),s(b.docs[b.docs.length-1]||null)}async function p(){if(!n)return;const g=yi(rt(ve,"logs"),Hh("timestamp","desc"),AO(n),lp(h)),E=await gn(g);e(b=>[...b,...E.docs.map(S=>({id:S.id,...S.data()}))]),s(E.docs[E.docs.length-1]||null)}return v.jsxs("div",{className:"admin-layout",children:[v.jsx(Va,{}),v.jsxs("div",{className:"admin-content",children:[v.jsx("h1",{className:"admin-title",children:" Logboek"}),v.jsx("div",{className:"admin-filters",children:v.jsxs("select",{className:"admin-select",value:o,onChange:g=>u(g.target.value),children:[v.jsx("option",{value:"all",children:"Alle gebeurtenissen"}),v.jsx("option",{value:"login",children:"Logins"}),v.jsx("option",{value:"admin_action",children:"Admin acties"}),v.jsx("option",{value:"registration_update",children:"Registratie wijzigingen"}),v.jsx("option",{value:"points_change",children:"Puntentransacties"})]})}),v.jsxs("table",{className:"admin-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Tijd"}),v.jsx("th",{children:"Type"}),v.jsx("th",{children:"Actie"}),v.jsx("th",{children:"Gebruiker"}),v.jsx("th",{children:"Details"})]})}),v.jsxs("tbody",{children:[r.map(g=>v.jsxs("tr",{children:[v.jsx("td",{children:g.timestamp?.toDate?g.timestamp.toDate().toLocaleString():"-"}),v.jsx("td",{children:g.type}),v.jsx("td",{children:g.action}),v.jsx("td",{children:g.email?v.jsxs(v.Fragment,{children:[v.jsx("strong",{children:g.email}),v.jsx("br",{}),v.jsx("small",{children:g.uid})]}):"System"}),v.jsx("td",{children:g.details&&Object.keys(g.details).length>0?v.jsx("pre",{style:{fontSize:"0.75rem"},children:JSON.stringify(g.details,null,2)}):"-"})]},g.id)),r.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:"5",className:"admin-empty",children:"Geen logitems gevonden."})})]})]}),n&&v.jsx("div",{className:"pagination",children:v.jsx("button",{onClick:p,children:"Meer laden "})})]})]})}function DV(){const[r,e]=L.useState([]),[n,s]=L.useState(!0);async function o(){const h=await gn(rt(ve,"mailTemplates"));e(h.docs.map(m=>({id:m.id,...m.data()}))),s(!1)}async function u(h,m,p){const g=lt(ve,"mailTemplates",h);await Zn(g,{subject:m,body:p,updatedAt:new Date}),alert("Template opgeslagen!")}return L.useEffect(()=>{o()},[]),n?v.jsx("p",{children:"Templates laden..."}):v.jsxs("div",{className:"admin-layout",children:[v.jsx(Va,{}),v.jsxs("div",{className:"admin-content",children:[v.jsx("h1",{children:" Mail Templates"}),r.map(h=>v.jsxs("div",{className:"template-card",children:[v.jsx("h2",{children:h.id}),v.jsx("label",{children:"Onderwerp"}),v.jsx("input",{defaultValue:h.subject,id:`subject_${h.id}`}),v.jsx("label",{children:"Body (HTML toegestaan)"}),v.jsx("textarea",{rows:"6",defaultValue:h.body,id:`body_${h.id}`}),v.jsx("button",{onClick:()=>{const m=document.getElementById(`subject_${h.id}`).value,p=document.getElementById(`body_${h.id}`).value;u(h.id,m,p)},children:"Opslaan"})]},h.id))]})]})}function Sr({role:r,children:e}){return r==="admin"?e:v.jsx(fp,{to:"/",replace:!0})}function NV(){const[r,e]=L.useState(null),[n,s]=L.useState(""),[o,u]=L.useState(!1),[h,m]=L.useState(!0),p=7.5*30*500;return L.useEffect(()=>{const g=ZC(Ta,async E=>{if(E){e(E);const b=lt(ve,"users",E.uid),S=await Zo(b);if(S.exists()){const R=S.data();s(R.role||"user"),u(R.profile_completed||!1)}else s("user"),u(!1)}else e(null),s(""),u(!1);m(!1)});return()=>g()},[]),L.useEffect(()=>{if(!r)return;let g;const E=()=>{g&&clearTimeout(g),g=setTimeout(()=>{console.log("Geen activiteit, gebruiker wordt automatisch uitgelogd."),ub(Ta)},p)},b=["mousemove","keydown","click","scroll","touchstart"];return b.forEach(S=>{window.addEventListener(S,E)}),E(),()=>{g&&clearTimeout(g),b.forEach(S=>{window.removeEventListener(S,E)})}},[r,p]),h?v.jsx("p",{style:{padding:20},children:" Laden..."}):r?o?v.jsxs(NE,{children:[v.jsx(Gt,{path:"/",element:v.jsx(hV,{user:r,role:n})}),v.jsx(Gt,{path:"/shop",element:v.jsx(fV,{user:r})}),v.jsx(Gt,{path:"/instellingen",element:v.jsx(dV,{user:r})}),v.jsx(Gt,{path:"/registratie",element:v.jsx(pV,{user:r})}),v.jsx(Gt,{path:"/admin",element:v.jsx(Sr,{role:n,children:v.jsx(vV,{user:r})})}),v.jsx(Gt,{path:"/admin/users",element:v.jsx(Sr,{role:n,children:v.jsx(EV,{user:r})})}),v.jsx(Gt,{path:"/admin/registraties",element:v.jsx(Sr,{role:n,children:v.jsx(TV,{user:r})})}),v.jsx(Gt,{path:"/admin/producten",element:v.jsx(Sr,{role:n,children:v.jsx(bV,{user:r})})}),v.jsx(Gt,{path:"/admin/punten",element:v.jsx(Sr,{role:n,children:v.jsx(AV,{user:r})})}),v.jsx(Gt,{path:"/admin/koppelingen",element:v.jsx(Sr,{role:n,children:v.jsx(SV,{user:r})})}),v.jsx(Gt,{path:"/admin/importexport",element:v.jsx(Sr,{role:n,children:v.jsx(CV,{user:r})})}),v.jsx(Gt,{path:"/admin/logboek",element:v.jsx(Sr,{role:n,children:v.jsx(xV,{user:r})})}),v.jsx(Gt,{path:"/admin/instellingen",element:v.jsx(Sr,{role:n,children:v.jsx(DV,{user:r})})}),v.jsx(Gt,{path:"*",element:v.jsx(fp,{to:"/",replace:!0})})]}):v.jsx(mV,{user:r}):v.jsxs(NE,{children:[v.jsx(Gt,{path:"/login",element:v.jsx(gV,{})}),v.jsx(Gt,{path:"/register",element:v.jsx(yV,{})}),v.jsx(Gt,{path:"*",element:v.jsx(fp,{to:"/login",replace:!0})})]})}Gw.createRoot(document.getElementById("root")).render(v.jsx(jw.StrictMode,{children:v.jsx(iR,{children:v.jsx(NV,{})})}));
