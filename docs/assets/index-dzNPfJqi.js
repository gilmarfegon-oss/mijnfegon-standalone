(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function w0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var qm={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function n1(){if(RE)return iu;RE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return iu.Fragment=e,iu.jsx=n,iu.jsxs=n,iu}var CE;function i1(){return CE||(CE=1,qm.exports=n1()),qm.exports}var T=i1(),Hm={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function r1(){if(IE)return we;IE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function R(P){return P===null||typeof P!="object"?null:(P=A&&P[A]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,M={};function Y(P,te,oe){this.props=P,this.context=te,this.refs=M,this.updater=oe||x}Y.prototype.isReactComponent={},Y.prototype.setState=function(P,te){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,te,"setState")},Y.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function X(){}X.prototype=Y.prototype;function ie(P,te,oe){this.props=P,this.context=te,this.refs=M,this.updater=oe||x}var fe=ie.prototype=new X;fe.constructor=ie,B(fe,Y.prototype),fe.isPureReactComponent=!0;var Ee=Array.isArray;function Te(){}var O={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(P,te,oe){var ue=oe.ref;return{$$typeof:i,type:P,key:te,ref:ue!==void 0?ue:null,props:oe}}function U(P,te){return I(P.type,te,P.props)}function V(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function z(P){var te={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return te[oe]})}var D=/\/+/g;function lt(P,te){return typeof P=="object"&&P!==null&&P.key!=null?z(""+P.key):te.toString(36)}function Lt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Te,Te):(P.status="pending",P.then(function(te){P.status==="pending"&&(P.status="fulfilled",P.value=te)},function(te){P.status==="pending"&&(P.status="rejected",P.reason=te)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function W(P,te,oe,ue,be){var Ie=typeof P;(Ie==="undefined"||Ie==="boolean")&&(P=null);var Ue=!1;if(P===null)Ue=!0;else switch(Ie){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(P.$$typeof){case i:case e:Ue=!0;break;case v:return Ue=P._init,W(Ue(P._payload),te,oe,ue,be)}}if(Ue)return be=be(P),Ue=ue===""?"."+lt(P,0):ue,Ee(be)?(oe="",Ue!=null&&(oe=Ue.replace(D,"$&/")+"/"),W(be,te,oe,"",function(zs){return zs})):be!=null&&(V(be)&&(be=U(be,oe+(be.key==null||P&&P.key===be.key?"":(""+be.key).replace(D,"$&/")+"/")+Ue)),te.push(be)),1;Ue=0;var Ut=ue===""?".":ue+":";if(Ee(P))for(var ut=0;ut<P.length;ut++)ue=P[ut],Ie=Ut+lt(ue,ut),Ue+=W(ue,te,oe,Ie,be);else if(ut=R(P),typeof ut=="function")for(P=ut.call(P),ut=0;!(ue=P.next()).done;)ue=ue.value,Ie=Ut+lt(ue,ut++),Ue+=W(ue,te,oe,Ie,be);else if(Ie==="object"){if(typeof P.then=="function")return W(Lt(P),te,oe,ue,be);throw te=String(P),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(P,te,oe){if(P==null)return P;var ue=[],be=0;return W(P,ue,"","",function(Ie){return te.call(oe,Ie,be++)}),ue}function pe(P){if(P._status===-1){var te=P._result;te=te(),te.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=te)}if(P._status===1)return P._result.default;throw P._result}var ze=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ke={map:ae,forEach:function(P,te,oe){ae(P,function(){te.apply(this,arguments)},oe)},count:function(P){var te=0;return ae(P,function(){te++}),te},toArray:function(P){return ae(P,function(te){return te})||[]},only:function(P){if(!V(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return we.Activity=b,we.Children=Ke,we.Component=Y,we.Fragment=n,we.Profiler=o,we.PureComponent=ie,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,we.__COMPILER_RUNTIME={__proto__:null,c:function(P){return O.H.useMemoCache(P)}},we.cache=function(P){return function(){return P.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(P,te,oe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=B({},P.props),be=P.key;if(te!=null)for(Ie in te.key!==void 0&&(be=""+te.key),te)!C.call(te,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&te.ref===void 0||(ue[Ie]=te[Ie]);var Ie=arguments.length-2;if(Ie===1)ue.children=oe;else if(1<Ie){for(var Ue=Array(Ie),Ut=0;Ut<Ie;Ut++)Ue[Ut]=arguments[Ut+2];ue.children=Ue}return I(P.type,be,ue)},we.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},we.createElement=function(P,te,oe){var ue,be={},Ie=null;if(te!=null)for(ue in te.key!==void 0&&(Ie=""+te.key),te)C.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=te[ue]);var Ue=arguments.length-2;if(Ue===1)be.children=oe;else if(1<Ue){for(var Ut=Array(Ue),ut=0;ut<Ue;ut++)Ut[ut]=arguments[ut+2];be.children=Ut}if(P&&P.defaultProps)for(ue in Ue=P.defaultProps,Ue)be[ue]===void 0&&(be[ue]=Ue[ue]);return I(P,Ie,be)},we.createRef=function(){return{current:null}},we.forwardRef=function(P){return{$$typeof:m,render:P}},we.isValidElement=V,we.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:pe}},we.memo=function(P,te){return{$$typeof:g,type:P,compare:te===void 0?null:te}},we.startTransition=function(P){var te=O.T,oe={};O.T=oe;try{var ue=P(),be=O.S;be!==null&&be(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Te,ze)}catch(Ie){ze(Ie)}finally{te!==null&&oe.types!==null&&(te.types=oe.types),O.T=te}},we.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},we.use=function(P){return O.H.use(P)},we.useActionState=function(P,te,oe){return O.H.useActionState(P,te,oe)},we.useCallback=function(P,te){return O.H.useCallback(P,te)},we.useContext=function(P){return O.H.useContext(P)},we.useDebugValue=function(){},we.useDeferredValue=function(P,te){return O.H.useDeferredValue(P,te)},we.useEffect=function(P,te){return O.H.useEffect(P,te)},we.useEffectEvent=function(P){return O.H.useEffectEvent(P)},we.useId=function(){return O.H.useId()},we.useImperativeHandle=function(P,te,oe){return O.H.useImperativeHandle(P,te,oe)},we.useInsertionEffect=function(P,te){return O.H.useInsertionEffect(P,te)},we.useLayoutEffect=function(P,te){return O.H.useLayoutEffect(P,te)},we.useMemo=function(P,te){return O.H.useMemo(P,te)},we.useOptimistic=function(P,te){return O.H.useOptimistic(P,te)},we.useReducer=function(P,te,oe){return O.H.useReducer(P,te,oe)},we.useRef=function(P){return O.H.useRef(P)},we.useState=function(P){return O.H.useState(P)},we.useSyncExternalStore=function(P,te,oe){return O.H.useSyncExternalStore(P,te,oe)},we.useTransition=function(){return O.H.useTransition()},we.version="19.2.0",we}var xE;function Hp(){return xE||(xE=1,Hm.exports=r1()),Hm.exports}var L=Hp();const s1=w0(L);var Fm={exports:{}},ru={},Gm={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function a1(){return DE||(DE=1,(function(i){function e(W,ae){var pe=W.length;W.push(ae);e:for(;0<pe;){var ze=pe-1>>>1,Ke=W[ze];if(0<o(Ke,ae))W[ze]=ae,W[pe]=Ke,pe=ze;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ae=W[0],pe=W.pop();if(pe!==ae){W[0]=pe;e:for(var ze=0,Ke=W.length,P=Ke>>>1;ze<P;){var te=2*(ze+1)-1,oe=W[te],ue=te+1,be=W[ue];if(0>o(oe,pe))ue<Ke&&0>o(be,oe)?(W[ze]=be,W[ue]=pe,ze=ue):(W[ze]=oe,W[te]=pe,ze=te);else if(ue<Ke&&0>o(be,pe))W[ze]=be,W[ue]=pe,ze=ue;else break e}}return ae}function o(W,ae){var pe=W.sortIndex-ae.sortIndex;return pe!==0?pe:W.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,b=null,A=3,R=!1,x=!1,B=!1,M=!1,Y=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function fe(W){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=W)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function Ee(W){if(B=!1,fe(W),!x)if(n(p)!==null)x=!0,Te||(Te=!0,z());else{var ae=n(g);ae!==null&&Lt(Ee,ae.startTime-W)}}var Te=!1,O=-1,C=5,I=-1;function U(){return M?!0:!(i.unstable_now()-I<C)}function V(){if(M=!1,Te){var W=i.unstable_now();I=W;var ae=!0;try{e:{x=!1,B&&(B=!1,X(O),O=-1),R=!0;var pe=A;try{t:{for(fe(W),b=n(p);b!==null&&!(b.expirationTime>W&&U());){var ze=b.callback;if(typeof ze=="function"){b.callback=null,A=b.priorityLevel;var Ke=ze(b.expirationTime<=W);if(W=i.unstable_now(),typeof Ke=="function"){b.callback=Ke,fe(W),ae=!0;break t}b===n(p)&&s(p),fe(W)}else s(p);b=n(p)}if(b!==null)ae=!0;else{var P=n(g);P!==null&&Lt(Ee,P.startTime-W),ae=!1}}break e}finally{b=null,A=pe,R=!1}ae=void 0}}finally{ae?z():Te=!1}}}var z;if(typeof ie=="function")z=function(){ie(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,lt=D.port2;D.port1.onmessage=V,z=function(){lt.postMessage(null)}}else z=function(){Y(V,0)};function Lt(W,ae){O=Y(function(){W(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(W){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var pe=A;A=ae;try{return W()}finally{A=pe}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pe=A;A=W;try{return ae()}finally{A=pe}},i.unstable_scheduleCallback=function(W,ae,pe){var ze=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,W){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=pe+Ke,W={id:v++,callback:ae,priorityLevel:W,startTime:pe,expirationTime:Ke,sortIndex:-1},pe>ze?(W.sortIndex=pe,e(g,W),n(p)===null&&W===n(g)&&(B?(X(O),O=-1):B=!0,Lt(Ee,pe-ze))):(W.sortIndex=Ke,e(p,W),x||R||(x=!0,Te||(Te=!0,z()))),W},i.unstable_shouldYield=U,i.unstable_wrapCallback=function(W){var ae=A;return function(){var pe=A;A=ae;try{return W.apply(this,arguments)}finally{A=pe}}}})(Km)),Km}var NE;function o1(){return NE||(NE=1,Gm.exports=a1()),Gm.exports}var Qm={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function l1(){if(OE)return sn;OE=1;var i=Hp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},sn.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},sn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},sn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},sn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:R}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},sn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},sn.requestFormReset=function(p){s.d.r(p)},sn.unstable_batchedUpdates=function(p,g){return p(g)},sn.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},sn.useFormStatus=function(){return h.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var ME;function u1(){if(ME)return Qm.exports;ME=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Qm.exports=l1(),Qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function c1(){if(VE)return ru;VE=1;var i=o1(),e=Hp(),n=u1();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function v(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=v(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case Y:return"Profiler";case M:return"StrictMode";case Ee:return"Suspense";case Te:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case ie:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case fe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:lt(t.type)||"Memo";case C:r=t._payload,t=t._init;try{return lt(t(r))}catch{}}return null}var Lt=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],Ke=-1;function P(t){return{current:t}}function te(t){0>Ke||(t.current=ze[Ke],ze[Ke]=null,Ke--)}function oe(t,r){Ke++,ze[Ke]=t.current,t.current=r}var ue=P(null),be=P(null),Ie=P(null),Ue=P(null);function Ut(t,r){switch(oe(Ie,r),oe(be,t),oe(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?$v(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=$v(r),t=Xv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ue),oe(ue,t)}function ut(){te(ue),te(be),te(Ie)}function zs(t){t.memoizedState!==null&&oe(Ue,t);var r=ue.current,a=Xv(r,t.type);r!==a&&(oe(be,t),oe(ue,a))}function La(t){be.current===t&&(te(ue),te(be)),Ue.current===t&&(te(Ue),Zl._currentValue=pe)}var Ua,ja;function vi(t){if(Ua===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ua=r&&r[1]||"",ja=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+t+ja}var Zo=!1;function Bs(t,r){if(!t||Zo)return"";Zo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var G=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){G=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),F=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===F.length)for(l=N.length-1,f=F.length-1;1<=l&&0<=f&&N[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==F[f]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{Zo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?vi(a):""}function el(t,r){switch(t.tag){case 26:case 27:case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return t.child!==r&&r!==null?vi("Suspense Fallback"):vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Bs(t.type,!1);case 11:return Bs(t.type.render,!1);case 1:return Bs(t.type,!0);case 31:return vi("Activity");default:return""}}function tl(t){try{var r="",a=null;do r+=el(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var St=Object.prototype.hasOwnProperty,jt=i.unstable_scheduleCallback,jr=i.unstable_cancelCallback,Ff=i.unstable_shouldYield,Yu=i.unstable_requestPaint,cn=i.unstable_now,qs=i.unstable_getCurrentPriorityLevel,nl=i.unstable_ImmediatePriority,il=i.unstable_UserBlockingPriority,zr=i.unstable_NormalPriority,Gf=i.unstable_LowPriority,$u=i.unstable_IdlePriority,Xu=i.log,Wu=i.unstable_setDisableYieldValue,ti=null,Yt=null;function Un(t){if(typeof Xu=="function"&&Wu(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ti,t)}catch{}}var vt=Math.clz32?Math.clz32:Zu,Ju=Math.log,za=Math.LN2;function Zu(t){return t>>>=0,t===0?32:31-(Ju(t)/za|0)|0}var Ei=256,Hs=262144,wt=4194304;function Ti(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=Ti(l):(_&=S,_!==0?f=Ti(_):a||(a=S&~t,a!==0&&(f=Ti(a))))):(S=l&~d,S!==0?f=Ti(S):_!==0?f=Ti(_):a||(a=l&~t,a!==0&&(f=Ti(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ni(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Kf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function Ai(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Fs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-vt(a),ee=1<<$;S[$]=0,N[$]=-1;var G=F[$];if(G!==null)for(F[$]=null,$=0;$<G.length;$++){var Q=G[$];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&Gs(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Gs(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-vt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function rl(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-vt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function sl(t,r){var a=r&-r;return a=(a&42)!==0?1:Ks(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ks(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tc(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:vE(t.type))}function ii(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var ri=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ri,qt="__reactProps$"+ri,Si="__reactContainer$"+ri,Ba="__reactEvents$"+ri,Yf="__reactListeners$"+ri,nc="__reactHandles$"+ri,ic="__reactResources$"+ri,wi="__reactMarker$"+ri;function qa(t){delete t[Rt],delete t[qt],delete t[Ba],delete t[Yf],delete t[nc]}function Ri(t){var r=t[Rt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Si]||a[Rt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=iE(t);t!==null;){if(a=t[Rt])return a;t=iE(t)}return r}t=a,a=t.parentNode}return null}function jn(t){if(t=t[Rt]||t[Si]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Cn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ci(t){var r=t[ic];return r||(r=t[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ct(t){t[wi]=!0}var al=new Set,ol={};function Ii(t,r){xi(t,r),xi(t+"Capture",r)}function xi(t,r){for(ol[t]=r,t=0;t<r.length;t++)al.add(r[t])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},cl={};function rc(t){return St.call(cl,t)?!0:St.call(ul,t)?!1:ll.test(t)?cl[t]=!0:(ul[t]=!0,!1)}function Ha(t,r,a){if(rc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function In(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function It(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Br(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hl(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qe(t){if(!t._valueTracker){var r=Br(t)?"checked":"value";t._valueTracker=hl(t,r,""+t[r])}}function Qs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Br(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ys=/[\n"\\]/g;function pn(t){return t.replace(Ys,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fa(t,r,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ht(r)):t.value!==""+Ht(r)&&(t.value=""+Ht(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?fl(t,_,Ht(r)):a!=null?fl(t,_,Ht(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ht(S):t.removeAttribute("name")}function sc(t,r,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Qe(t);return}a=a!=null?""+Ht(a):"",r=r!=null?""+Ht(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function fl(t,r,a){r==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function qr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function ac(t,r,a){if(r!=null&&(r=""+Ht(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Ht(a):""}function Hr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Ht(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function gn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||oc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function ml(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&dl(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&dl(t,d,r[d])}function Ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(t){return Fr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var pl=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gr=null,Ni=null;function $s(t){var r=jn(t);if(r&&(t=r.stateNode)){var a=t[qt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[qt]||null;if(!f)throw Error(s(90));Fa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Qs(l)}break e;case"textarea":ac(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&qr(t,!!a.multiple,r,!1)}}}var Qa=!1;function Kr(t,r,a){if(Qa)return t(r,a);Qa=!0;try{var l=t(r);return l}finally{if(Qa=!1,(Gr!==null||Ni!==null)&&(th(),Gr&&(r=Gr,t=Ni,Ni=Gr=null,$s(r),t)))for(r=0;r<t.length;r++)$s(t[r])}}function ai(t,r){var a=t.stateNode;if(a===null)return null;var l=a[qt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(Bn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Xs=!1}var Oi=null,gl=null,Ws=null;function yl(){if(Ws)return Ws;var t,r=gl,a=r.length,l,f="value"in Oi?Oi.value:Oi.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Ws=f.slice(t,1<l?1-l:void 0)}function Js(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function sr(){return!0}function oi(){return!1}function $t(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?sr:oi,this.isPropagationStopped=oi,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),r}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=$t(ar),Qr=b({},ar,{view:0,detail:0}),_l=$t(Qr),Yr,Ya,Vi,$a=b({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(Yr=t.screenX-Vi.screenX,Ya=t.screenY-Vi.screenY):Ya=Yr=0,Vi=t),Yr)},movementY:function(t){return"movementY"in t?t.movementY:Ya}}),vl=$t($a),Zs=b({},$a,{dataTransfer:0}),uc=$t(Zs),cc=b({},Qr,{relatedTarget:0}),ea=$t(cc),El=b({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),hc=$t(El),Xa=b({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fc=$t(Xa),dc=b({},ar,{data:0}),ki=$t(dc),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=gc[t])?!!r[t]:!1}function $r(){return yc}var hn=b({},Qr,{key:function(t){if(t.key){var r=mc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(t){return t.type==="keypress"?Js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_c=$t(hn),vc=b({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),or=$t(vc),c=b({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),y=$t(c),E=b({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=$t(E),q=b({},$a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=$t(q),re=b({},ar,{newState:0,oldState:0}),Re=$t(re),Et=[9,13,27,32],He=Bn&&"CompositionEvent"in window,ct=null;Bn&&"documentMode"in document&&(ct=document.documentMode);var qn=Bn&&"TextEvent"in window&&!ct,Pi=Bn&&(!He||ct&&8<ct&&11>=ct),li=" ",ui=!1;function ta(t,r){switch(t){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ja=!1;function RS(t,r){switch(t){case"compositionend":return Wa(r);case"keypress":return r.which!==32?null:(ui=!0,li);case"textInput":return t=r.data,t===li&&ui?null:t;default:return null}}function CS(t,r){if(Ja)return t==="compositionend"||!He&&ta(t,r)?(t=yl(),Ws=gl=Oi=null,Ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pi&&r.locale!=="ko"?null:r.data;default:return null}}var IS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ay(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!IS[t.type]:r==="textarea"}function oy(t,r,a,l){Gr?Ni?Ni.push(l):Ni=[l]:Gr=l,r=lh(r,"onChange"),0<r.length&&(a=new Mi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Tl=null,bl=null;function xS(t){Hv(t,0)}function Ec(t){var r=Cn(t);if(Qs(r))return t}function ly(t,r){if(t==="change")return r}var uy=!1;if(Bn){var $f;if(Bn){var Xf="oninput"in document;if(!Xf){var cy=document.createElement("div");cy.setAttribute("oninput","return;"),Xf=typeof cy.oninput=="function"}$f=Xf}else $f=!1;uy=$f&&(!document.documentMode||9<document.documentMode)}function hy(){Tl&&(Tl.detachEvent("onpropertychange",fy),bl=Tl=null)}function fy(t){if(t.propertyName==="value"&&Ec(bl)){var r=[];oy(r,bl,t,zn(t)),Kr(xS,r)}}function DS(t,r,a){t==="focusin"?(hy(),Tl=r,bl=a,Tl.attachEvent("onpropertychange",fy)):t==="focusout"&&hy()}function NS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ec(bl)}function OS(t,r){if(t==="click")return Ec(r)}function MS(t,r){if(t==="input"||t==="change")return Ec(r)}function VS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var xn=typeof Object.is=="function"?Object.is:VS;function Al(t,r){if(xn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!St.call(r,f)||!xn(t[f],r[f]))return!1}return!0}function dy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function my(t,r){var a=dy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dy(a)}}function py(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?py(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function gy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Di(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Di(t.document)}return r}function Wf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var kS=Bn&&"documentMode"in document&&11>=document.documentMode,Za=null,Jf=null,Sl=null,Zf=!1;function yy(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zf||Za==null||Za!==Di(l)||(l=Za,"selectionStart"in l&&Wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&Al(Sl,l)||(Sl=l,l=lh(Jf,"onSelect"),0<l.length&&(r=new Mi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Za)))}function na(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var eo={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},ed={},_y={};Bn&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function ia(t){if(ed[t])return ed[t];if(!eo[t])return t;var r=eo[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in _y)return ed[t]=r[a];return t}var vy=ia("animationend"),Ey=ia("animationiteration"),Ty=ia("animationstart"),PS=ia("transitionrun"),LS=ia("transitionstart"),US=ia("transitioncancel"),by=ia("transitionend"),Ay=new Map,td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");td.push("scrollEnd");function ci(t,r){Ay.set(t,r),Ii(r,[t])}var Tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],to=0,nd=0;function bc(){for(var t=to,r=nd=to=0;r<t;){var a=Hn[r];Hn[r++]=null;var l=Hn[r];Hn[r++]=null;var f=Hn[r];Hn[r++]=null;var d=Hn[r];if(Hn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Sy(a,f,d)}}function Ac(t,r,a,l){Hn[to++]=t,Hn[to++]=r,Hn[to++]=a,Hn[to++]=l,nd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function id(t,r,a,l){return Ac(t,r,a,l),Sc(t)}function ra(t,r){return Ac(t,null,null,r),Sc(t)}function Sy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-vt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Sc(t){if(50<Kl)throw Kl=0,fm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var no={};function jS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,r,a,l){return new jS(t,r,a,l)}function rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lr(t,r){var a=t.alternate;return a===null?(a=Dn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function wy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function wc(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")rd(t)&&(_=1);else if(typeof t=="string")_=Fw(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Dn(31,a,r,f),t.elementType=I,t.lanes=d,t;case B:return sa(a.children,f,d,r);case M:_=8,f|=24;break;case Y:return t=Dn(12,a,r,f|2),t.elementType=Y,t.lanes=d,t;case Ee:return t=Dn(13,a,r,f),t.elementType=Ee,t.lanes=d,t;case Te:return t=Dn(19,a,r,f),t.elementType=Te,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case X:_=9;break e;case fe:_=11;break e;case O:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Dn(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function sa(t,r,a,l){return t=Dn(7,t,l,r),t.lanes=a,t}function sd(t,r,a){return t=Dn(6,t,null,r),t.lanes=a,t}function Ry(t){var r=Dn(18,null,null,0);return r.stateNode=t,r}function ad(t,r,a){return r=Dn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Cy=new WeakMap;function Fn(t,r){if(typeof t=="object"&&t!==null){var a=Cy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:tl(r)},Cy.set(t,r),r)}return{value:t,source:r,stack:tl(r)}}var io=[],ro=0,Rc=null,wl=0,Gn=[],Kn=0,Xr=null,Li=1,Ui="";function ur(t,r){io[ro++]=wl,io[ro++]=Rc,Rc=t,wl=r}function Iy(t,r,a){Gn[Kn++]=Li,Gn[Kn++]=Ui,Gn[Kn++]=Xr,Xr=t;var l=Li;t=Ui;var f=32-vt(l)-1;l&=~(1<<f),a+=1;var d=32-vt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Li=1<<32-vt(r)+f|a<<f|l,Ui=d+t}else Li=1<<d|a<<f|l,Ui=t}function od(t){t.return!==null&&(ur(t,1),Iy(t,1,0))}function ld(t){for(;t===Rc;)Rc=io[--ro],io[ro]=null,wl=io[--ro],io[ro]=null;for(;t===Xr;)Xr=Gn[--Kn],Gn[Kn]=null,Ui=Gn[--Kn],Gn[Kn]=null,Li=Gn[--Kn],Gn[Kn]=null}function xy(t,r){Gn[Kn++]=Li,Gn[Kn++]=Ui,Gn[Kn++]=Xr,Li=r.id,Ui=r.overflow,Xr=t}var Xt=null,it=null,Le=!1,Wr=null,Qn=!1,ud=Error(s(519));function Jr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(Fn(r,t)),ud}function Dy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Rt]=t,r[qt]=l,a){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(a=0;a<Yl.length;a++)Ne(Yl[a],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Ne("invalid",r),sc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",r);break;case"textarea":Ne("invalid",r),Hr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Qv(r.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",r),Ne("toggle",r)),l.onScroll!=null&&Ne("scroll",r),l.onScrollEnd!=null&&Ne("scrollend",r),l.onClick!=null&&(r.onclick=si),r=!0):r=!1,r||Jr(t,!0)}function Ny(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Xt=Xt.return}}function so(t){if(t!==Xt)return!1;if(!Le)return Ny(t),Le=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cm(t.type,t.memoizedProps)),a=!a),a&&it&&Jr(t),Ny(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=nE(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=nE(t)}else r===27?(r=it,fs(t.type)?(t=Om,Om=null,it=t):it=r):it=Xt?$n(t.stateNode.nextSibling):null;return!0}function aa(){it=Xt=null,Le=!1}function cd(){var t=Wr;return t!==null&&(En===null?En=t:En.push.apply(En,t),Wr=null),t}function Rl(t){Wr===null?Wr=[t]:Wr.push(t)}var hd=P(null),oa=null,cr=null;function Zr(t,r,a){oe(hd,r._currentValue),r._currentValue=a}function hr(t){t._currentValue=hd.current,te(hd)}function fd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function dd(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var N=0;N<r.length;N++)if(S.context===r[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),fd(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),fd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function ao(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;xn(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}f=f.return}t!==null&&dd(r,t,a,l),r.flags|=262144}function Cc(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function la(t){oa=t,cr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Oy(oa,t)}function Ic(t,r){return oa===null&&la(t),Oy(t,r)}function Oy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},cr===null){if(t===null)throw Error(s(308));cr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else cr=cr.next=r;return a}var zS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},BS=i.unstable_scheduleCallback,qS=i.unstable_NormalPriority,xt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new zS,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&BS(qS,function(){t.controller.abort()})}var Il=null,pd=0,oo=0,lo=null;function HS(t,r){if(Il===null){var a=Il=[];pd=0,oo=_m(),lo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pd++,r.then(My,My),r}function My(){if(--pd===0&&Il!==null){lo!==null&&(lo.status="fulfilled");var t=Il;Il=null,oo=0,lo=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function FS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Vy=W.S;W.S=function(t,r){yv=cn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&HS(t,r),Vy!==null&&Vy(t,r)};var ua=P(null);function gd(){var t=ua.current;return t!==null?t:et.pooledCache}function xc(t,r){r===null?oe(ua,ua.current):oe(ua,r.pool)}function ky(){var t=gd();return t===null?null:{parent:xt._currentValue,pool:t}}var uo=Error(s(460)),yd=Error(s(474)),Dc=Error(s(542)),Nc={then:function(){}};function Py(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ly(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(si,si),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,jy(t),t;default:if(typeof r.status=="string")r.then(si,si);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,jy(t),t}throw ha=r,uo}}function ca(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ha=a,uo):a}}var ha=null;function Uy(){if(ha===null)throw Error(s(459));var t=ha;return ha=null,t}function jy(t){if(t===uo||t===Dc)throw Error(s(483))}var co=null,xl=0;function Oc(t){var r=xl;return xl+=1,co===null&&(co=[]),Ly(co,t,r)}function Dl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Mc(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function zy(t){function r(j,k){if(t){var H=j.deletions;H===null?(j.deletions=[k],j.flags|=16):H.push(k)}}function a(j,k){if(!t)return null;for(;k!==null;)r(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=lr(j,k),j.index=0,j.sibling=null,j}function d(j,k,H){return j.index=H,t?(H=j.alternate,H!==null?(H=H.index,H<k?(j.flags|=67108866,k):H):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function S(j,k,H,Z){return k===null||k.tag!==6?(k=sd(H,j.mode,Z),k.return=j,k):(k=f(k,H),k.return=j,k)}function N(j,k,H,Z){var me=H.type;return me===B?$(j,k,H.props.children,Z,H.key):k!==null&&(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&ca(me)===k.type)?(k=f(k,H.props),Dl(k,H),k.return=j,k):(k=wc(H.type,H.key,H.props,null,j.mode,Z),Dl(k,H),k.return=j,k)}function F(j,k,H,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=ad(H,j.mode,Z),k.return=j,k):(k=f(k,H.children||[]),k.return=j,k)}function $(j,k,H,Z,me){return k===null||k.tag!==7?(k=sa(H,j.mode,Z,me),k.return=j,k):(k=f(k,H),k.return=j,k)}function ee(j,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=sd(""+k,j.mode,H),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case R:return H=wc(k.type,k.key,k.props,null,j.mode,H),Dl(H,k),H.return=j,H;case x:return k=ad(k,j.mode,H),k.return=j,k;case C:return k=ca(k),ee(j,k,H)}if(Lt(k)||z(k))return k=sa(k,j.mode,H,null),k.return=j,k;if(typeof k.then=="function")return ee(j,Oc(k),H);if(k.$$typeof===ie)return ee(j,Ic(j,k),H);Mc(j,k)}return null}function G(j,k,H,Z){var me=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return me!==null?null:S(j,k,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return H.key===me?N(j,k,H,Z):null;case x:return H.key===me?F(j,k,H,Z):null;case C:return H=ca(H),G(j,k,H,Z)}if(Lt(H)||z(H))return me!==null?null:$(j,k,H,Z,null);if(typeof H.then=="function")return G(j,k,Oc(H),Z);if(H.$$typeof===ie)return G(j,k,Ic(j,H),Z);Mc(j,H)}return null}function Q(j,k,H,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(H)||null,S(k,j,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return j=j.get(Z.key===null?H:Z.key)||null,N(k,j,Z,me);case x:return j=j.get(Z.key===null?H:Z.key)||null,F(k,j,Z,me);case C:return Z=ca(Z),Q(j,k,H,Z,me)}if(Lt(Z)||z(Z))return j=j.get(H)||null,$(k,j,Z,me,null);if(typeof Z.then=="function")return Q(j,k,H,Oc(Z),me);if(Z.$$typeof===ie)return Q(j,k,H,Ic(k,Z),me);Mc(k,Z)}return null}function ce(j,k,H,Z){for(var me=null,Be=null,he=k,xe=k=0,Me=null;he!==null&&xe<H.length;xe++){he.index>xe?(Me=he,he=null):Me=he.sibling;var qe=G(j,he,H[xe],Z);if(qe===null){he===null&&(he=Me);break}t&&he&&qe.alternate===null&&r(j,he),k=d(qe,k,xe),Be===null?me=qe:Be.sibling=qe,Be=qe,he=Me}if(xe===H.length)return a(j,he),Le&&ur(j,xe),me;if(he===null){for(;xe<H.length;xe++)he=ee(j,H[xe],Z),he!==null&&(k=d(he,k,xe),Be===null?me=he:Be.sibling=he,Be=he);return Le&&ur(j,xe),me}for(he=l(he);xe<H.length;xe++)Me=Q(he,j,xe,H[xe],Z),Me!==null&&(t&&Me.alternate!==null&&he.delete(Me.key===null?xe:Me.key),k=d(Me,k,xe),Be===null?me=Me:Be.sibling=Me,Be=Me);return t&&he.forEach(function(ys){return r(j,ys)}),Le&&ur(j,xe),me}function ge(j,k,H,Z){if(H==null)throw Error(s(151));for(var me=null,Be=null,he=k,xe=k=0,Me=null,qe=H.next();he!==null&&!qe.done;xe++,qe=H.next()){he.index>xe?(Me=he,he=null):Me=he.sibling;var ys=G(j,he,qe.value,Z);if(ys===null){he===null&&(he=Me);break}t&&he&&ys.alternate===null&&r(j,he),k=d(ys,k,xe),Be===null?me=ys:Be.sibling=ys,Be=ys,he=Me}if(qe.done)return a(j,he),Le&&ur(j,xe),me;if(he===null){for(;!qe.done;xe++,qe=H.next())qe=ee(j,qe.value,Z),qe!==null&&(k=d(qe,k,xe),Be===null?me=qe:Be.sibling=qe,Be=qe);return Le&&ur(j,xe),me}for(he=l(he);!qe.done;xe++,qe=H.next())qe=Q(he,j,xe,qe.value,Z),qe!==null&&(t&&qe.alternate!==null&&he.delete(qe.key===null?xe:qe.key),k=d(qe,k,xe),Be===null?me=qe:Be.sibling=qe,Be=qe);return t&&he.forEach(function(t1){return r(j,t1)}),Le&&ur(j,xe),me}function Ze(j,k,H,Z){if(typeof H=="object"&&H!==null&&H.type===B&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case R:e:{for(var me=H.key;k!==null;){if(k.key===me){if(me=H.type,me===B){if(k.tag===7){a(j,k.sibling),Z=f(k,H.props.children),Z.return=j,j=Z;break e}}else if(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&ca(me)===k.type){a(j,k.sibling),Z=f(k,H.props),Dl(Z,H),Z.return=j,j=Z;break e}a(j,k);break}else r(j,k);k=k.sibling}H.type===B?(Z=sa(H.props.children,j.mode,Z,H.key),Z.return=j,j=Z):(Z=wc(H.type,H.key,H.props,null,j.mode,Z),Dl(Z,H),Z.return=j,j=Z)}return _(j);case x:e:{for(me=H.key;k!==null;){if(k.key===me)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(j,k.sibling),Z=f(k,H.children||[]),Z.return=j,j=Z;break e}else{a(j,k);break}else r(j,k);k=k.sibling}Z=ad(H,j.mode,Z),Z.return=j,j=Z}return _(j);case C:return H=ca(H),Ze(j,k,H,Z)}if(Lt(H))return ce(j,k,H,Z);if(z(H)){if(me=z(H),typeof me!="function")throw Error(s(150));return H=me.call(H),ge(j,k,H,Z)}if(typeof H.then=="function")return Ze(j,k,Oc(H),Z);if(H.$$typeof===ie)return Ze(j,k,Ic(j,H),Z);Mc(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(j,k.sibling),Z=f(k,H),Z.return=j,j=Z):(a(j,k),Z=sd(H,j.mode,Z),Z.return=j,j=Z),_(j)):a(j,k)}return function(j,k,H,Z){try{xl=0;var me=Ze(j,k,H,Z);return co=null,me}catch(he){if(he===uo||he===Dc)throw he;var Be=Dn(29,he,null,j.mode);return Be.lanes=Z,Be.return=j,Be}finally{}}}var fa=zy(!0),By=zy(!1),es=!1;function _d(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ns(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Sc(t),Sy(t,null,a),r}return Ac(t,l,r,a),Sc(t)}function Nl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,rl(t,a)}}function Ed(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Td=!1;function Ol(){if(Td){var t=lo;if(t!==null)throw t}}function Ml(t,r,a,l){Td=!1;var f=t.updateQueue;es=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,F=N.next;N.next=null,_===null?d=F:_.next=F,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=F:S.next=F,$.lastBaseUpdate=N))}if(d!==null){var ee=f.baseState;_=0,$=F=N=null,S=d;do{var G=S.lane&-536870913,Q=G!==S.lane;if(Q?(Oe&G)===G:(l&G)===G){G!==0&&G===oo&&(Td=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,ge=S;G=r;var Ze=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){ee=ce.call(Ze,ee,G);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,G=typeof ce=="function"?ce.call(Ze,ee,G):ce,G==null)break e;ee=b({},ee,G);break e;case 2:es=!0}}G=S.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(F=$=Q,N=ee):$=$.next=Q,_|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),os|=_,t.lanes=_,t.memoizedState=ee}}function qy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Hy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qy(a[t],r)}var ho=P(null),Vc=P(0);function Fy(t,r){t=Er,oe(Vc,t),oe(ho,r),Er=t|r.baseLanes}function bd(){oe(Vc,Er),oe(ho,ho.current)}function Ad(){Er=Vc.current,te(ho),te(Vc)}var Nn=P(null),Yn=null;function is(t){var r=t.alternate;oe(Tt,Tt.current&1),oe(Nn,t),Yn===null&&(r===null||ho.current!==null||r.memoizedState!==null)&&(Yn=t)}function Sd(t){oe(Tt,Tt.current),oe(Nn,t),Yn===null&&(Yn=t)}function Gy(t){t.tag===22?(oe(Tt,Tt.current),oe(Nn,t),Yn===null&&(Yn=t)):rs()}function rs(){oe(Tt,Tt.current),oe(Nn,Nn.current)}function On(t){te(Nn),Yn===t&&(Yn=null),te(Tt)}var Tt=P(0);function kc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dm(a)||Nm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fr=0,Ce=null,We=null,Dt=null,Pc=!1,fo=!1,da=!1,Lc=0,Vl=0,mo=null,GS=0;function mt(){throw Error(s(321))}function wd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!xn(t[a],r[a]))return!1;return!0}function Rd(t,r,a,l,f,d){return fr=d,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=t===null||t.memoizedState===null?I_:Bd,da=!1,d=a(l,f),da=!1,fo&&(d=Qy(r,a,l,f)),Ky(t),d}function Ky(t){W.H=Ll;var r=We!==null&&We.next!==null;if(fr=0,Dt=We=Ce=null,Pc=!1,Vl=0,mo=null,r)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Cc(t)&&(Nt=!0))}function Qy(t,r,a,l){Ce=t;var f=0;do{if(fo&&(mo=null),Vl=0,fo=!1,25<=f)throw Error(s(301));if(f+=1,Dt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=x_,d=r(a,l)}while(fo);return d}function KS(){var t=W.H,r=t.useState()[0];return r=typeof r.then=="function"?kl(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ce.flags|=1024),r}function Cd(){var t=Lc!==0;return Lc=0,t}function Id(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function xd(t){if(Pc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Pc=!1}fr=0,Dt=We=Ce=null,fo=!1,Vl=Lc=0,mo=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ce.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function bt(){if(We===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=Dt===null?Ce.memoizedState:Dt.next;if(r!==null)Dt=r,We=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Dt===null?Ce.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(t){var r=Vl;return Vl+=1,mo===null&&(mo=[]),t=Ly(mo,t,r),r=Ce,(Dt===null?r.memoizedState:Dt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?I_:Bd),t}function jc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return kl(t);if(t.$$typeof===ie)return Wt(t)}throw Error(s(438,String(t)))}function Dd(t){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Uc(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=U;return r.index++,a}function dr(t,r){return typeof r=="function"?r(t):r}function zc(t){var r=bt();return Nd(r,We,t)}function Nd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var S=_=null,N=null,F=r,$=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Oe&ee)===ee:(fr&ee)===ee){var G=F.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===oo&&($=!0);else if((fr&G)===G){F=F.next,G===oo&&($=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(S=N=ee,_=d):N=N.next=ee,Ce.lanes|=G,os|=G;ee=F.action,da&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else G={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(S=N=G,_=d):N=N.next=G,Ce.lanes|=ee,os|=ee;F=F.next}while(F!==null&&F!==r);if(N===null?_=d:N.next=S,!xn(d,t.memoizedState)&&(Nt=!0,$&&(a=lo,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Od(t){var r=bt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);xn(d,r.memoizedState)||(Nt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Yy(t,r,a){var l=Ce,f=bt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!xn((We||f).memoizedState,a);if(_&&(f.memoizedState=a,Nt=!0),f=f.queue,kd(Wy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,po(9,{destroy:void 0},Xy.bind(null,l,f,a,r),null),et===null)throw Error(s(349));d||(fr&127)!==0||$y(l,r,a)}return a}function $y(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=Uc(),Ce.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Xy(t,r,a,l){r.value=a,r.getSnapshot=l,Jy(r)&&Zy(t)}function Wy(t,r,a){return a(function(){Jy(r)&&Zy(t)})}function Jy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!xn(t,a)}catch{return!0}}function Zy(t){var r=ra(t,2);r!==null&&Tn(r,t,2)}function Md(t){var r=fn();if(typeof t=="function"){var a=t;if(t=a(),da){Un(!0);try{a()}finally{Un(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:t},r}function e_(t,r,a,l){return t.baseState=a,Nd(t,We,typeof l=="function"?l:dr)}function QS(t,r,a,l,f){if(Hc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,t_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function t_(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=W.T,_={};W.T=_;try{var S=a(f,l),N=W.S;N!==null&&N(_,S),n_(t,r,S)}catch(F){Vd(t,r,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),W.T=d}}else try{d=a(f,l),n_(t,r,d)}catch(F){Vd(t,r,F)}}function n_(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){i_(t,r,l)},function(l){return Vd(t,r,l)}):i_(t,r,a)}function i_(t,r,a){r.status="fulfilled",r.value=a,r_(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,t_(t,a)))}function Vd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,r_(r),r=r.next;while(r!==l)}t.action=null}function r_(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function s_(t,r){return r}function a_(t,r){if(Le){var a=et.formState;if(a!==null){e:{var l=Ce;if(Le){if(it){t:{for(var f=it,d=Qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=$n(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=$n(f.nextSibling),l=f.data==="F!";break e}}Jr(l)}l=!1}l&&(r=a[0])}}return a=fn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s_,lastRenderedState:r},a.queue=l,a=w_.bind(null,Ce,l),l.dispatch=a,l=Md(!1),d=zd.bind(null,Ce,!1,l.queue),l=fn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=QS.bind(null,Ce,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function o_(t){var r=bt();return l_(r,We,t)}function l_(t,r,a){if(r=Nd(t,r,s_)[0],t=zc(dr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=kl(r)}catch(_){throw _===uo?Dc:_}else l=r;r=bt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ce.flags|=2048,po(9,{destroy:void 0},YS.bind(null,f,a),null)),[l,d,t]}function YS(t,r){t.action=r}function u_(t){var r=bt(),a=We;if(a!==null)return l_(r,a,t);bt(),r=r.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function po(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=Uc(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function c_(){return bt().memoizedState}function Bc(t,r,a,l){var f=fn();Ce.flags|=t,f.memoizedState=po(1|r,{destroy:void 0},a,l===void 0?null:l)}function qc(t,r,a,l){var f=bt();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&wd(l,We.memoizedState.deps)?f.memoizedState=po(r,d,a,l):(Ce.flags|=t,f.memoizedState=po(1|r,d,a,l))}function h_(t,r){Bc(8390656,8,t,r)}function kd(t,r){qc(2048,8,t,r)}function $S(t){Ce.flags|=4;var r=Ce.updateQueue;if(r===null)r=Uc(),Ce.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function f_(t){var r=bt().memoizedState;return $S({ref:r,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function d_(t,r){return qc(4,2,t,r)}function m_(t,r){return qc(4,4,t,r)}function p_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function g_(t,r,a){a=a!=null?a.concat([t]):null,qc(4,4,p_.bind(null,r,t),a)}function Pd(){}function y_(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&wd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function __(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&wd(r,l[1]))return l[0];if(l=t(),da){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,r],l}function Ld(t,r,a){return a===void 0||(fr&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=vv(),Ce.lanes|=t,os|=t,a)}function v_(t,r,a,l){return xn(a,r)?a:ho.current!==null?(t=Ld(t,a,l),xn(t,r)||(Nt=!0),t):(fr&42)===0||(fr&1073741824)!==0&&(Oe&261930)===0?(Nt=!0,t.memoizedState=a):(t=vv(),Ce.lanes|=t,os|=t,r)}function E_(t,r,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=W.T,S={};W.T=S,zd(t,!1,r,a);try{var N=f(),F=W.S;if(F!==null&&F(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=FS(N,l);Pl(t,r,$,kn(t))}else Pl(t,r,l,kn(t))}catch(ee){Pl(t,r,{then:function(){},status:"rejected",reason:ee},kn())}finally{ae.p=d,_!==null&&S.types!==null&&(_.types=S.types),W.T=_}}function XS(){}function Ud(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=T_(t).queue;E_(t,f,r,pe,a===null?XS:function(){return b_(t),a(l)})}function T_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function b_(t){var r=T_(t);r.next===null&&(r=t.alternate.memoizedState),Pl(t,r.next.queue,{},kn())}function jd(){return Wt(Zl)}function A_(){return bt().memoizedState}function S_(){return bt().memoizedState}function WS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=kn();t=ts(a);var l=ns(r,t,a);l!==null&&(Tn(l,r,a),Nl(l,r,a)),r={cache:md()},t.payload=r;return}r=r.return}}function JS(t,r,a){var l=kn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Hc(t)?R_(r,a):(a=id(t,r,a,l),a!==null&&(Tn(a,t,l),C_(a,r,l)))}function w_(t,r,a){var l=kn();Pl(t,r,a,l)}function Pl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hc(t))R_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,xn(S,_))return Ac(t,r,f,0),et===null&&bc(),!1}catch{}finally{}if(a=id(t,r,f,l),a!==null)return Tn(a,t,l),C_(a,r,l),!0}return!1}function zd(t,r,a,l){if(l={lane:2,revertLane:_m(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hc(t)){if(r)throw Error(s(479))}else r=id(t,a,l,2),r!==null&&Tn(r,t,2)}function Hc(t){var r=t.alternate;return t===Ce||r!==null&&r===Ce}function R_(t,r){fo=Pc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function C_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,rl(t,a)}}var Ll={readContext:Wt,use:jc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Ll.useEffectEvent=mt;var I_={readContext:Wt,use:jc,useCallback:function(t,r){return fn().memoizedState=[t,r===void 0?null:r],t},useContext:Wt,useEffect:h_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Bc(4194308,4,p_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Bc(4194308,4,t,r)},useInsertionEffect:function(t,r){Bc(4,2,t,r)},useMemo:function(t,r){var a=fn();r=r===void 0?null:r;var l=t();if(da){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=fn();if(a!==void 0){var f=a(r);if(da){Un(!0);try{a(r)}finally{Un(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=JS.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var r=fn();return t={current:t},r.memoizedState=t},useState:function(t){t=Md(t);var r=t.queue,a=w_.bind(null,Ce,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Pd,useDeferredValue:function(t,r){var a=fn();return Ld(a,t,r)},useTransition:function(){var t=Md(!1);return t=E_.bind(null,Ce,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ce,f=fn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(Oe&127)!==0||$y(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,h_(Wy.bind(null,l,d,t),[t]),l.flags|=2048,po(9,{destroy:void 0},Xy.bind(null,l,d,a,r),null),a},useId:function(){var t=fn(),r=et.identifierPrefix;if(Le){var a=Ui,l=Li;a=(l&~(1<<32-vt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Lc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=GS++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:jd,useFormState:a_,useActionState:a_,useOptimistic:function(t){var r=fn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=zd.bind(null,Ce,!0,a),a.dispatch=r,[t,r]},useMemoCache:Dd,useCacheRefresh:function(){return fn().memoizedState=WS.bind(null,Ce)},useEffectEvent:function(t){var r=fn(),a={impl:t};return r.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Bd={readContext:Wt,use:jc,useCallback:y_,useContext:Wt,useEffect:kd,useImperativeHandle:g_,useInsertionEffect:d_,useLayoutEffect:m_,useMemo:__,useReducer:zc,useRef:c_,useState:function(){return zc(dr)},useDebugValue:Pd,useDeferredValue:function(t,r){var a=bt();return v_(a,We.memoizedState,t,r)},useTransition:function(){var t=zc(dr)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:kl(t),r]},useSyncExternalStore:Yy,useId:A_,useHostTransitionStatus:jd,useFormState:o_,useActionState:o_,useOptimistic:function(t,r){var a=bt();return e_(a,We,t,r)},useMemoCache:Dd,useCacheRefresh:S_};Bd.useEffectEvent=f_;var x_={readContext:Wt,use:jc,useCallback:y_,useContext:Wt,useEffect:kd,useImperativeHandle:g_,useInsertionEffect:d_,useLayoutEffect:m_,useMemo:__,useReducer:Od,useRef:c_,useState:function(){return Od(dr)},useDebugValue:Pd,useDeferredValue:function(t,r){var a=bt();return We===null?Ld(a,t,r):v_(a,We.memoizedState,t,r)},useTransition:function(){var t=Od(dr)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:kl(t),r]},useSyncExternalStore:Yy,useId:A_,useHostTransitionStatus:jd,useFormState:u_,useActionState:u_,useOptimistic:function(t,r){var a=bt();return We!==null?e_(a,We,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Dd,useCacheRefresh:S_};x_.useEffectEvent=f_;function qd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=kn(),f=ts(l);f.payload=r,a!=null&&(f.callback=a),r=ns(t,f,l),r!==null&&(Tn(r,t,l),Nl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=kn(),f=ts(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=ns(t,f,l),r!==null&&(Tn(r,t,l),Nl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=kn(),l=ts(a);l.tag=2,r!=null&&(l.callback=r),r=ns(t,l,a),r!==null&&(Tn(r,t,a),Nl(r,t,a))}};function D_(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Al(a,l)||!Al(f,d):!0}function N_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Hd.enqueueReplaceState(r,r.state,null)}function ma(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function O_(t){Tc(t)}function M_(t){console.error(t)}function V_(t){Tc(t)}function Fc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function k_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fd(t,r,a){return a=ts(a),a.tag=3,a.payload={element:null},a.callback=function(){Fc(t,r)},a}function P_(t){return t=ts(t),t.tag=3,t}function L_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){k_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){k_(r,a,l),typeof f!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function ZS(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ao(r,a,f,!0),a=Nn.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?nh():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Nc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),pm(t,l,f)),!1;case 22:return a.flags|=65536,l===Nc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),pm(t,l,f)),!1}throw Error(s(435,a.tag))}return pm(t,l,f),nh(),!1}if(Le)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==ud&&(t=Error(s(422),{cause:l}),Rl(Fn(t,a)))):(l!==ud&&(r=Error(s(423),{cause:l}),Rl(Fn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Fn(l,a),f=Fd(t.stateNode,l,f),Ed(t,f),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=Fn(d,a),Gl===null?Gl=[d]:Gl.push(d),pt!==4&&(pt=2),r===null)return!0;l=Fn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Fd(a.stateNode,l,t),Ed(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ls===null||!ls.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=P_(f),L_(f,t,a,l),Ed(a,f),!1}a=a.return}while(a!==null);return!1}var Gd=Error(s(461)),Nt=!1;function Jt(t,r,a,l){r.child=t===null?By(r,null,a,l):fa(r,t.child,a,l)}function U_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return la(r),l=Rd(t,r,a,_,d,f),S=Cd(),t!==null&&!Nt?(Id(t,r,f),mr(t,r,f)):(Le&&S&&od(r),r.flags|=1,Jt(t,r,l,f),r.child)}function j_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!rd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,z_(t,r,d,l,f)):(t=wc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Zd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(_,l)&&t.ref===r.ref)return mr(t,r,f)}return r.flags|=1,t=lr(d,l),t.ref=r.ref,t.return=r,r.child=t}function z_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(Al(d,l)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=l=d,Zd(t,f))(t.flags&131072)!==0&&(Nt=!0);else return r.lanes=t.lanes,mr(t,r,f)}return Kd(t,r,a,l,f)}function B_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return q_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&xc(r,d!==null?d.cachePool:null),d!==null?Fy(r,d):bd(),Gy(r);else return l=r.lanes=536870912,q_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(xc(r,d.cachePool),Fy(r,d),rs(),r.memoizedState=null):(t!==null&&xc(r,null),bd(),rs());return Jt(t,r,f,a),r.child}function Ul(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function q_(t,r,a,l,f){var d=gd();return d=d===null?null:{parent:xt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&xc(r,null),bd(),Gy(r),t!==null&&ao(t,r,l,!0),r.childLanes=f,null}function Gc(t,r){return r=Qc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function H_(t,r,a){return fa(r,t.child,null,a),t=Gc(r,r.pendingProps),t.flags|=2,On(r),r.memoizedState=null,t}function ew(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Gc(r,l),r.lanes=536870912,Ul(null,t);if(Sd(r),(t=it)?(t=tE(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Xr!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Ry(t),a.return=r,r.child=a,Xt=r,it=null)):t=null,t===null)throw Jr(r);return r.lanes=536870912,null}return Gc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Sd(r),f)if(r.flags&256)r.flags&=-257,r=H_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Nt||ao(t,r,a,!1),f=(a&t.childLanes)!==0,Nt||f){if(l=et,l!==null&&(_=sl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ra(t,_),Tn(l,t,_),Gd;nh(),r=H_(t,r,a)}else t=d.treeContext,it=$n(_.nextSibling),Xt=r,Le=!0,Wr=null,Qn=!1,t!==null&&xy(r,t),r=Gc(r,l),r.flags|=4096;return r}return t=lr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Kc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Kd(t,r,a,l,f){return la(r),a=Rd(t,r,a,l,void 0,f),l=Cd(),t!==null&&!Nt?(Id(t,r,f),mr(t,r,f)):(Le&&l&&od(r),r.flags|=1,Jt(t,r,a,f),r.child)}function F_(t,r,a,l,f,d){return la(r),r.updateQueue=null,a=Qy(r,l,a,f),Ky(t),l=Cd(),t!==null&&!Nt?(Id(t,r,d),mr(t,r,d)):(Le&&l&&od(r),r.flags|=1,Jt(t,r,a,d),r.child)}function G_(t,r,a,l,f){if(la(r),r.stateNode===null){var d=no,_=a.contextType;typeof _=="object"&&_!==null&&(d=Wt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},_d(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Wt(_):no,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(qd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Hd.enqueueReplaceState(d,d.state,null),Ml(r,l,d,f),Ol(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var S=r.memoizedProps,N=ma(a,S);d.props=N;var F=d.context,$=a.contextType;_=no,typeof $=="object"&&$!==null&&(_=Wt($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||F!==_)&&N_(r,d,l,_),es=!1;var G=r.memoizedState;d.state=G,Ml(r,l,d,f),Ol(),F=r.memoizedState,S||G!==F||es?(typeof ee=="function"&&(qd(r,a,ee,l),F=r.memoizedState),(N=es||D_(r,a,N,l,G,F,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,vd(t,r),_=r.memoizedProps,$=ma(a,_),d.props=$,ee=r.pendingProps,G=d.context,F=a.contextType,N=no,typeof F=="object"&&F!==null&&(N=Wt(F)),S=a.getDerivedStateFromProps,(F=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||G!==N)&&N_(r,d,l,N),es=!1,G=r.memoizedState,d.state=G,Ml(r,l,d,f),Ol();var Q=r.memoizedState;_!==ee||G!==Q||es||t!==null&&t.dependencies!==null&&Cc(t.dependencies)?(typeof S=="function"&&(qd(r,a,S,l),Q=r.memoizedState),($=es||D_(r,a,$,l,G,Q,N)||t!==null&&t.dependencies!==null&&Cc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Kc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=fa(r,t.child,null,f),r.child=fa(r,null,a,f)):Jt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=mr(t,r,f),t}function K_(t,r,a,l){return aa(),r.flags|=256,Jt(t,r,a,l),r.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(t){return{baseLanes:t,cachePool:ky()}}function $d(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Vn),t}function Q_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Le){if(f?is(r):rs(),(t=it)?(t=tE(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Xr!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Ry(t),a.return=r,r.child=a,Xt=r,it=null)):t=null,t===null)throw Jr(r);return Nm(t)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(rs(),f=r.mode,S=Qc({mode:"hidden",children:S},f),l=sa(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=Yd(a),l.childLanes=$d(t,_,a),r.memoizedState=Qd,Ul(null,l)):(is(r),Xd(r,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)r.flags&256?(is(r),r.flags&=-257,r=Wd(t,r,a)):r.memoizedState!==null?(rs(),r.child=t.child,r.flags|=128,r=null):(rs(),S=l.fallback,f=r.mode,l=Qc({mode:"visible",children:l.children},f),S=sa(S,f,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,fa(r,t.child,null,a),l=r.child,l.memoizedState=Yd(a),l.childLanes=$d(t,_,a),r.memoizedState=Qd,r=Ul(null,l));else if(is(r),Nm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,Rl({value:l,source:null,stack:null}),r=Wd(t,r,a)}else if(Nt||ao(t,r,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=et,_!==null&&(l=sl(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ra(t,l),Tn(_,t,l),Gd;Dm(S)||nh(),r=Wd(t,r,a)}else Dm(S)?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,it=$n(S.nextSibling),Xt=r,Le=!0,Wr=null,Qn=!1,t!==null&&xy(r,t),r=Xd(r,l.children),r.flags|=4096);return r}return f?(rs(),S=l.fallback,f=r.mode,N=t.child,F=N.sibling,l=lr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?S=lr(F,S):(S=sa(S,f,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,Ul(null,l),l=r.child,S=t.child.memoizedState,S===null?S=Yd(a):(f=S.cachePool,f!==null?(N=xt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=ky(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=$d(t,_,a),r.memoizedState=Qd,Ul(t.child,l)):(is(r),a=t.child,t=a.sibling,a=lr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Xd(t,r){return r=Qc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Qc(t,r){return t=Dn(22,t,null,r),t.lanes=0,t}function Wd(t,r,a){return fa(r,t.child,null,a),t=Xd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Y_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),fd(t.return,r,a)}function Jd(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function $_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Tt.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,oe(Tt,_),Jt(t,r,l,a),l=Le?wl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y_(t,a,r);else if(t.tag===19)Y_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&kc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Jd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&kc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Jd(r,!0,a,null,d,l);break;case"together":Jd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function mr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),os|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ao(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=lr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=lr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Zd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Cc(t)))}function tw(t,r,a){switch(r.tag){case 3:Ut(r,r.stateNode.containerInfo),Zr(r,xt,t.memoizedState.cache),aa();break;case 27:case 5:zs(r);break;case 4:Ut(r,r.stateNode.containerInfo);break;case 10:Zr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Sd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(is(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Q_(t,r,a):(is(r),t=mr(t,r,a),t!==null?t.sibling:null);is(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ao(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return $_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(Tt,Tt.current),l)break;return null;case 22:return r.lanes=0,B_(t,r,a,r.pendingProps);case 24:Zr(r,xt,t.memoizedState.cache)}return mr(t,r,a)}function X_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nt=!0;else{if(!Zd(t,a)&&(r.flags&128)===0)return Nt=!1,tw(t,r,a);Nt=(t.flags&131072)!==0}else Nt=!1,Le&&(r.flags&1048576)!==0&&Iy(r,wl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ca(r.elementType),r.type=t,typeof t=="function")rd(t)?(l=ma(t,l),r.tag=1,r=G_(null,r,t,l,a)):(r.tag=0,r=Kd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===fe){r.tag=11,r=U_(null,r,t,l,a);break e}else if(f===O){r.tag=14,r=j_(null,r,t,l,a);break e}}throw r=lt(t)||t,Error(s(306,r,""))}}return r;case 0:return Kd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ma(l,r.pendingProps),G_(t,r,l,f,a);case 3:e:{if(Ut(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,vd(t,r),Ml(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Zr(r,xt,l),l!==d.cache&&dd(r,[xt],a,!0),Ol(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=K_(t,r,l,a);break e}else if(l!==f){f=Fn(Error(s(424)),r),Rl(f),r=K_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=$n(t.firstChild),Xt=r,Le=!0,Wr=null,Qn=!0,a=By(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(aa(),l===f){r=mr(t,r,a);break e}Jt(t,r,l,a)}r=r.child}return r;case 26:return Kc(t,r),t===null?(a=oE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Le||(a=r.type,t=r.pendingProps,l=uh(Ie.current).createElement(a),l[Rt]=r,l[qt]=t,Zt(l,a,t),Ct(l),r.stateNode=l):r.memoizedState=oE(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return zs(r),t===null&&Le&&(l=r.stateNode=rE(r.type,r.pendingProps,Ie.current),Xt=r,Qn=!0,f=it,fs(r.type)?(Om=f,it=$n(l.firstChild)):it=f),Jt(t,r,r.pendingProps.children,a),Kc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Le&&((f=l=it)&&(l=Nw(l,r.type,r.pendingProps,Qn),l!==null?(r.stateNode=l,Xt=r,it=$n(l.firstChild),Qn=!1,f=!0):f=!1),f||Jr(r)),zs(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Cm(f,d)?l=null:_!==null&&Cm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Rd(t,r,KS,null,null,a),Zl._currentValue=f),Kc(t,r),Jt(t,r,l,a),r.child;case 6:return t===null&&Le&&((t=a=it)&&(a=Ow(a,r.pendingProps,Qn),a!==null?(r.stateNode=a,Xt=r,it=null,t=!0):t=!1),t||Jr(r)),null;case 13:return Q_(t,r,a);case 4:return Ut(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=fa(r,null,l,a):Jt(t,r,l,a),r.child;case 11:return U_(t,r,r.type,r.pendingProps,a);case 7:return Jt(t,r,r.pendingProps,a),r.child;case 8:return Jt(t,r,r.pendingProps.children,a),r.child;case 12:return Jt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Zr(r,r.type,l.value),Jt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,la(r),f=Wt(f),l=l(f),r.flags|=1,Jt(t,r,l,a),r.child;case 14:return j_(t,r,r.type,r.pendingProps,a);case 15:return z_(t,r,r.type,r.pendingProps,a);case 19:return $_(t,r,a);case 31:return ew(t,r,a);case 22:return B_(t,r,a,r.pendingProps);case 24:return la(r),l=Wt(xt),t===null?(f=gd(),f===null&&(f=et,d=md(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},_d(r),Zr(r,xt,f)):((t.lanes&a)!==0&&(vd(t,r),Ml(r,null,null,a),Ol()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Zr(r,xt,l)):(l=d.cache,Zr(r,xt,l),l!==f.cache&&dd(r,[xt],a,!0))),Jt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function pr(t){t.flags|=4}function em(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Av())t.flags|=8192;else throw ha=Nc,yd}else t.flags&=-16777217}function W_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fE(r))if(Av())t.flags|=8192;else throw ha=Nc,yd}function Yc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ec():536870912,t.lanes|=r,vo|=r)}function jl(t,r){if(!Le)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function nw(t,r,a){var l=r.pendingProps;switch(ld(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),hr(xt),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(so(r)?pr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,cd())),rt(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(pr(r),d!==null?(rt(r),W_(r,d)):(rt(r),em(r,f,null,l,a))):d?d!==t.memoizedState?(pr(r),rt(r),W_(r,d)):(rt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&pr(r),rt(r),em(r,f,t,l,a)),null;case 27:if(La(r),a=Ie.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&pr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}t=ue.current,so(r)?Dy(r):(t=rE(f,l,a),r.stateNode=t,pr(r))}return rt(r),null;case 5:if(La(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&pr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(d=ue.current,so(r))Dy(r);else{var _=uh(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Rt]=r,d[qt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Zt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pr(r)}}return rt(r),em(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&pr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ie.current,so(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Xt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Rt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Qv(t.nodeValue,a)),t||Jr(r,!0)}else t=uh(t).createTextNode(l),t[Rt]=r,r.stateNode=t}return rt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=so(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Rt]=r}else aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),t=!1}else a=cd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=so(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Rt]=r}else aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),f=!1}else f=cd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Yc(r,r.updateQueue),rt(r),null);case 4:return ut(),t===null&&bm(r.stateNode.containerInfo),rt(r),null;case 10:return hr(r.type),rt(r),null;case 19:if(te(Tt),l=r.memoizedState,l===null)return rt(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)jl(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=kc(t),d!==null){for(r.flags|=128,jl(l,!1),t=d.updateQueue,r.updateQueue=t,Yc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)wy(a,t),a=a.sibling;return oe(Tt,Tt.current&1|2),Le&&ur(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&cn()>Zc&&(r.flags|=128,f=!0,jl(l,!1),r.lanes=4194304)}else{if(!f)if(t=kc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Yc(r,t),jl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return rt(r),null}else 2*cn()-l.renderingStartTime>Zc&&a!==536870912&&(r.flags|=128,f=!0,jl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=cn(),t.sibling=null,a=Tt.current,oe(Tt,f?a&1|2:a&1),Le&&ur(r,l.treeForkCount),t):(rt(r),null);case 22:case 23:return On(r),Ad(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&Yc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&te(ua),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),hr(xt),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function iw(t,r){switch(ld(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return hr(xt),ut(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return La(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));aa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(On(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));aa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return te(Tt),null;case 4:return ut(),null;case 10:return hr(r.type),null;case 22:case 23:return On(r),Ad(),t!==null&&te(ua),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return hr(xt),null;case 25:return null;default:return null}}function J_(t,r){switch(ld(r),r.tag){case 3:hr(xt),ut();break;case 26:case 27:case 5:La(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:te(Tt);break;case 10:hr(r.type);break;case 22:case 23:On(r),Ad(),t!==null&&te(ua);break;case 24:hr(xt)}}function zl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){$e(r,r.return,S)}}function ss(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var N=a,F=S;try{F()}catch($){$e(f,N,$)}}}l=l.next}while(l!==d)}}catch($){$e(r,r.return,$)}}function Z_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Hy(r,a)}catch(l){$e(t,t.return,l)}}}function ev(t,r,a){a.props=ma(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,r,l)}}function Bl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){$e(t,r,f)}}function ji(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$e(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(t,r,f)}else a.current=null}function tv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$e(t,t.return,f)}}function tm(t,r,a){try{var l=t.stateNode;ww(l,t.type,a,r),l[qt]=r}catch(f){$e(t,t.return,f)}}function nv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fs(t.type)||t.tag===4}function nm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function im(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=si));else if(l!==4&&(l===27&&fs(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(im(t,r,a),t=t.sibling;t!==null;)im(t,r,a),t=t.sibling}function $c(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&fs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for($c(t,r,a),t=t.sibling;t!==null;)$c(t,r,a),t=t.sibling}function iv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Zt(r,l,a),r[Rt]=t,r[qt]=a}catch(d){$e(t,t.return,d)}}var gr=!1,Ot=!1,rm=!1,rv=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function rw(t,r){if(t=t.containerInfo,wm=gh,t=gy(t),Wf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,F=0,$=0,ee=t,G=null;t:for(;;){for(var Q;ee!==a||f!==0&&ee.nodeType!==3||(S=_+f),ee!==d||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)G=ee,ee=Q;for(;;){if(ee===t)break t;if(G===a&&++F===f&&(S=_),G===d&&++$===l&&(N=_),(Q=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rm={focusedElem:t,selectionRange:a},gh=!1,Ft=r;Ft!==null;)if(r=Ft,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ft=t;else for(;Ft!==null;){switch(r=Ft,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=ma(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){$e(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)xm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ft=t;break}Ft=r.return}}function sv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_r(t,a),l&4&&zl(5,a);break;case 1:if(_r(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var f=ma(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&Z_(a),l&512&&Bl(a,a.return);break;case 3:if(_r(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Hy(t,r)}catch(_){$e(a,a.return,_)}}break;case 27:r===null&&l&4&&iv(a);case 26:case 5:_r(t,a),r===null&&l&4&&tv(a),l&512&&Bl(a,a.return);break;case 12:_r(t,a);break;case 31:_r(t,a),l&4&&lv(t,a);break;case 13:_r(t,a),l&4&&uv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=dw.bind(null,a),Mw(t,a))));break;case 22:if(l=a.memoizedState!==null||gr,!l){r=r!==null&&r.memoizedState!==null||Ot,f=gr;var d=Ot;gr=l,(Ot=r)&&!d?vr(t,a,(a.subtreeFlags&8772)!==0):_r(t,a),gr=f,Ot=d}break;case 30:break;default:_r(t,a)}}function av(t){var r=t.alternate;r!==null&&(t.alternate=null,av(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&qa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,yn=!1;function yr(t,r,a){for(a=a.child;a!==null;)ov(t,r,a),a=a.sibling}function ov(t,r,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ti,a)}catch{}switch(a.tag){case 26:Ot||ji(a,r),yr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||ji(a,r);var l=ht,f=yn;fs(a.type)&&(ht=a.stateNode,yn=!1),yr(t,r,a),Xl(a.stateNode),ht=l,yn=f;break;case 5:Ot||ji(a,r);case 6:if(l=ht,f=yn,ht=null,yr(t,r,a),ht=l,yn=f,ht!==null)if(yn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){$e(a,r,d)}else try{ht.removeChild(a.stateNode)}catch(d){$e(a,r,d)}break;case 18:ht!==null&&(yn?(t=ht,Zv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Co(t)):Zv(ht,a.stateNode));break;case 4:l=ht,f=yn,ht=a.stateNode.containerInfo,yn=!0,yr(t,r,a),ht=l,yn=f;break;case 0:case 11:case 14:case 15:ss(2,a,r),Ot||ss(4,a,r),yr(t,r,a);break;case 1:Ot||(ji(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ev(a,r,l)),yr(t,r,a);break;case 21:yr(t,r,a);break;case 22:Ot=(l=Ot)||a.memoizedState!==null,yr(t,r,a),Ot=l;break;default:yr(t,r,a)}}function lv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Co(t)}catch(a){$e(r,r.return,a)}}}function uv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Co(t)}catch(a){$e(r,r.return,a)}}function sw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new rv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new rv),r;default:throw Error(s(435,t.tag))}}function Xc(t,r){var a=sw(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=mw.bind(null,t,l);l.then(f,f)}})}function _n(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(fs(S.type)){ht=S.stateNode,yn=!1;break e}break;case 5:ht=S.stateNode,yn=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,yn=!0;break e}S=S.return}if(ht===null)throw Error(s(160));ov(d,_,f),ht=null,yn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)cv(r,t),r=r.sibling}var hi=null;function cv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(r,t),vn(t),l&4&&(ss(3,t,t.return),zl(3,t),ss(5,t,t.return));break;case 1:_n(r,t),vn(t),l&512&&(Ot||a===null||ji(a,a.return)),l&64&&gr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=hi;if(_n(r,t),vn(t),l&512&&(Ot||a===null||ji(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[wi]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Zt(d,l,a),d[Rt]=t,Ct(d),l=d;break e;case"link":var _=cE("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),Zt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=cE("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),Zt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,Ct(d),l=d}t.stateNode=l}else hE(f,t.type,t.stateNode);else t.stateNode=uE(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?hE(f,t.type,t.stateNode):uE(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&tm(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(r,t),vn(t),l&512&&(Ot||a===null||ji(a,a.return)),a!==null&&l&4&&tm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(r,t),vn(t),l&512&&(Ot||a===null||ji(a,a.return)),t.flags&32){f=t.stateNode;try{gn(f,"")}catch(ce){$e(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,tm(t,f,a!==null?a.memoizedProps:f)),l&1024&&(rm=!0);break;case 6:if(_n(r,t),vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){$e(t,t.return,ce)}}break;case 3:if(fh=null,f=hi,hi=ch(r.containerInfo),_n(r,t),hi=f,vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Co(r.containerInfo)}catch(ce){$e(t,t.return,ce)}rm&&(rm=!1,hv(t));break;case 4:l=hi,hi=ch(t.stateNode.containerInfo),_n(r,t),vn(t),hi=l;break;case 12:_n(r,t),vn(t);break;case 31:_n(r,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xc(t,l)));break;case 13:_n(r,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jc=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=gr,$=Ot;if(gr=F||f,Ot=$||N,_n(r,t),Ot=$,gr=F,vn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||gr||Ot||pa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ce){$e(N,N.return,ce)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(ce){$e(N,N.return,ce)}}}else if(r.tag===18){if(a===null){N=r;try{var Q=N.stateNode;f?eE(Q,!0):eE(N.stateNode,!1)}catch(ce){$e(N,N.return,ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Xc(t,a))));break;case 19:_n(r,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xc(t,l)));break;case 30:break;case 21:break;default:_n(r,t),vn(t)}}function vn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(nv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=nm(t);$c(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(gn(_,""),a.flags&=-33);var S=nm(t);$c(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,F=nm(t);im(t,F,N);break;default:throw Error(s(161))}}catch($){$e(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function hv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;hv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function _r(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)sv(t,r.alternate,r),r=r.sibling}function pa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ss(4,r,r.return),pa(r);break;case 1:ji(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&ev(r,r.return,a),pa(r);break;case 27:Xl(r.stateNode);case 26:case 5:ji(r,r.return),pa(r);break;case 22:r.memoizedState===null&&pa(r);break;case 30:pa(r);break;default:pa(r)}t=t.sibling}}function vr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:vr(f,d,a),zl(4,d);break;case 1:if(vr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){$e(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)qy(N[f],S)}catch(F){$e(l,l.return,F)}}a&&_&64&&Z_(d),Bl(d,d.return);break;case 27:iv(d);case 26:case 5:vr(f,d,a),a&&l===null&&_&4&&tv(d),Bl(d,d.return);break;case 12:vr(f,d,a);break;case 31:vr(f,d,a),a&&_&4&&lv(f,d);break;case 13:vr(f,d,a),a&&_&4&&uv(f,d);break;case 22:d.memoizedState===null&&vr(f,d,a),Bl(d,d.return);break;case 30:break;default:vr(f,d,a)}r=r.sibling}}function sm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Cl(a))}function am(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Cl(t))}function fi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)fv(t,r,a,l),r=r.sibling}function fv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:fi(t,r,a,l),f&2048&&zl(9,r);break;case 1:fi(t,r,a,l);break;case 3:fi(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Cl(t)));break;case 12:if(f&2048){fi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){$e(r,r.return,N)}}else fi(t,r,a,l);break;case 31:fi(t,r,a,l);break;case 13:fi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?fi(t,r,a,l):ql(t,r):d._visibility&2?fi(t,r,a,l):(d._visibility|=2,go(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&sm(_,r);break;case 24:fi(t,r,a,l),f&2048&&am(r.alternate,r);break;default:fi(t,r,a,l)}}function go(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,S=a,N=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:go(d,_,S,N,f),zl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?go(d,_,S,N,f):ql(d,_):($._visibility|=2,go(d,_,S,N,f)),f&&F&2048&&sm(_.alternate,_);break;case 24:go(d,_,S,N,f),f&&F&2048&&am(_.alternate,_);break;default:go(d,_,S,N,f)}r=r.sibling}}function ql(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:ql(a,l),f&2048&&sm(l.alternate,l);break;case 24:ql(a,l),f&2048&&am(l.alternate,l);break;default:ql(a,l)}r=r.sibling}}var Hl=8192;function yo(t,r,a){if(t.subtreeFlags&Hl)for(t=t.child;t!==null;)dv(t,r,a),t=t.sibling}function dv(t,r,a){switch(t.tag){case 26:yo(t,r,a),t.flags&Hl&&t.memoizedState!==null&&Gw(a,hi,t.memoizedState,t.memoizedProps);break;case 5:yo(t,r,a);break;case 3:case 4:var l=hi;hi=ch(t.stateNode.containerInfo),yo(t,r,a),hi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Hl,Hl=16777216,yo(t,r,a),Hl=l):yo(t,r,a));break;default:yo(t,r,a)}}function mv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Fl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ft=l,gv(l,t)}mv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pv(t),t=t.sibling}function pv(t){switch(t.tag){case 0:case 11:case 15:Fl(t),t.flags&2048&&ss(9,t,t.return);break;case 3:Fl(t);break;case 12:Fl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Wc(t)):Fl(t);break;default:Fl(t)}}function Wc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ft=l,gv(l,t)}mv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ss(8,r,r.return),Wc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Wc(r));break;default:Wc(r)}t=t.sibling}}function gv(t,r){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:ss(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=t;Ft!==null;){l=Ft;var f=l.sibling,d=l.return;if(av(l),l===a){Ft=null;break e}if(f!==null){f.return=d,Ft=f;break e}Ft=d}}}var aw={getCacheForType:function(t){var r=Wt(xt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Wt(xt).controller.signal}},ow=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,De=null,Oe=0,Ye=0,Mn=null,as=!1,_o=!1,om=!1,Er=0,pt=0,os=0,ga=0,lm=0,Vn=0,vo=0,Gl=null,En=null,um=!1,Jc=0,yv=0,Zc=1/0,eh=null,ls=null,zt=0,us=null,Eo=null,Tr=0,cm=0,hm=null,_v=null,Kl=0,fm=null;function kn(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:W.T!==null?_m():tc()}function vv(){if(Vn===0)if((Oe&536870912)===0||Le){var t=Hs;Hs<<=1,(Hs&3932160)===0&&(Hs=262144),Vn=t}else Vn=536870912;return t=Nn.current,t!==null&&(t.flags|=32),Vn}function Tn(t,r,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(To(t,0),cs(t,Oe,Vn,!1)),Fs(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(ga|=a),pt===4&&cs(t,Oe,Vn,!1)),zi(t))}function Ev(t,r,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ni(t,r),f=l?cw(t,r):mm(t,r,!0),d=l;do{if(f===0){_o&&!l&&cs(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!lw(a)){f=mm(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=t;f=Gl;var N=S.current.memoizedState.isDehydrated;if(N&&(To(S,_).flags|=256),_=mm(S,_,!1),_!==2){if(om&&!N){S.errorRecoveryDisabledLanes|=d,ga|=d,f=4;break e}d=En,En=f,d!==null&&(En===null?En=d:En.push.apply(En,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){To(t,0),cs(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:cs(l,r,Vn,!as);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Jc+300-cn(),10<f)){if(cs(l,r,Vn,!as),bi(l,0,!0)!==0)break e;Tr=r,l.timeoutHandle=Wv(Tv.bind(null,l,a,En,eh,um,r,Vn,ga,vo,as,d,"Throttled",-0,0),f);break e}Tv(l,a,En,eh,um,r,Vn,ga,vo,as,d,null,-0,0)}}break}while(!0);zi(t)}function Tv(t,r,a,l,f,d,_,S,N,F,$,ee,G,Q){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},dv(r,d,ee);var ce=(d&62914560)===d?Jc-cn():(d&4194048)===d?yv-cn():0;if(ce=Kw(ee,ce),ce!==null){Tr=d,t.cancelPendingCommit=ce(xv.bind(null,t,r,d,a,l,f,_,S,N,$,ee,null,G,Q)),cs(t,d,_,!F);return}}xv(t,r,d,a,l,f,_,S,N)}function lw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!xn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function cs(t,r,a,l){r&=~lm,r&=~ga,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-vt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Gs(t,a,r)}function th(){return(Fe&6)===0?(Ql(0),!1):!0}function dm(){if(De!==null){if(Ye===0)var t=De.return;else t=De,cr=oa=null,xd(t),co=null,xl=0,t=De;for(;t!==null;)J_(t.alternate,t),t=t.return;De=null}}function To(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Iw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Tr=0,dm(),et=t,De=a=lr(t.current,null),Oe=r,Ye=0,Mn=null,as=!1,_o=ni(t,r),om=!1,vo=Vn=lm=ga=os=pt=0,En=Gl=null,um=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-vt(l),d=1<<f;r|=t[f],l&=~d}return Er=r,bc(),a}function bv(t,r){Ce=null,W.H=Ll,r===uo||r===Dc?(r=Uy(),Ye=3):r===yd?(r=Uy(),Ye=4):Ye=r===Gd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Mn=r,De===null&&(pt=1,Fc(t,Fn(r,t.current)))}function Av(){var t=Nn.current;return t===null?!0:(Oe&4194048)===Oe?Yn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Yn:!1}function Sv(){var t=W.H;return W.H=Ll,t===null?Ll:t}function wv(){var t=W.A;return W.A=aw,t}function nh(){pt=4,as||(Oe&4194048)!==Oe&&Nn.current!==null||(_o=!0),(os&134217727)===0&&(ga&134217727)===0||et===null||cs(et,Oe,Vn,!1)}function mm(t,r,a){var l=Fe;Fe|=2;var f=Sv(),d=wv();(et!==t||Oe!==r)&&(eh=null,To(t,r)),r=!1;var _=pt;e:do try{if(Ye!==0&&De!==null){var S=De,N=Mn;switch(Ye){case 8:dm(),_=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var F=Ye;if(Ye=0,Mn=null,bo(t,S,N,F),a&&_o){_=0;break e}break;default:F=Ye,Ye=0,Mn=null,bo(t,S,N,F)}}uw(),_=pt;break}catch($){bv(t,$)}while(!0);return r&&t.shellSuspendCounter++,cr=oa=null,Fe=l,W.H=f,W.A=d,De===null&&(et=null,Oe=0,bc()),_}function uw(){for(;De!==null;)Rv(De)}function cw(t,r){var a=Fe;Fe|=2;var l=Sv(),f=wv();et!==t||Oe!==r?(eh=null,Zc=cn()+500,To(t,r)):_o=ni(t,r);e:do try{if(Ye!==0&&De!==null){r=De;var d=Mn;t:switch(Ye){case 1:Ye=0,Mn=null,bo(t,r,d,1);break;case 2:case 9:if(Py(d)){Ye=0,Mn=null,Cv(r);break}r=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),zi(t)},d.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Py(d)?(Ye=0,Mn=null,Cv(r)):(Ye=0,Mn=null,bo(t,r,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var S=De;if(_?fE(_):S.stateNode.complete){Ye=0,Mn=null;var N=S.sibling;if(N!==null)De=N;else{var F=S.return;F!==null?(De=F,ih(F)):De=null}break t}}Ye=0,Mn=null,bo(t,r,d,5);break;case 6:Ye=0,Mn=null,bo(t,r,d,6);break;case 8:dm(),pt=6;break e;default:throw Error(s(462))}}hw();break}catch($){bv(t,$)}while(!0);return cr=oa=null,W.H=l,W.A=f,Fe=a,De!==null?0:(et=null,Oe=0,bc(),pt)}function hw(){for(;De!==null&&!Ff();)Rv(De)}function Rv(t){var r=X_(t.alternate,t,Er);t.memoizedProps=t.pendingProps,r===null?ih(t):De=r}function Cv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=F_(a,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=F_(a,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:xd(r);default:J_(a,r),r=De=wy(r,Er),r=X_(a,r,Er)}t.memoizedProps=t.pendingProps,r===null?ih(t):De=r}function bo(t,r,a,l){cr=oa=null,xd(r),co=null,xl=0;var f=r.return;try{if(ZS(t,f,r,a,Oe)){pt=1,Fc(t,Fn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;pt=1,Fc(t,Fn(a,t.current)),De=null;return}r.flags&32768?(Le||l===1?t=!0:_o||(Oe&536870912)!==0?t=!1:(as=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Iv(r,t)):ih(r)}function ih(t){var r=t;do{if((r.flags&32768)!==0){Iv(r,as);return}t=r.return;var a=nw(r.alternate,r,Er);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);pt===0&&(pt=5)}function Iv(t,r){do{var a=iw(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);pt=6,De=null}function xv(t,r,a,l,f,d,_,S,N){t.cancelPendingCommit=null;do rh();while(zt!==0);if((Fe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=nd,Qf(t,a,d,_,S,N),t===et&&(De=et=null,Oe=0),Eo=r,us=t,Tr=a,cm=d,hm=f,_v=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pw(zr,function(){return Vv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=ae.p,ae.p=2,_=Fe,Fe|=4;try{rw(t,r,a)}finally{Fe=_,ae.p=f,W.T=l}}zt=1,Dv(),Nv(),Ov()}}function Dv(){if(zt===1){zt=0;var t=us,r=Eo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=Fe;Fe|=4;try{cv(r,t);var d=Rm,_=gy(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&py(S.ownerDocument.documentElement,S)){if(N!==null&&Wf(S)){var F=N.start,$=N.end;if($===void 0&&($=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min($,S.value.length);else{var ee=S.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Q=G.getSelection(),ce=S.textContent.length,ge=Math.min(N.start,ce),Ze=N.end===void 0?ge:Math.min(N.end,ce);!Q.extend&&ge>Ze&&(_=Ze,Ze=ge,ge=_);var j=my(S,ge),k=my(S,Ze);if(j&&k&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var H=ee.createRange();H.setStart(j.node,j.offset),Q.removeAllRanges(),ge>Ze?(Q.addRange(H),Q.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),Q.addRange(H))}}}}for(ee=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var Z=ee[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}gh=!!wm,Rm=wm=null}finally{Fe=f,ae.p=l,W.T=a}}t.current=r,zt=2}}function Nv(){if(zt===2){zt=0;var t=us,r=Eo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=Fe;Fe|=4;try{sv(t,r.alternate,r)}finally{Fe=f,ae.p=l,W.T=a}}zt=3}}function Ov(){if(zt===4||zt===3){zt=0,Yu();var t=us,r=Eo,a=Tr,l=_v;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,Eo=us=null,Mv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ls=null),rr(a),r=r.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ti,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,f=ae.p,ae.p=2,W.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{W.T=r,ae.p=f}}(Tr&3)!==0&&rh(),zi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===fm?Kl++:(Kl=0,fm=t):Kl=0,Ql(0)}}function Mv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Cl(r)))}function rh(){return Dv(),Nv(),Ov(),Vv()}function Vv(){if(zt!==5)return!1;var t=us,r=cm;cm=0;var a=rr(Tr),l=W.T,f=ae.p;try{ae.p=32>a?32:a,W.T=null,a=hm,hm=null;var d=us,_=Tr;if(zt=0,Eo=us=null,Tr=0,(Fe&6)!==0)throw Error(s(331));var S=Fe;if(Fe|=4,pv(d.current),fv(d,d.current,_,a),Fe=S,Ql(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ti,d)}catch{}return!0}finally{ae.p=f,W.T=l,Mv(t,r)}}function kv(t,r,a){r=Fn(a,r),r=Fd(t.stateNode,r,2),t=ns(t,r,2),t!==null&&(Fs(t,2),zi(t))}function $e(t,r,a){if(t.tag===3)kv(t,t,a);else for(;r!==null;){if(r.tag===3){kv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ls===null||!ls.has(l))){t=Fn(a,t),a=P_(2),l=ns(r,a,2),l!==null&&(L_(a,l,r,t),Fs(l,2),zi(l));break}}r=r.return}}function pm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ow;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(om=!0,f.add(a),t=fw.bind(null,t,r,a),r.then(t,t))}function fw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Oe&a)===a&&(pt===4||pt===3&&(Oe&62914560)===Oe&&300>cn()-Jc?(Fe&2)===0&&To(t,0):lm|=a,vo===Oe&&(vo=0)),zi(t)}function Pv(t,r){r===0&&(r=ec()),t=ra(t,r),t!==null&&(Fs(t,r),zi(t))}function dw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Pv(t,a)}function mw(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Pv(t,a)}function pw(t,r){return jt(t,r)}var sh=null,Ao=null,gm=!1,ah=!1,ym=!1,hs=0;function zi(t){t!==Ao&&t.next===null&&(Ao===null?sh=Ao=t:Ao=Ao.next=t),ah=!0,gm||(gm=!0,yw())}function Ql(t,r){if(!ym&&ah){ym=!0;do for(var a=!1,l=sh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-vt(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,zv(l,d))}else d=Oe,d=bi(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ni(l,d)||(a=!0,zv(l,d));l=l.next}while(a);ym=!1}}function gw(){Lv()}function Lv(){ah=gm=!1;var t=0;hs!==0&&Cw()&&(t=hs);for(var r=cn(),a=null,l=sh;l!==null;){var f=l.next,d=Uv(l,r);d===0?(l.next=null,a===null?sh=f:a.next=f,f===null&&(Ao=a)):(a=l,(t!==0||(d&3)!==0)&&(ah=!0)),l=f}zt!==0&&zt!==5||Ql(t),hs!==0&&(hs=0)}function Uv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-vt(d),S=1<<_,N=f[_];N===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Kf(S,r)):N<=r&&(t.expiredLanes|=S),d&=~S}if(r=et,a=Oe,a=bi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&jr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ni(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&jr(l),rr(a)){case 2:case 8:a=il;break;case 32:a=zr;break;case 268435456:a=$u;break;default:a=zr}return l=jv.bind(null,t),a=jt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&jr(l),t.callbackPriority=2,t.callbackNode=null,2}function jv(t,r){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(rh()&&t.callbackNode!==a)return null;var l=Oe;return l=bi(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ev(t,l,r),Uv(t,cn()),t.callbackNode!=null&&t.callbackNode===a?jv.bind(null,t):null)}function zv(t,r){if(rh())return null;Ev(t,r,!0)}function yw(){xw(function(){(Fe&6)!==0?jt(nl,gw):Lv()})}function _m(){if(hs===0){var t=oo;t===0&&(t=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),hs=t}return hs}function Bv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ka(""+t)}function qv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function _w(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Bv((f[qt]||null).action),_=l.submitter;_&&(r=(r=_[qt]||null)?Bv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var S=new Mi("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hs!==0){var N=_?qv(f,_):new FormData(f);Ud(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?qv(f,_):new FormData(f),Ud(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var vm=0;vm<td.length;vm++){var Em=td[vm],vw=Em.toLowerCase(),Ew=Em[0].toUpperCase()+Em.slice(1);ci(vw,"on"+Ew)}ci(vy,"onAnimationEnd"),ci(Ey,"onAnimationIteration"),ci(Ty,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(PS,"onTransitionRun"),ci(LS,"onTransitionStart"),ci(US,"onTransitionCancel"),ci(by,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function Hv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,F=S.currentTarget;if(S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=F;try{d(f)}catch($){Tc($)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,F=S.currentTarget,S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=F;try{d(f)}catch($){Tc($)}f.currentTarget=null,d=N}}}}function Ne(t,r){var a=r[Ba];a===void 0&&(a=r[Ba]=new Set);var l=t+"__bubble";a.has(l)||(Fv(r,t,2,!1),a.add(l))}function Tm(t,r,a){var l=0;r&&(l|=4),Fv(a,t,l,r)}var oh="_reactListening"+Math.random().toString(36).slice(2);function bm(t){if(!t[oh]){t[oh]=!0,al.forEach(function(a){a!=="selectionchange"&&(Tw.has(a)||Tm(a,!1,t),Tm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[oh]||(r[oh]=!0,Tm("selectionchange",!1,r))}}function Fv(t,r,a,l){switch(vE(r)){case 2:var f=$w;break;case 8:f=Xw;break;default:f=Lm}a=f.bind(null,r,a,t),f=void 0,!Xs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Am(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Ri(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Kr(function(){var F=d,$=zn(a),ee=[];e:{var G=Ay.get(t);if(G!==void 0){var Q=Mi,ce=t;switch(t){case"keypress":if(Js(a)===0)break e;case"keydown":case"keyup":Q=_c;break;case"focusin":ce="focus",Q=ea;break;case"focusout":ce="blur",Q=ea;break;case"beforeblur":case"afterblur":Q=ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case vy:case Ey:case Ty:Q=hc;break;case by:Q=w;break;case"scroll":case"scrollend":Q=_l;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=or;break;case"toggle":case"beforetoggle":Q=Re}var ge=(r&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),j=ge?G!==null?G+"Capture":null:G;ge=[];for(var k=F,H;k!==null;){var Z=k;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||j===null||(Z=ai(k,j),Z!=null&&ge.push($l(k,Z,H))),Ze)break;k=k.return}0<ge.length&&(G=new Q(G,ce,null,a,$),ee.push({event:G,listeners:ge}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==pl&&(ce=a.relatedTarget||a.fromElement)&&(Ri(ce)||ce[Si]))break e;if((Q||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(ce=a.relatedTarget||a.toElement,Q=F,ce=ce?Ri(ce):null,ce!==null&&(Ze=u(ce),ge=ce.tag,ce!==Ze||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(Q=null,ce=F),Q!==ce)){if(ge=vl,Z="onMouseLeave",j="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ge=or,Z="onPointerLeave",j="onPointerEnter",k="pointer"),Ze=Q==null?G:Cn(Q),H=ce==null?G:Cn(ce),G=new ge(Z,k+"leave",Q,a,$),G.target=Ze,G.relatedTarget=H,Z=null,Ri($)===F&&(ge=new ge(j,k+"enter",ce,a,$),ge.target=H,ge.relatedTarget=Ze,Z=ge),Ze=Z,Q&&ce)t:{for(ge=bw,j=Q,k=ce,H=0,Z=j;Z;Z=ge(Z))H++;Z=0;for(var me=k;me;me=ge(me))Z++;for(;0<H-Z;)j=ge(j),H--;for(;0<Z-H;)k=ge(k),Z--;for(;H--;){if(j===k||k!==null&&j===k.alternate){ge=j;break t}j=ge(j),k=ge(k)}ge=null}else ge=null;Q!==null&&Gv(ee,G,Q,ge,!1),ce!==null&&Ze!==null&&Gv(ee,Ze,ce,ge,!0)}}e:{if(G=F?Cn(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Be=ly;else if(ay(G))if(uy)Be=MS;else{Be=NS;var he=DS}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Ga(F.elementType)&&(Be=ly):Be=OS;if(Be&&(Be=Be(t,F))){oy(ee,Be,a,$);break e}he&&he(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&fl(G,"number",G.value)}switch(he=F?Cn(F):window,t){case"focusin":(ay(he)||he.contentEditable==="true")&&(Za=he,Jf=F,Sl=null);break;case"focusout":Sl=Jf=Za=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,yy(ee,a,$);break;case"selectionchange":if(kS)break;case"keydown":case"keyup":yy(ee,a,$)}var xe;if(He)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ja?ta(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Pi&&a.locale!=="ko"&&(Ja||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ja&&(xe=yl()):(Oi=$,gl="value"in Oi?Oi.value:Oi.textContent,Ja=!0)),he=lh(F,Me),0<he.length&&(Me=new ki(Me,t,null,a,$),ee.push({event:Me,listeners:he}),xe?Me.data=xe:(xe=Wa(a),xe!==null&&(Me.data=xe)))),(xe=qn?RS(t,a):CS(t,a))&&(Me=lh(F,"onBeforeInput"),0<Me.length&&(he=new ki("onBeforeInput","beforeinput",null,a,$),ee.push({event:he,listeners:Me}),he.data=xe)),_w(ee,t,F,a,$)}Hv(ee,r)})}function $l(t,r,a){return{instance:t,listener:r,currentTarget:a}}function lh(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ai(t,a),f!=null&&l.unshift($l(t,f,d)),f=ai(t,r),f!=null&&l.push($l(t,f,d))),t.tag===3)return l;t=t.return}return[]}function bw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gv(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,F=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||F===null||(N=F,f?(F=ai(a,d),F!=null&&_.unshift($l(a,F,N))):f||(F=ai(a,d),F!=null&&_.push($l(a,F,N)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var Aw=/\r\n?/g,Sw=/\u0000|\uFFFD/g;function Kv(t){return(typeof t=="string"?t:""+t).replace(Aw,`
`).replace(Sw,"")}function Qv(t,r){return r=Kv(r),Kv(t)===r}function Je(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&gn(t,""+l);break;case"className":In(t,"class",l);break;case"tabIndex":In(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,a,l);break;case"style":ml(t,l,d);break;case"data":if(r!=="object"){In(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ka(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(t,r,"name",f.name,f,null),Je(t,r,"formEncType",f.formEncType,f,null),Je(t,r,"formMethod",f.formMethod,f,null),Je(t,r,"formTarget",f.formTarget,f,null)):(Je(t,r,"encType",f.encType,f,null),Je(t,r,"method",f.method,f,null),Je(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ka(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=si);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Ha(t,"popover",l);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lc.get(a)||a,Ha(t,a,l))}}function Sm(t,r,a,l,f,d){switch(a){case"style":ml(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ol.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ha(t,a,l)}}}function Zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,d,_,a,null)}}f&&Je(t,r,"srcSet",a.srcSet,a,null),l&&Je(t,r,"src",a.src,a,null);return;case"input":Ne("invalid",t);var S=d=_=f=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":F=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Je(t,r,l,$,a,null)}}sc(t,d,S,N,F,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Je(t,r,f,S,a,null)}r=d,a=_,t.multiple=!!l,r!=null?qr(t,!!l,r,!1):a!=null&&qr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Je(t,r,_,S,a,null)}Hr(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,r,N,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Yl.length;l++)Ne(Yl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,F,l,a,null)}return;default:if(Ga(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Sm(t,r,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(t,r,S,l,a,null))}function ww(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,N=null,F=null,$=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(Q)||Je(t,r,Q,null,l,ee)}}for(var G in l){var Q=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Q!=null||ee!=null))switch(G){case"type":d=Q;break;case"name":f=Q;break;case"checked":F=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ee&&Je(t,r,G,Q,l,ee)}}Fa(t,_,S,N,F,$,d,f);return;case"select":Q=_=S=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||Je(t,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Je(t,r,f,d,l,N)}r=S,a=_,l=Q,G!=null?qr(t,!!a,G,!1):!!l!=!!a&&(r!=null?qr(t,!!a,r,!0):qr(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,r,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,r,_,f,l,d)}ac(t,G,Q);return;case"option":for(var ce in a)if(G=a[ce],a.hasOwnProperty(ce)&&G!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Je(t,r,ce,null,l,G)}for(N in l)if(G=l[N],Q=a[N],l.hasOwnProperty(N)&&G!==Q&&(G!=null||Q!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Je(t,r,N,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)G=a[ge],a.hasOwnProperty(ge)&&G!=null&&!l.hasOwnProperty(ge)&&Je(t,r,ge,null,l,G);for(F in l)if(G=l[F],Q=a[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:Je(t,r,F,G,l,Q)}return;default:if(Ga(r)){for(var Ze in a)G=a[Ze],a.hasOwnProperty(Ze)&&G!==void 0&&!l.hasOwnProperty(Ze)&&Sm(t,r,Ze,void 0,l,G);for($ in l)G=l[$],Q=a[$],!l.hasOwnProperty($)||G===Q||G===void 0&&Q===void 0||Sm(t,r,$,G,l,Q);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&Je(t,r,j,null,l,G);for(ee in l)G=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||G===Q||G==null&&Q==null||Je(t,r,ee,G,l,Q)}function Yv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&Yv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],F=N.startTime;if(F>S)break;var $=N.transferSize,ee=N.initiatorType;$&&Yv(ee)&&(N=N.responseEnd,_+=$*(N<S?1:(S-F)/(N-F)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wm=null,Rm=null;function uh(t){return t.nodeType===9?t:t.ownerDocument}function $v(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Cm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Im=null;function Cw(){var t=window.event;return t&&t.type==="popstate"?t===Im?!1:(Im=t,!0):(Im=null,!1)}var Wv=typeof setTimeout=="function"?setTimeout:void 0,Iw=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,xw=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(t){return Jv.resolve(null).then(t).catch(Dw)}:Wv;function Dw(t){setTimeout(function(){throw t})}function fs(t){return t==="head"}function Zv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Co(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Xl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Xl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[wi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Xl(t.ownerDocument.body);a=f}while(a);Co(r)}function eE(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function xm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xm(a),qa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Nw(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function Ow(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function tE(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=$n(t.nextSibling),t===null))return null;return t}function Dm(t){return t.data==="$?"||t.data==="$~"}function Nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Mw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Om=null;function nE(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return $n(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function iE(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function rE(t,r,a){switch(r=uh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Xl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);qa(t)}var Xn=new Map,sE=new Set;function ch(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var br=ae.d;ae.d={f:Vw,r:kw,D:Pw,C:Lw,L:Uw,m:jw,X:Bw,S:zw,M:qw};function Vw(){var t=br.f(),r=th();return t||r}function kw(t){var r=jn(t);r!==null&&r.tag===5&&r.type==="form"?b_(r):br.r(t)}var So=typeof document>"u"?null:document;function aE(t,r,a){var l=So;if(l&&typeof r=="string"&&r){var f=pn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),sE.has(f)||(sE.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Zt(r,"link",t),Ct(r),l.head.appendChild(r)))}}function Pw(t){br.D(t),aE("dns-prefetch",t,null)}function Lw(t,r){br.C(t,r),aE("preconnect",t,r)}function Uw(t,r,a){br.L(t,r,a);var l=So;if(l&&t&&r){var f='link[rel="preload"][as="'+pn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+pn(a.imageSizes)+'"]')):f+='[href="'+pn(t)+'"]';var d=f;switch(r){case"style":d=wo(t);break;case"script":d=Ro(t)}Xn.has(d)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Xn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Wl(d))||r==="script"&&l.querySelector(Jl(d))||(r=l.createElement("link"),Zt(r,"link",t),Ct(r),l.head.appendChild(r)))}}function jw(t,r){br.m(t,r);var a=So;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ro(t)}if(!Xn.has(d)&&(t=b({rel:"modulepreload",href:t},r),Xn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jl(d)))return}l=a.createElement("link"),Zt(l,"link",t),Ct(l),a.head.appendChild(l)}}}function zw(t,r,a){br.S(t,r,a);var l=So;if(l&&t){var f=Ci(l).hoistableStyles,d=wo(t);r=r||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Wl(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Xn.get(d))&&Mm(t,a);var N=_=l.createElement("link");Ct(N),Zt(N,"link",t),N._p=new Promise(function(F,$){N.onload=F,N.onerror=$}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,hh(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function Bw(t,r){br.X(t,r);var a=So;if(a&&t){var l=Ci(a).hoistableScripts,f=Ro(t),d=l.get(f);d||(d=a.querySelector(Jl(f)),d||(t=b({src:t,async:!0},r),(r=Xn.get(f))&&Vm(t,r),d=a.createElement("script"),Ct(d),Zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function qw(t,r){br.M(t,r);var a=So;if(a&&t){var l=Ci(a).hoistableScripts,f=Ro(t),d=l.get(f);d||(d=a.querySelector(Jl(f)),d||(t=b({src:t,async:!0,type:"module"},r),(r=Xn.get(f))&&Vm(t,r),d=a.createElement("script"),Ct(d),Zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function oE(t,r,a,l){var f=(f=Ie.current)?ch(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=wo(a.href),a=Ci(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=wo(a.href);var d=Ci(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Wl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(t,a),d||Hw(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ro(a),a=Ci(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function wo(t){return'href="'+pn(t)+'"'}function Wl(t){return'link[rel="stylesheet"]['+t+"]"}function lE(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Hw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Zt(r,"link",a),Ct(r),t.head.appendChild(r))}function Ro(t){return'[src="'+pn(t)+'"]'}function Jl(t){return"script[async]"+t}function uE(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+pn(a.href)+'"]');if(l)return r.instance=l,Ct(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),Zt(l,"style",f),hh(l,a.precedence,t),r.instance=l;case"stylesheet":f=wo(a.href);var d=t.querySelector(Wl(f));if(d)return r.state.loading|=4,r.instance=d,Ct(d),d;l=lE(a),(f=Xn.get(f))&&Mm(l,f),d=(t.ownerDocument||t).createElement("link"),Ct(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Zt(d,"link",l),r.state.loading|=4,hh(d,a.precedence,t),r.instance=d;case"script":return d=Ro(a.src),(f=t.querySelector(Jl(d)))?(r.instance=f,Ct(f),f):(l=a,(f=Xn.get(d))&&(l=b({},a),Vm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ct(f),Zt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,hh(l,a.precedence,t));return r.instance}function hh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===r)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Mm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Vm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var fh=null;function cE(t,r,a){if(fh===null){var l=new Map,f=fh=new Map;f.set(a,l)}else f=fh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[wi]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function hE(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Fw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function fE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Gw(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=wo(l.href),d=r.querySelector(Wl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=dh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,Ct(d);return}d=r.ownerDocument||r,l=lE(l),(f=Xn.get(f))&&Mm(l,f),d=d.createElement("link"),Ct(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Zt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=dh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var km=0;function Kw(t,r){return t.stylesheets&&t.count===0&&ph(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ph(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&km===0&&(km=62500*Rw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ph(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>km?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mh=null;function ph(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mh=new Map,r.forEach(Qw,t),mh=null,dh.call(t))}function Qw(t,r){if(!(r.state.loading&4)){var a=mh.get(t);if(a)var l=a.get(null);else{a=new Map,mh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=dh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Zl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Yw(t,r,a,l,f,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function dE(t,r,a,l,f,d,_,S,N,F,$,ee){return t=new Yw(t,r,a,_,N,F,$,ee,S),r=1,d===!0&&(r|=24),d=Dn(3,null,null,r),t.current=d,d.stateNode=t,r=md(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},_d(d),t}function mE(t){return t?(t=no,t):no}function pE(t,r,a,l,f,d){f=mE(f),l.context===null?l.context=f:l.pendingContext=f,l=ts(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ns(t,l,r),a!==null&&(Tn(a,t,r),Nl(a,t,r))}function gE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Pm(t,r){gE(t,r),(t=t.alternate)&&gE(t,r)}function yE(t){if(t.tag===13||t.tag===31){var r=ra(t,67108864);r!==null&&Tn(r,t,67108864),Pm(t,67108864)}}function _E(t){if(t.tag===13||t.tag===31){var r=kn();r=Ks(r);var a=ra(t,r);a!==null&&Tn(a,t,r),Pm(t,r)}}var gh=!0;function $w(t,r,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=2,Lm(t,r,a,l)}finally{ae.p=d,W.T=f}}function Xw(t,r,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=8,Lm(t,r,a,l)}finally{ae.p=d,W.T=f}}function Lm(t,r,a,l){if(gh){var f=Um(l);if(f===null)Am(t,r,l,yh,a),EE(t,l);else if(Jw(f,t,r,a,l))l.stopPropagation();else if(EE(t,l),r&4&&-1<Ww.indexOf(t)){for(;f!==null;){var d=jn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Ti(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-vt(_);S.entanglements[1]|=N,_&=~N}zi(d),(Fe&6)===0&&(Zc=cn()+500,Ql(0))}}break;case 31:case 13:S=ra(d,2),S!==null&&Tn(S,d,2),th(),Pm(d,2)}if(d=Um(l),d===null&&Am(t,r,l,yh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Am(t,r,l,null,a)}}function Um(t){return t=zn(t),jm(t)}var yh=null;function jm(t){if(yh=null,t=Ri(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return yh=t,null}function vE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qs()){case nl:return 2;case il:return 8;case zr:case Gf:return 32;case $u:return 268435456;default:return 32}default:return 32}}var zm=!1,ds=null,ms=null,ps=null,eu=new Map,tu=new Map,gs=[],Ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function EE(t,r){switch(t){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":eu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(r.pointerId)}}function nu(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=jn(r),r!==null&&yE(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Jw(t,r,a,l,f){switch(r){case"focusin":return ds=nu(ds,t,r,a,l,f),!0;case"dragenter":return ms=nu(ms,t,r,a,l,f),!0;case"mouseover":return ps=nu(ps,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return eu.set(d,nu(eu.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,tu.set(d,nu(tu.get(d)||null,t,r,a,l,f)),!0}return!1}function TE(t){var r=Ri(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,ii(t.priority,function(){_E(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,ii(t.priority,function(){_E(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _h(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Um(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);pl=l,a.target.dispatchEvent(l),pl=null}else return r=jn(a),r!==null&&yE(r),t.blockedOn=a,!1;r.shift()}return!0}function bE(t,r,a){_h(t)&&a.delete(r)}function Zw(){zm=!1,ds!==null&&_h(ds)&&(ds=null),ms!==null&&_h(ms)&&(ms=null),ps!==null&&_h(ps)&&(ps=null),eu.forEach(bE),tu.forEach(bE)}function vh(t,r){t.blockedOn===r&&(t.blockedOn=null,zm||(zm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Zw)))}var Eh=null;function AE(t){Eh!==t&&(Eh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Eh===t&&(Eh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(jm(l||a)===null)continue;break}var d=jn(a);d!==null&&(t.splice(r,3),r-=3,Ud(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Co(t){function r(N){return vh(N,t)}ds!==null&&vh(ds,t),ms!==null&&vh(ms,t),ps!==null&&vh(ps,t),eu.forEach(r),tu.forEach(r);for(var a=0;a<gs.length;a++){var l=gs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gs.length&&(a=gs[0],a.blockedOn===null);)TE(a),a.blockedOn===null&&gs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[qt]||null;if(typeof d=="function")_||AE(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[qt]||null)S=_.formAction;else if(jm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),AE(a)}}}function SE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Bm(t){this._internalRoot=t}Th.prototype.render=Bm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=kn();pE(a,l,t,r,null,null)},Th.prototype.unmount=Bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;pE(t.current,2,null,t,null,null),th(),r[Si]=null}};function Th(t){this._internalRoot=t}Th.prototype.unstable_scheduleHydration=function(t){if(t){var r=tc();t={blockedOn:null,target:t,priority:r};for(var a=0;a<gs.length&&r!==0&&r<gs[a].priority;a++);gs.splice(a,0,t),a===0&&TE(t)}};var wE=e.version;if(wE!=="19.2.0")throw Error(s(527,wE,"19.2.0"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var e1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{ti=bh.inject(e1),Yt=bh}catch{}}return ru.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=O_,d=M_,_=V_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=dE(t,1,!1,null,null,a,l,null,f,d,_,SE),t[Si]=r.current,bm(t),new Bm(r)},ru.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=O_,_=M_,S=V_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=dE(t,1,!0,r,a??null,l,f,N,d,_,S,SE),r.context=mE(null),a=r.current,l=kn(),l=Ks(l),f=ts(l),f.callback=null,ns(a,f,l),a=l,r.current.lanes=a,Fs(r,a),zi(r),t[Si]=r.current,bm(t),new Th(r)},ru.version="19.2.0",ru}var kE;function h1(){if(kE)return Fm.exports;kE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fm.exports=c1(),Fm.exports}var f1=h1();const d1=w0(f1);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PE="popstate";function m1(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return pp("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:vu(o)}return g1(e,n,null,i)}function ft(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function gi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p1(){return Math.random().toString(36).substring(2,10)}function LE(i,e){return{usr:i.state,key:i.key,idx:e}}function pp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:n,key:e&&e.key||s||p1()}}function vu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Go(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function g1(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function b(){m="POP";let M=v(),Y=M==null?null:M-g;g=M,p&&p({action:m,location:B.location,delta:Y})}function A(M,Y){m="PUSH";let X=pp(B.location,M,Y);g=v()+1;let ie=LE(X,g),fe=B.createHref(X);try{h.pushState(ie,"",fe)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;o.location.assign(fe)}u&&p&&p({action:m,location:B.location,delta:1})}function R(M,Y){m="REPLACE";let X=pp(B.location,M,Y);g=v();let ie=LE(X,g),fe=B.createHref(X);h.replaceState(ie,"",fe),u&&p&&p({action:m,location:B.location,delta:0})}function x(M){return y1(M)}let B={get action(){return m},get location(){return i(o,h)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(PE,b),p=M,()=>{o.removeEventListener(PE,b),p=null}},createHref(M){return e(o,M)},createURL:x,encodeLocation(M){let Y=x(M);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:R,go(M){return h.go(M)}};return B}function y1(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:vu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function R0(i,e,n="/"){return _1(i,e,n,!1)}function _1(i,e,n,s){let o=typeof e=="string"?Go(e):e,u=Dr(o.pathname||"/",n);if(u==null)return null;let h=C0(i);v1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=D1(u);m=I1(h[p],g,s)}return m}function C0(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ft(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Rr([s,v.relativePath]),A=n.concat(v);h.children&&h.children.length>0&&(ft(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),C0(h.children,e,A,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:R1(b,h.index),routesMeta:A})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of I0(h.path))u(h,m,!0,p)}),e}function I0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=I0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function v1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:C1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var E1=/^:[\w-]+$/,T1=3,b1=2,A1=1,S1=10,w1=-2,UE=i=>i==="*";function R1(i,e){let n=i.split("/"),s=n.length;return n.some(UE)&&(s+=w1),e&&(s+=b1),n.filter(o=>!UE(o)).reduce((o,u)=>o+(E1.test(u)?T1:u===""?A1:S1),s)}function C1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function I1(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),A=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Rr([u,b.pathname]),pathnameBase:V1(Rr([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=Rr([u,b.pathnameBase]))}return h}function Fh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=x1(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},A)=>{if(v==="*"){let x=m[A]||"";h=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const R=m[A];return b&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function x1(i,e=!1,n=!0){gi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function D1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Dr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function N1(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Go(i):i;return{pathname:n?n.startsWith("/")?n:O1(n,e):e,search:k1(s),hash:P1(o)}}function O1(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ym(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M1(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fp(i){let e=M1(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Gp(i,e,n,s=!1){let o;typeof i=="string"?o=Go(i):(o={...i},ft(!o.pathname||!o.pathname.includes("?"),Ym("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Ym("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Ym("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let p=N1(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Rr=i=>i.join("/").replace(/\/\/+/g,"/"),V1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),k1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,P1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function L1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var x0=["POST","PUT","PATCH","DELETE"];new Set(x0);var U1=["GET",...x0];new Set(U1);var Ko=L.createContext(null);Ko.displayName="DataRouter";var df=L.createContext(null);df.displayName="DataRouterState";L.createContext(!1);var D0=L.createContext({isTransitioning:!1});D0.displayName="ViewTransition";var j1=L.createContext(new Map);j1.displayName="Fetchers";var z1=L.createContext(null);z1.displayName="Await";var _i=L.createContext(null);_i.displayName="Navigation";var Ou=L.createContext(null);Ou.displayName="Location";var tr=L.createContext({outlet:null,matches:[],isDataRoute:!1});tr.displayName="Route";var Kp=L.createContext(null);Kp.displayName="RouteError";function B1(i,{relative:e}={}){ft(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(_i),{hash:o,pathname:u,search:h}=Mu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Rr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Qo(){return L.useContext(Ou)!=null}function Ps(){return ft(Qo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Ou).location}var N0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O0(i){L.useContext(_i).static||L.useLayoutEffect(i)}function Qp(){let{isDataRoute:i}=L.useContext(tr);return i?eR():q1()}function q1(){ft(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Ko),{basename:e,navigator:n}=L.useContext(_i),{matches:s}=L.useContext(tr),{pathname:o}=Ps(),u=JSON.stringify(Fp(s)),h=L.useRef(!1);return O0(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(gi(h.current,N0),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=Gp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Rr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,i])}L.createContext(null);function Mu(i,{relative:e}={}){let{matches:n}=L.useContext(tr),{pathname:s}=Ps(),o=JSON.stringify(Fp(n));return L.useMemo(()=>Gp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function H1(i,e){return M0(i,e)}function M0(i,e,n,s,o){ft(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(_i),{matches:h}=L.useContext(tr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let X=b&&b.path||"";V0(g,!b||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=Ps(),R;if(e){let X=typeof e=="string"?Go(e):e;ft(v==="/"||X.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${X.pathname}" was given in the \`location\` prop.`),R=X}else R=A;let x=R.pathname||"/",B=x;if(v!=="/"){let X=v.replace(/^\//,"").split("/");B="/"+x.replace(/^\//,"").split("/").slice(X.length).join("/")}let M=R0(i,{pathname:B});gi(b||M!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),gi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=Y1(M&&M.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Rr([v,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?v:Rr([v,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),h,n,s,o);return e&&Y?L.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},Y):Y}function F1(){let i=Z1(),e=L1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var G1=L.createElement(F1,null),K1=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?L.createElement(tr.Provider,{value:this.props.routeContext},L.createElement(Kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q1({routeContext:i,match:e,children:n}){let s=L.useContext(Ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(tr.Provider,{value:i},n)}function Y1(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let g=u.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);ft(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:b,errors:A}=n,R=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||R){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,b)=>{let A,R=!1,x=null,B=null;n&&(A=h&&v.route.id?h[v.route.id]:void 0,x=v.route.errorElement||G1,m&&(p<0&&b===0?(V0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,B=null):p===b&&(R=!0,B=v.route.hydrateFallbackElement||null)));let M=e.concat(u.slice(0,b+1)),Y=()=>{let X;return A?X=x:R?X=B:v.route.Component?X=L.createElement(v.route.Component,null):v.route.element?X=v.route.element:X=g,L.createElement(Q1,{match:v,routeContext:{outlet:g,matches:M,isDataRoute:n!=null},children:X})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?L.createElement(K1,{location:n.location,revalidation:n.revalidation,component:x,error:A,children:Y(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:s}):Y()},null)}function Yp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(i){let e=L.useContext(Ko);return ft(e,Yp(i)),e}function X1(i){let e=L.useContext(df);return ft(e,Yp(i)),e}function W1(i){let e=L.useContext(tr);return ft(e,Yp(i)),e}function $p(i){let e=W1(i),n=e.matches[e.matches.length-1];return ft(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function J1(){return $p("useRouteId")}function Z1(){let i=L.useContext(Kp),e=X1("useRouteError"),n=$p("useRouteError");return i!==void 0?i:e.errors?.[n]}function eR(){let{router:i}=$1("useNavigate"),e=$p("useNavigate"),n=L.useRef(!1);return O0(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{gi(n.current,N0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var jE={};function V0(i,e,n){!e&&!jE[i]&&(jE[i]=!0,gi(!1,n))}L.memo(tR);function tR({routes:i,future:e,state:n,unstable_onError:s}){return M0(i,void 0,n,s,e)}function $m({to:i,replace:e,state:n,relative:s}){ft(Qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(_i);gi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(tr),{pathname:h}=Ps(),m=Qp(),p=Gp(i,Fp(u),h,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Gt(i){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ft(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Go(n));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:A="default"}=n,R=L.useMemo(()=>{let x=Dr(p,h);return x==null?null:{location:{pathname:x,search:g,hash:v,state:b,key:A},navigationType:s}},[h,p,g,v,b,A,s]);return gi(R!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:L.createElement(_i.Provider,{value:m},L.createElement(Ou.Provider,{children:e,value:R}))}function zE({children:i,location:e}){return H1(gp(i),e)}function gp(i,e=[]){let n=[];return L.Children.forEach(i,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,gp(s.props.children,u));return}ft(s.type===Gt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=gp(s.props.children,u)),n.push(h)}),n}var Oh="get",Mh="application/x-www-form-urlencoded";function mf(i){return i!=null&&typeof i.tagName=="string"}function iR(i){return mf(i)&&i.tagName.toLowerCase()==="button"}function rR(i){return mf(i)&&i.tagName.toLowerCase()==="form"}function sR(i){return mf(i)&&i.tagName.toLowerCase()==="input"}function aR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function oR(i,e){return i.button===0&&(!e||e==="_self")&&!aR(i)}var Ah=null;function lR(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var uR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(i){return i!=null&&!uR.has(i)?(gi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mh}"`),null):i}function cR(i,e){let n,s,o,u,h;if(rR(i)){let m=i.getAttribute("action");s=m?Dr(m,e):null,n=i.getAttribute("method")||Oh,o=Xm(i.getAttribute("enctype"))||Mh,u=new FormData(i)}else if(iR(i)||sR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Dr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Oh,o=Xm(i.getAttribute("formenctype"))||Xm(m.getAttribute("enctype"))||Mh,u=new FormData(m,i),!lR()){let{name:g,type:v,value:b}=i;if(v==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,b)}}else{if(mf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oh,s=null,o=Mh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function hR(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Dr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function fR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function mR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await fR(u,n);return h.links?h.links():[]}return[]}));return _R(s.flat(1).filter(dR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function BE(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function pR(i,e,{includeHydrateFallback:n}={}){return gR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function gR(i){return[...new Set(i)]}function yR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function _R(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(yR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function k0(){let i=L.useContext(Ko);return Xp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function vR(){let i=L.useContext(df);return Xp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Wp=L.createContext(void 0);Wp.displayName="FrameworkContext";function P0(){let i=L.useContext(Wp);return Xp(i,"You must render this element inside a <HydratedRouter> element"),i}function ER(i,e){let n=L.useContext(Wp),[s,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,A=L.useRef(null);L.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=Y=>{Y.forEach(X=>{h(X.isIntersecting)})},M=new IntersectionObserver(B,{threshold:.5});return A.current&&M.observe(A.current),()=>{M.disconnect()}}},[i]),L.useEffect(()=>{if(s){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[s]);let R=()=>{o(!0)},x=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:su(m,R),onBlur:su(p,x),onMouseEnter:su(g,R),onMouseLeave:su(v,x),onTouchStart:su(b,R)}]:[!1,A,{}]}function su(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function TR({page:i,...e}){let{router:n}=k0(),s=L.useMemo(()=>R0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?L.createElement(AR,{page:i,matches:s,...e}):null}function bR(i){let{manifest:e,routeModules:n}=P0(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return mR(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function AR({page:i,matches:e,...n}){let s=Ps(),{manifest:o,routeModules:u}=P0(),{basename:h}=k0(),{loaderData:m,matches:p}=vR(),g=L.useMemo(()=>BE(i,e,p,o,s,"data"),[i,e,p,o,s]),v=L.useMemo(()=>BE(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let x=new Set,B=!1;if(e.forEach(Y=>{let X=o.routes[Y.route.id];!X||!X.hasLoader||(!g.some(ie=>ie.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||X.hasClientLoader?B=!0:x.add(Y.route.id))}),x.size===0)return[];let M=hR(i,h,"data");return B&&x.size>0&&M.searchParams.set("_routes",e.filter(Y=>x.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[M.pathname+M.search]},[h,m,s,o,g,e,i,u]),A=L.useMemo(()=>pR(v,o),[v,o]),R=bR(v);return L.createElement(L.Fragment,null,b.map(x=>L.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),A.map(x=>L.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),R.map(({key:x,link:B})=>L.createElement("link",{key:x,nonce:n.nonce,...B})))}function SR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var L0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L0&&(window.__reactRouterVersion="7.9.4")}catch{}function wR({basename:i,children:e,window:n}){let s=L.useRef();s.current==null&&(s.current=m1({window:n,v5Compat:!0}));let o=s.current,[u,h]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(nR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var U0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:b,...A},R){let{basename:x}=L.useContext(_i),B=typeof g=="string"&&U0.test(g),M,Y=!1;if(typeof g=="string"&&B&&(M=g,L0))try{let I=new URL(window.location.href),U=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=Dr(U.pathname,x);U.origin===I.origin&&V!=null?g=V+U.search+U.hash:Y=!0}catch{gi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=B1(g,{relative:o}),[ie,fe,Ee]=ER(s,A),Te=xR(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:b});function O(I){e&&e(I),I.defaultPrevented||Te(I)}let C=L.createElement("a",{...A,...Ee,href:M||X,onClick:Y||u?e:O,ref:SR(R,fe),target:p,"data-discover":!B&&n==="render"?"true":void 0});return ie&&!B?L.createElement(L.Fragment,null,C,L.createElement(TR,{page:X})):C});Kt.displayName="Link";var RR=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let b=Mu(h,{relative:g.relative}),A=Ps(),R=L.useContext(df),{navigator:x,basename:B}=L.useContext(_i),M=R!=null&&VR(b)&&m===!0,Y=x.encodeLocation?x.encodeLocation(b).pathname:b.pathname,X=A.pathname,ie=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(X=X.toLowerCase(),ie=ie?ie.toLowerCase():null,Y=Y.toLowerCase()),ie&&B&&(ie=Dr(ie,B)||ie);const fe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let Ee=X===Y||!o&&X.startsWith(Y)&&X.charAt(fe)==="/",Te=ie!=null&&(ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(Y.length)==="/"),O={isActive:Ee,isPending:Te,isTransitioning:M},C=Ee?e:void 0,I;typeof s=="function"?I=s(O):I=[s,Ee?"active":null,Te?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(O):u;return L.createElement(Kt,{...g,"aria-current":C,className:I,ref:v,style:U,to:h,viewTransition:m},typeof p=="function"?p(O):p)});RR.displayName="NavLink";var CR=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Oh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...A},R)=>{let x=OR(),B=MR(m,{relative:g}),M=h.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&U0.test(m),X=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let fe=ie.nativeEvent.submitter,Ee=fe?.getAttribute("formmethod")||h;x(fe||ie.currentTarget,{fetcherKey:e,method:Ee,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:b})};return L.createElement("form",{ref:R,method:M,action:B,onSubmit:s?p:X,...A,"data-discover":!Y&&i==="render"?"true":void 0})});CR.displayName="Form";function IR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j0(i){let e=L.useContext(Ko);return ft(e,IR(i)),e}function xR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Qp(),p=Ps(),g=Mu(i,{relative:u});return L.useCallback(v=>{if(oR(v,e)){v.preventDefault();let b=n!==void 0?n:vu(p)===vu(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var DR=0,NR=()=>`__${String(++DR)}__`;function OR(){let{router:i}=j0("useSubmit"),{basename:e}=L.useContext(_i),n=J1();return L.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=cR(s,e);if(o.navigate===!1){let v=o.fetcherKey||NR();await i.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function MR(i,{relative:e}={}){let{basename:n}=L.useContext(_i),s=L.useContext(tr);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Mu(i||".",{relative:e})},h=Ps();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Rr([n,u.pathname])),vu(u)}function VR(i,{relative:e}={}){let n=L.useContext(D0);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=j0("useViewTransitionState"),o=Mu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Fh(o.pathname,h)!=null||Fh(o.pathname,u)!=null}const kR=()=>{};var qE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},PR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},B0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,R=g&63;p||(R=64,h||(A=64)),s.push(n[v],n[b],n[A],n[R])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(z0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):PR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new LR;const A=u<<2|m>>4;if(s.push(A),g!==64){const R=m<<4&240|g>>2;if(s.push(R),b!==64){const x=g<<6&192|b;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class LR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UR=function(i){const e=z0(i);return B0.encodeByteArray(e,!0)},Gh=function(i){return UR(i).replace(/\./g,"")},q0=function(i){try{return B0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=()=>jR().__FIREBASE_DEFAULTS__,BR=()=>{if(typeof process>"u"||typeof qE>"u")return;const i=qE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},qR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&q0(i[1]);return e&&JSON.parse(e)},pf=()=>{try{return kR()||zR()||BR()||qR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},H0=i=>pf()?.emulatorHosts?.[i],F0=i=>{const e=H0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},G0=()=>pf()?.config,K0=i=>pf()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Gh(JSON.stringify(n)),Gh(JSON.stringify(h)),""].join(".")}const du={};function FR(){const i={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?i.emulator.push(e):i.prod.push(e);return i}function GR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let HE=!1;function Zp(i,e){if(typeof window>"u"||typeof document>"u"||!Ls(window.location.host)||du[i]===e||du[i]||HE)return;du[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=FR().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,R){A.setAttribute("width","24"),A.setAttribute("id",R),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{HE=!0,h()},A}function v(A,R){A.setAttribute("id",R),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=GR(s),R=n("text"),x=document.getElementById(R)||document.createElement("span"),B=n("learnmore"),M=document.getElementById(B)||document.createElement("a"),Y=n("preprendIcon"),X=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),v(M,B);const fe=g();p(X,Y),ie.append(X,x,M,fe),document.body.appendChild(ie)}u?(x.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function QR(){const i=pf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $R(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function XR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WR(){const i=un();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function JR(){return!QR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZR(){try{return typeof indexedDB=="object"}catch{return!1}}function eC(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="FirebaseError";class nr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=tC,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?nC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new nr(o,m,s)}}function nC(i,e){return i.replace(iC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const iC=/\{\$([^}]+)}/g;function rC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function wa(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(FE(u)&&FE(h)){if(!wa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function FE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ou(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function lu(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function sC(i,e){const n=new aC(i,e);return n.subscribe.bind(n)}class aC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");oC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Wm),o.error===void 0&&(o.error=Wm),o.complete===void 0&&(o.complete=Wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oC(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(i){return i&&i._delegate?i._delegate:i}class xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new HR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cC(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uC(i){return i===_a?void 0:i}function cC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const fC={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},dC=Ve.INFO,mC={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},pC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=mC[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eg{constructor(e){this.name=e,this._logLevel=dC,this._logHandler=pC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const gC=(i,e)=>e.some(n=>i instanceof n);let GE,KE;function yC(){return GE||(GE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _C(){return KE||(KE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y0=new WeakMap,yp=new WeakMap,$0=new WeakMap,Jm=new WeakMap,tg=new WeakMap;function vC(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(ws(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Y0.set(n,i)}).catch(()=>{}),tg.set(e,i),e}function EC(i){if(yp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});yp.set(i,e)}let _p={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return yp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||$0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function TC(i){_p=i(_p)}function bC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Zm(this),e,...n);return $0.set(s,e.sort?e.sort():[e]),ws(s)}:_C().includes(i)?function(...e){return i.apply(Zm(this),e),ws(Y0.get(this))}:function(...e){return ws(i.apply(Zm(this),e))}}function AC(i){return typeof i=="function"?bC(i):(i instanceof IDBTransaction&&EC(i),gC(i,yC())?new Proxy(i,_p):i)}function ws(i){if(i instanceof IDBRequest)return vC(i);if(Jm.has(i))return Jm.get(i);const e=AC(i);return e!==i&&(Jm.set(i,e),tg.set(e,i)),e}const Zm=i=>tg.get(i);function SC(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ws(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ws(h.result),p.oldVersion,p.newVersion,ws(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const wC=["get","getKey","getAll","getAllKeys","count"],RC=["put","add","delete","clear"],ep=new Map;function QE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=RC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||wC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return ep.set(e,u),u}TC(i=>({...i,get:(e,n,s)=>QE(e,n)||i.get(e,n,s),has:(e,n)=>!!QE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function IC(i){return i.getComponent()?.type==="VERSION"}const vp="@firebase/app",YE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new eg("@firebase/app"),xC="@firebase/app-compat",DC="@firebase/analytics-compat",NC="@firebase/analytics",OC="@firebase/app-check-compat",MC="@firebase/app-check",VC="@firebase/auth",kC="@firebase/auth-compat",PC="@firebase/database",LC="@firebase/data-connect",UC="@firebase/database-compat",jC="@firebase/functions",zC="@firebase/functions-compat",BC="@firebase/installations",qC="@firebase/installations-compat",HC="@firebase/messaging",FC="@firebase/messaging-compat",GC="@firebase/performance",KC="@firebase/performance-compat",QC="@firebase/remote-config",YC="@firebase/remote-config-compat",$C="@firebase/storage",XC="@firebase/storage-compat",WC="@firebase/firestore",JC="@firebase/ai",ZC="@firebase/firestore-compat",eI="firebase",tI="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="[DEFAULT]",nI={[vp]:"fire-core",[xC]:"fire-core-compat",[NC]:"fire-analytics",[DC]:"fire-analytics-compat",[MC]:"fire-app-check",[OC]:"fire-app-check-compat",[VC]:"fire-auth",[kC]:"fire-auth-compat",[PC]:"fire-rtdb",[LC]:"fire-data-connect",[UC]:"fire-rtdb-compat",[jC]:"fire-fn",[zC]:"fire-fn-compat",[BC]:"fire-iid",[qC]:"fire-iid-compat",[HC]:"fire-fcm",[FC]:"fire-fcm-compat",[GC]:"fire-perf",[KC]:"fire-perf-compat",[QC]:"fire-rc",[YC]:"fire-rc-compat",[$C]:"fire-gcs",[XC]:"fire-gcs-compat",[WC]:"fire-fst",[ZC]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[eI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,iI=new Map,Tp=new Map;function $E(i,e){try{i.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ra(i){const e=i.name;if(Tp.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Tp.set(e,i);for(const n of Kh.values())$E(n,i);for(const n of iI.values())$E(n,i);return!0}function gf(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Sn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new Vu("app","Firebase",rI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=tI;function X0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Ep,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Rs.create("bad-app-name",{appName:String(o)});if(n||(n=G0()),!n)throw Rs.create("no-options");const u=Kh.get(o);if(u){if(wa(n,u.options)&&wa(s,u.config))return u;throw Rs.create("duplicate-app",{appName:o})}const h=new hC(o);for(const p of Tp.values())h.addComponent(p);const m=new sI(n,s,h);return Kh.set(o,m),m}function ng(i=Ep){const e=Kh.get(i);if(!e&&i===Ep&&G0())return X0();if(!e)throw Rs.create("no-app",{appName:i});return e}function Gi(i,e,n){let s=nI[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(h.join(" "));return}Ra(new xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="firebase-heartbeat-database",oI=1,Eu="firebase-heartbeat-store";let tp=null;function W0(){return tp||(tp=SC(aI,oI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Rs.create("idb-open",{originalErrorMessage:i.message})})),tp}async function lI(i){try{const n=(await W0()).transaction(Eu),s=await n.objectStore(Eu).get(J0(i));return await n.done,s}catch(e){if(e instanceof nr)Nr.warn(e.message);else{const n=Rs.create("idb-get",{originalErrorMessage:e?.message});Nr.warn(n.message)}}}async function XE(i,e){try{const s=(await W0()).transaction(Eu,"readwrite");await s.objectStore(Eu).put(e,J0(i)),await s.done}catch(n){if(n instanceof nr)Nr.warn(n.message);else{const s=Rs.create("idb-set",{originalErrorMessage:n?.message});Nr.warn(s.message)}}}function J0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=1024,cI=30;class hI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=WE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>cI){const o=mI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Nr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=WE(),{heartbeatsToSend:n,unsentEntries:s}=fI(this._heartbeatsCache.heartbeats),o=Gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Nr.warn(e),""}}}function WE(){return new Date().toISOString().substring(0,10)}function fI(i,e=uI){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),JE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),JE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class dI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZR()?eC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return XE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return XE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function JE(i){return Gh(JSON.stringify({version:2,heartbeats:i})).length}function mI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(i){Ra(new xs("platform-logger",e=>new CC(e),"PRIVATE")),Ra(new xs("heartbeat",e=>new hI(e),"PRIVATE")),Gi(vp,YE,i),Gi(vp,YE,"esm2020"),Gi("fire-js","")}pI("");function Z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gI=Z0,eb=new Vu("auth","Firebase",Z0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new eg("@firebase/auth");function yI(i,...e){Qh.logLevel<=Ve.WARN&&Qh.warn(`Auth (${Oa}): ${i}`,...e)}function Vh(i,...e){Qh.logLevel<=Ve.ERROR&&Qh.error(`Auth (${Oa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(i,...e){throw rg(i,...e)}function pi(i,...e){return rg(i,...e)}function ig(i,e,n){const s={...gI(),[e]:n};return new Vu("auth","Firebase",s).create(e,{appName:i.name})}function Cr(i){return ig(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _I(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ei(i,"argument-error"),ig(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return eb.create(i,...e)}function _e(i,e,...n){if(!i)throw rg(e,...n)}function Sr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Vh(e),new Error(e)}function Or(i,e){i||Sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(){return typeof self<"u"&&self.location?.href||""}function vI(){return ZE()==="http:"||ZE()==="https:"}function ZE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vI()||$R()||"connection"in navigator)?navigator.onLine:!0}function TI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=KR()||XR()}get(){return EI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(i,e){Or(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SI=new Pu(3e4,6e4);function kr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Pr(i,e,n,s,o={}){return nb(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=ku({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return YR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Ls(i.emulatorConfig.host)&&(g.credentials="include"),tb.fetch()(await ib(i,i.config.apiHost,n,m),g)})}async function nb(i,e,n){i._canInitEmulator=!1;const s={...bI,...e};try{const o=new RI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Sh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Sh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Sh(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ig(i,v,g);ei(i,v)}}catch(o){if(o instanceof nr)throw o;ei(i,"network-request-failed",{message:String(o)})}}async function Lu(i,e,n,s,o={}){const u=await Pr(i,e,n,s,o);return"mfaPendingCredential"in u&&ei(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function ib(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?sg(i.config,o):`${i.config.apiScheme}://${o}`;return AI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function wI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),SI.get())})}}function Sh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(i,e,s);return o.customData._tokenResponse=n,o}function eT(i){return i!==void 0&&i.enterprise!==void 0}class CI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function II(i,e){return Pr(i,"GET","/v2/recaptchaConfig",kr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(i,e){return Pr(i,"POST","/v1/accounts:delete",e)}async function Yh(i,e){return Pr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DI(i,e=!1){const n=ot(i),s=await n.getIdToken(e),o=ag(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:mu(np(o.auth_time)),issuedAtTime:mu(np(o.iat)),expirationTime:mu(np(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function np(i){return Number(i)*1e3}function ag(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=q0(n);return o?JSON.parse(o):(Vh("Failed to decode base64 JWT payload"),null)}catch(o){return Vh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function tT(i){const e=ag(i);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof nr&&NI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function NI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(i){const e=i.auth,n=await i.getIdToken(),s=await Tu(i,Yh(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?rb(o.providerUserInfo):[],h=VI(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function MI(i){const e=ot(i);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function rb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(i,e){const n=await nb(i,{},async()=>{const s=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await ib(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Ls(i.emulatorConfig.host)&&(p.credentials="include"),tb.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PI(i,e){return Pr(i,"POST","/v2/accounts:revokeToken",kr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=tT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await kI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Oo;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(i,e){_e(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class mi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new OI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ap(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Tu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DI(this,e)}reload(){return MI(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await $h(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(Cr(this.auth));const e=await this.getIdToken();return await Tu(this,xI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:R,providerData:x,stsTokenManager:B}=n;_e(b&&B,e,"internal-error");const M=Oo.fromJSON(this.name,B);_e(typeof b=="string",e,"internal-error"),_s(s,e.name),_s(o,e.name),_e(typeof A=="boolean",e,"internal-error"),_e(typeof R=="boolean",e,"internal-error"),_s(u,e.name),_s(h,e.name),_s(m,e.name),_s(p,e.name),_s(g,e.name),_s(v,e.name);const Y=new mi({uid:b,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:R,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:M,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(Y.providerData=x.map(X=>({...X}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new Oo;o.updateFromServerResponse(n);const u=new mi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await $h(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?rb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Oo;m.updateFromIdToken(s);const p=new mi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=new Map;function wr(i){Or(i instanceof Function,"Expected a class definition");let e=nT.get(i);return e?(Or(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,nT.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sb.type="NONE";const iT=sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(i,e,n){return`firebase:${i}:${e}:${n}`}class Mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=kh(this.userKey,o.apiKey,u),this.fullPersistenceKey=kh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yh(this.auth,{idToken:e}).catch(()=>{});return n?mi._fromGetAccountInfoResponse(this.auth,n,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Mo(wr(iT),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||wr(iT);const h=kh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let b;if(typeof v=="string"){const A=await Yh(e,{idToken:v}).catch(()=>{});if(!A)break;b=await mi._fromGetAccountInfoResponse(e,A,v)}else b=mi._fromJSON(e,v);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Mo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Mo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ub(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ab(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hb(e))return"Blackberry";if(fb(e))return"Webos";if(ob(e))return"Safari";if((e.includes("chrome/")||lb(e))&&!e.includes("edge/"))return"Chrome";if(cb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function ab(i=un()){return/firefox\//i.test(i)}function ob(i=un()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lb(i=un()){return/crios\//i.test(i)}function ub(i=un()){return/iemobile/i.test(i)}function cb(i=un()){return/android/i.test(i)}function hb(i=un()){return/blackberry/i.test(i)}function fb(i=un()){return/webos/i.test(i)}function og(i=un()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function LI(i=un()){return og(i)&&!!window.navigator?.standalone}function UI(){return WR()&&document.documentMode===10}function db(i=un()){return og(i)||cb(i)||fb(i)||hb(i)||/windows phone/i.test(i)||ub(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(i,e=[]){let n;switch(i){case"Browser":n=rT(un());break;case"Worker":n=`${rT(un())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(i,e={}){return Pr(i,"GET","/v2/passwordPolicy",kr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=6;class qI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??BI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sT(this),this.idTokenSubscription=new sT(this),this.beforeStateQueue=new jI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yh(this,{idToken:e}),s=await mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(Cr(this));const n=e?ot(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(Cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(Cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zI(this),n=new qI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await PI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lr(i){return ot(i)}class sT{constructor(e){this.auth=e,this.observer=null,this.addObserver=sC(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FI(i){yf=i}function pb(i){return yf.loadJS(i)}function GI(){return yf.recaptchaEnterpriseScript}function KI(){return yf.gapiScript}function QI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class YI{constructor(){this.enterprise=new $I}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $I{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const XI="recaptcha-enterprise",gb="NO_RECAPTCHA";class WI{constructor(e){this.type=XI,this.auth=Lr(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{II(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new CI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;eT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(gb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&eT(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=GI();p.length!==0&&(p+=m),pb(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function aT(i,e,n,s=!1,o=!1){const u=new WI(i);let h;if(o)h=gb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Xh(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await aT(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await aT(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(i,e){const n=gf(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(wa(u,e??{}))return o;ei(o,"already-initialized")}return n.initialize({options:e})}function ZI(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(wr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function ex(i,e,n){const s=Lr(i);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=yb(e),{host:h,port:m}=tx(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(wa(g,s.config.emulator)&&wa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ls(h)?(Jp(`${u}//${h}${p}`),Zp("Auth",!0)):nx()}function yb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function tx(i){const e=yb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:oT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:oT(h)}}}function oT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function nx(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function ix(i,e){return Pr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(i,e){return Lu(i,"POST","/v1/accounts:signInWithPassword",kr(i,e))}async function sx(i,e){return Pr(i,"POST","/v1/accounts:sendOobCode",kr(i,e))}async function ax(i,e){return sx(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(i,e){return Lu(i,"POST","/v1/accounts:signInWithEmailLink",kr(i,e))}async function lx(i,e){return Lu(i,"POST","/v1/accounts:signInWithEmailLink",kr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends lg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new bu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new bu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xh(e,n,"signInWithPassword",rx);case"emailLink":return ox(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xh(e,s,"signUpPassword",ix);case"emailLink":return lx(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(i,e){return Lu(i,"POST","/v1/accounts:signInWithIdp",kr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="http://localhost";class Ca extends lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new Ca(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Vo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Vo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vo(e,n)}buildRequest(){const e={requestUri:ux,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ku(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hx(i){const e=ou(lu(i)).link,n=e?ou(lu(e)).deep_link_id:null,s=ou(lu(i)).deep_link_id;return(s?ou(lu(s)).link:null)||s||n||e||i}class ug{constructor(e){const n=ou(lu(e)),s=n.apiKey??null,o=n.oobCode??null,u=cx(n.mode??null);_e(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hx(e);try{return new ug(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ug.parseLink(n);return _e(s,"argument-error"),bu._fromEmailAndCode(e,s.code,s.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends cg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Uu{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ca._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Hi.credential(n,s)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Uu{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Uu{constructor(){super("twitter.com")}static credential(e,n){return Ca._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ts.credential(n,s)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(i,e){return Lu(i,"POST","/v1/accounts:signUp",kr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await mi._fromIdTokenResponse(e,s,o),h=lT(s);return new Ia({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=lT(s);return new Ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function lT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends nr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Wh(e,n,s,o)}}function _b(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(i,u,e,s):u})}async function dx(i,e,n=!1){const s=await Tu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ia._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(i,e,n=!1){const{auth:s}=i;if(Sn(s.app))return Promise.reject(Cr(s));const o="reauthenticate";try{const u=await Tu(i,_b(s,o,e,i),n);_e(u.idToken,s,"internal-error");const h=ag(u.idToken);_e(h,s,"internal-error");const{sub:m}=h;return _e(i.uid===m,s,"user-mismatch"),Ia._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ei(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(i,e,n=!1){if(Sn(i.app))return Promise.reject(Cr(i));const s="signIn",o=await _b(i,s,e),u=await Ia._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function px(i,e){return vb(Lr(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(i){const e=Lr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gx(i,e,n){const s=Lr(i);await Xh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ax)}async function yx(i,e,n){if(Sn(i.app))return Promise.reject(Cr(i));const s=Lr(i),h=await Xh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Eb(i),p}),m=await Ia._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function _x(i,e,n){return Sn(i.app)?Promise.reject(Cr(i)):px(ot(i),Yo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Eb(i),s})}function vx(i,e,n,s){return ot(i).onIdTokenChanged(e,n,s)}function Ex(i,e,n){return ot(i).beforeAuthStateChanged(e,n)}function Tx(i,e,n,s){return ot(i).onAuthStateChanged(e,n,s)}function Tb(i){return ot(i).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=1e3,Ax=10;class Ab extends bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=db(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);UI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Ax):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},bx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ab.type="LOCAL";const Sx=Ab;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sb.type="SESSION";const wb=Sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new _f(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await wx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=hg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function Cx(i){Ki().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function Ix(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xx(){return navigator?.serviceWorker?.controller||null}function Dx(){return Rb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firebaseLocalStorageDb",Nx=1,Zh="firebaseLocalStorage",Ib="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vf(i,e){return i.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function Ox(){const i=indexedDB.deleteDatabase(Cb);return new ju(i).toPromise()}function Sp(){const i=indexedDB.open(Cb,Nx);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Zh,{keyPath:Ib})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Zh)?e(s):(s.close(),await Ox(),e(await Sp()))})})}async function uT(i,e,n){const s=vf(i,!0).put({[Ib]:e,value:n});return new ju(s).toPromise()}async function Mx(i,e){const n=vf(i,!1).get(e),s=await new ju(n).toPromise();return s===void 0?null:s.value}function cT(i,e){const n=vf(i,!0).delete(e);return new ju(n).toPromise()}const Vx=800,kx=3;class xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>kx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(Dx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ix(),!this.activeServiceWorker)return;this.sender=new Rx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sp();return await uT(e,Jh,"1"),await cT(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>uT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Mx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=vf(o,!1).getAll();return new ju(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xb.type="LOCAL";const Px=xb;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(i,e){return e?wr(e):(_e(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Lx(i){return vb(i.auth,new fg(i),i.bypassAuthState)}function Ux(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),mx(n,new fg(i),i.bypassAuthState)}async function jx(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),dx(n,new fg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lx;case"linkViaPopup":case"linkViaRedirect":return jx;case"reauthViaPopup":case"reauthViaRedirect":return Ux;default:ei(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Pu(2e3,1e4);async function Bx(i,e,n){if(Sn(i.app))return Promise.reject(pi(i,"operation-not-supported-in-this-environment"));const s=Lr(i);_I(i,e,cg);const o=Db(s,n);return new va(s,"signInViaPopup",e,o).executeNotNull()}class va extends Nb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zx.get())};e()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="pendingRedirect",Ph=new Map;class Hx extends Nb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const s=await Fx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fx(i,e){const n=Qx(e),s=Kx(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Gx(i,e){Ph.set(i._key(),e)}function Kx(i){return wr(i._redirectPersistence)}function Qx(i){return kh(qx,i.config.apiKey,i.name)}async function Yx(i,e,n=!1){if(Sn(i.app))return Promise.reject(Cr(i));const s=Lr(i),o=Db(s,e),h=await new Hx(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=600*1e3;class Xx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ob(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(pi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$x&&this.cachedEventUids.clear(),this.cachedEventUids.has(hT(e))}saveEventToCache(e){this.cachedEventUids.add(hT(e)),this.lastProcessedEventTime=Date.now()}}function hT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Ob({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function Wx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ob(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(i,e={}){return Pr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e2=/^https?/;async function t2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Jx(i);for(const n of e)try{if(n2(n))return}catch{}ei(i,"unauthorized-domain")}function n2(i){const e=bp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!e2.test(n))return!1;if(Zx.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new Pu(3e4,6e4);function fT(){const i=Ki().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function r2(i){return new Promise((e,n)=>{function s(){fT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fT(),n(pi(i,"network-request-failed"))},timeout:i2.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)s();else{const o=QI("iframefcb");return Ki()[o]=()=>{gapi.load?s():n(pi(i,"network-request-failed"))},pb(`${KI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function s2(i){return Lh=Lh||r2(i),Lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new Pu(5e3,15e3),o2="__/auth/iframe",l2="emulator/auth/iframe",u2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h2(i){const e=i.config;_e(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?sg(e,l2):`https://${i.config.authDomain}/${o2}`,s={apiKey:e.apiKey,appName:i.name,v:Oa},o=c2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ku(s).slice(1)}`}async function f2(i){const e=await s2(i),n=Ki().gapi;return _e(n,i,"internal-error"),e.open({where:document.body,url:h2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=pi(i,"network-request-failed"),m=Ki().setTimeout(()=>{u(h)},a2.get());function p(){Ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m2=500,p2=600,g2="_blank",y2="http://localhost";class dT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _2(i,e,n,s=m2,o=p2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...d2,width:s.toString(),height:o.toString(),top:u,left:h},g=un().toLowerCase();n&&(m=lb(g)?g2:n),ab(g)&&(e=e||y2,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[R,x])=>`${A}${R}=${x},`,"");if(LI(g)&&m!=="_self")return v2(e||"",m),new dT(null);const b=window.open(e||"",m,v);_e(b,i,"popup-blocked");try{b.focus()}catch{}return new dT(b)}function v2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="__/auth/handler",T2="emulator/auth/handler",b2=encodeURIComponent("fac");async function mT(i,e,n,s,o,u){_e(i.config.authDomain,i,"auth-domain-config-required"),_e(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Oa,eventId:o};if(e instanceof cg){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",rC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof Uu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${b2}=${encodeURIComponent(p)}`:"";return`${A2(i)}?${ku(m).slice(1)}${g}`}function A2({config:i}){return i.emulator?sg(i,T2):`https://${i.authDomain}/${E2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class S2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wb,this._completeRedirectFn=Yx,this._overrideRedirectResult=Gx}async _openPopup(e,n,s,o){Or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await mT(e,n,s,bp(),o);return _2(e,u,hg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await mT(e,n,s,bp(),o);return Cx(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await f2(e),s=new Xx(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},o=>{const u=o?.[0]?.[ip];u!==void 0&&n(!!u),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return db()||ob()||og()}}const w2=S2;var pT="@firebase/auth",gT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I2(i){Ra(new xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mb(i)},g=new HI(s,o,u,p);return ZI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ra(new xs("auth-internal",e=>{const n=Lr(e.getProvider("auth").getImmediate());return(s=>new R2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(pT,gT,C2(i)),Gi(pT,gT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=300,D2=K0("authIdTokenMaxAge")||x2;let yT=null;const N2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>D2)return;const o=n?.token;yT!==o&&(yT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function O2(i=ng()){const e=gf(i,"auth");if(e.isInitialized())return e.getImmediate();const n=JI(i,{popupRedirectResolver:w2,persistence:[Px,Sx,wb]}),s=K0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=N2(u.toString());Ex(n,h,()=>h(n.currentUser)),vx(n,m=>h(m))}}const o=H0("auth");return o&&ex(n,`http://${o}`),n}function M2(){return document.getElementsByTagName("head")?.[0]??document}FI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",M2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I2("Browser");var V2="firebase",k2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(V2,k2,"app");var _T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,Mb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function I(){}I.prototype=C.prototype,O.F=C.prototype,O.prototype=new I,O.prototype.constructor=O,O.D=function(U,V,z){for(var D=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)D[lt-2]=arguments[lt];return C.prototype[V].apply(U,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,C,I){I||(I=0);const U=Array(16);if(typeof C=="string")for(var V=0;V<16;++V)U[V]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(V=0;V<16;++V)U[V]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=O.g[0],I=O.g[1],V=O.g[2];let z=O.g[3],D;D=C+(z^I&(V^z))+U[0]+3614090360&4294967295,C=I+(D<<7&4294967295|D>>>25),D=z+(V^C&(I^V))+U[1]+3905402710&4294967295,z=C+(D<<12&4294967295|D>>>20),D=V+(I^z&(C^I))+U[2]+606105819&4294967295,V=z+(D<<17&4294967295|D>>>15),D=I+(C^V&(z^C))+U[3]+3250441966&4294967295,I=V+(D<<22&4294967295|D>>>10),D=C+(z^I&(V^z))+U[4]+4118548399&4294967295,C=I+(D<<7&4294967295|D>>>25),D=z+(V^C&(I^V))+U[5]+1200080426&4294967295,z=C+(D<<12&4294967295|D>>>20),D=V+(I^z&(C^I))+U[6]+2821735955&4294967295,V=z+(D<<17&4294967295|D>>>15),D=I+(C^V&(z^C))+U[7]+4249261313&4294967295,I=V+(D<<22&4294967295|D>>>10),D=C+(z^I&(V^z))+U[8]+1770035416&4294967295,C=I+(D<<7&4294967295|D>>>25),D=z+(V^C&(I^V))+U[9]+2336552879&4294967295,z=C+(D<<12&4294967295|D>>>20),D=V+(I^z&(C^I))+U[10]+4294925233&4294967295,V=z+(D<<17&4294967295|D>>>15),D=I+(C^V&(z^C))+U[11]+2304563134&4294967295,I=V+(D<<22&4294967295|D>>>10),D=C+(z^I&(V^z))+U[12]+1804603682&4294967295,C=I+(D<<7&4294967295|D>>>25),D=z+(V^C&(I^V))+U[13]+4254626195&4294967295,z=C+(D<<12&4294967295|D>>>20),D=V+(I^z&(C^I))+U[14]+2792965006&4294967295,V=z+(D<<17&4294967295|D>>>15),D=I+(C^V&(z^C))+U[15]+1236535329&4294967295,I=V+(D<<22&4294967295|D>>>10),D=C+(V^z&(I^V))+U[1]+4129170786&4294967295,C=I+(D<<5&4294967295|D>>>27),D=z+(I^V&(C^I))+U[6]+3225465664&4294967295,z=C+(D<<9&4294967295|D>>>23),D=V+(C^I&(z^C))+U[11]+643717713&4294967295,V=z+(D<<14&4294967295|D>>>18),D=I+(z^C&(V^z))+U[0]+3921069994&4294967295,I=V+(D<<20&4294967295|D>>>12),D=C+(V^z&(I^V))+U[5]+3593408605&4294967295,C=I+(D<<5&4294967295|D>>>27),D=z+(I^V&(C^I))+U[10]+38016083&4294967295,z=C+(D<<9&4294967295|D>>>23),D=V+(C^I&(z^C))+U[15]+3634488961&4294967295,V=z+(D<<14&4294967295|D>>>18),D=I+(z^C&(V^z))+U[4]+3889429448&4294967295,I=V+(D<<20&4294967295|D>>>12),D=C+(V^z&(I^V))+U[9]+568446438&4294967295,C=I+(D<<5&4294967295|D>>>27),D=z+(I^V&(C^I))+U[14]+3275163606&4294967295,z=C+(D<<9&4294967295|D>>>23),D=V+(C^I&(z^C))+U[3]+4107603335&4294967295,V=z+(D<<14&4294967295|D>>>18),D=I+(z^C&(V^z))+U[8]+1163531501&4294967295,I=V+(D<<20&4294967295|D>>>12),D=C+(V^z&(I^V))+U[13]+2850285829&4294967295,C=I+(D<<5&4294967295|D>>>27),D=z+(I^V&(C^I))+U[2]+4243563512&4294967295,z=C+(D<<9&4294967295|D>>>23),D=V+(C^I&(z^C))+U[7]+1735328473&4294967295,V=z+(D<<14&4294967295|D>>>18),D=I+(z^C&(V^z))+U[12]+2368359562&4294967295,I=V+(D<<20&4294967295|D>>>12),D=C+(I^V^z)+U[5]+4294588738&4294967295,C=I+(D<<4&4294967295|D>>>28),D=z+(C^I^V)+U[8]+2272392833&4294967295,z=C+(D<<11&4294967295|D>>>21),D=V+(z^C^I)+U[11]+1839030562&4294967295,V=z+(D<<16&4294967295|D>>>16),D=I+(V^z^C)+U[14]+4259657740&4294967295,I=V+(D<<23&4294967295|D>>>9),D=C+(I^V^z)+U[1]+2763975236&4294967295,C=I+(D<<4&4294967295|D>>>28),D=z+(C^I^V)+U[4]+1272893353&4294967295,z=C+(D<<11&4294967295|D>>>21),D=V+(z^C^I)+U[7]+4139469664&4294967295,V=z+(D<<16&4294967295|D>>>16),D=I+(V^z^C)+U[10]+3200236656&4294967295,I=V+(D<<23&4294967295|D>>>9),D=C+(I^V^z)+U[13]+681279174&4294967295,C=I+(D<<4&4294967295|D>>>28),D=z+(C^I^V)+U[0]+3936430074&4294967295,z=C+(D<<11&4294967295|D>>>21),D=V+(z^C^I)+U[3]+3572445317&4294967295,V=z+(D<<16&4294967295|D>>>16),D=I+(V^z^C)+U[6]+76029189&4294967295,I=V+(D<<23&4294967295|D>>>9),D=C+(I^V^z)+U[9]+3654602809&4294967295,C=I+(D<<4&4294967295|D>>>28),D=z+(C^I^V)+U[12]+3873151461&4294967295,z=C+(D<<11&4294967295|D>>>21),D=V+(z^C^I)+U[15]+530742520&4294967295,V=z+(D<<16&4294967295|D>>>16),D=I+(V^z^C)+U[2]+3299628645&4294967295,I=V+(D<<23&4294967295|D>>>9),D=C+(V^(I|~z))+U[0]+4096336452&4294967295,C=I+(D<<6&4294967295|D>>>26),D=z+(I^(C|~V))+U[7]+1126891415&4294967295,z=C+(D<<10&4294967295|D>>>22),D=V+(C^(z|~I))+U[14]+2878612391&4294967295,V=z+(D<<15&4294967295|D>>>17),D=I+(z^(V|~C))+U[5]+4237533241&4294967295,I=V+(D<<21&4294967295|D>>>11),D=C+(V^(I|~z))+U[12]+1700485571&4294967295,C=I+(D<<6&4294967295|D>>>26),D=z+(I^(C|~V))+U[3]+2399980690&4294967295,z=C+(D<<10&4294967295|D>>>22),D=V+(C^(z|~I))+U[10]+4293915773&4294967295,V=z+(D<<15&4294967295|D>>>17),D=I+(z^(V|~C))+U[1]+2240044497&4294967295,I=V+(D<<21&4294967295|D>>>11),D=C+(V^(I|~z))+U[8]+1873313359&4294967295,C=I+(D<<6&4294967295|D>>>26),D=z+(I^(C|~V))+U[15]+4264355552&4294967295,z=C+(D<<10&4294967295|D>>>22),D=V+(C^(z|~I))+U[6]+2734768916&4294967295,V=z+(D<<15&4294967295|D>>>17),D=I+(z^(V|~C))+U[13]+1309151649&4294967295,I=V+(D<<21&4294967295|D>>>11),D=C+(V^(I|~z))+U[4]+4149444226&4294967295,C=I+(D<<6&4294967295|D>>>26),D=z+(I^(C|~V))+U[11]+3174756917&4294967295,z=C+(D<<10&4294967295|D>>>22),D=V+(C^(z|~I))+U[2]+718787259&4294967295,V=z+(D<<15&4294967295|D>>>17),D=I+(z^(V|~C))+U[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+z&4294967295}s.prototype.v=function(O,C){C===void 0&&(C=O.length);const I=C-this.blockSize,U=this.C;let V=this.h,z=0;for(;z<C;){if(V==0)for(;z<=I;)o(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<C;)if(U[V++]=O.charCodeAt(z++),V==this.blockSize){o(this,U),V=0;break}}else for(;z<C;)if(U[V++]=O[z++],V==this.blockSize){o(this,U),V=0;break}}this.h=V,this.o+=C},s.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;C=this.o*8;for(var I=O.length-8;I<O.length;++I)O[I]=C&255,C/=256;for(this.v(O),O=Array(16),C=0,I=0;I<4;++I)for(let U=0;U<32;U+=8)O[C++]=this.g[I]>>>U&255;return O};function u(O,C){var I=m;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=C(O)}function h(O,C){this.h=C;const I=[];let U=!0;for(let V=O.length-1;V>=0;V--){const z=O[V]|0;U&&z==C||(I[V]=z,U=!1)}this.g=I}var m={};function p(O){return-128<=O&&O<128?u(O,function(C){return new h([C|0],C<0?-1:0)}):new h([O|0],O<0?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return b;if(O<0)return M(g(-O));const C=[];let I=1;for(let U=0;O>=I;U++)C[U]=O/I|0,I*=4294967296;return new h(C,0)}function v(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return M(v(O.substring(1),C));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(C,8));let U=b;for(let z=0;z<O.length;z+=8){var V=Math.min(8,O.length-z);const D=parseInt(O.substring(z,z+V),C);V<8?(V=g(Math.pow(C,V)),U=U.j(V).add(g(D))):(U=U.j(I),U=U.add(g(D)))}return U}var b=p(0),A=p(1),R=p(16777216);i=h.prototype,i.m=function(){if(B(this))return-M(this).m();let O=0,C=1;for(let I=0;I<this.g.length;I++){const U=this.i(I);O+=(U>=0?U:4294967296+U)*C,C*=4294967296}return O},i.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(B(this))return"-"+M(this).toString(O);const C=g(Math.pow(O,6));var I=this;let U="";for(;;){const V=fe(I,C).g;I=Y(I,V.j(C));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(O);if(I=V,x(I))return z+U;for(;z.length<6;)z="0"+z;U=z+U}},i.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(let C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function B(O){return O.h==-1}i.l=function(O){return O=Y(this,O),B(O)?-1:x(O)?0:1};function M(O){const C=O.g.length,I=[];for(let U=0;U<C;U++)I[U]=~O.g[U];return new h(I,~O.h).add(A)}i.abs=function(){return B(this)?M(this):this},i.add=function(O){const C=Math.max(this.g.length,O.g.length),I=[];let U=0;for(let V=0;V<=C;V++){let z=U+(this.i(V)&65535)+(O.i(V)&65535),D=(z>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);U=D>>>16,z&=65535,D&=65535,I[V]=D<<16|z}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Y(O,C){return O.add(M(C))}i.j=function(O){if(x(this)||x(O))return b;if(B(this))return B(O)?M(this).j(M(O)):M(M(this).j(O));if(B(O))return M(this.j(M(O)));if(this.l(R)<0&&O.l(R)<0)return g(this.m()*O.m());const C=this.g.length+O.g.length,I=[];for(var U=0;U<2*C;U++)I[U]=0;for(U=0;U<this.g.length;U++)for(let V=0;V<O.g.length;V++){const z=this.i(U)>>>16,D=this.i(U)&65535,lt=O.i(V)>>>16,Lt=O.i(V)&65535;I[2*U+2*V]+=D*Lt,X(I,2*U+2*V),I[2*U+2*V+1]+=z*Lt,X(I,2*U+2*V+1),I[2*U+2*V+1]+=D*lt,X(I,2*U+2*V+1),I[2*U+2*V+2]+=z*lt,X(I,2*U+2*V+2)}for(O=0;O<C;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=C;O<2*C;O++)I[O]=0;return new h(I,0)};function X(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function ie(O,C){this.g=O,this.h=C}function fe(O,C){if(x(C))throw Error("division by zero");if(x(O))return new ie(b,b);if(B(O))return C=fe(M(O),C),new ie(M(C.g),M(C.h));if(B(C))return C=fe(O,M(C)),new ie(M(C.g),C.h);if(O.g.length>30){if(B(O)||B(C))throw Error("slowDivide_ only works with positive integers.");for(var I=A,U=C;U.l(O)<=0;)I=Ee(I),U=Ee(U);var V=Te(I,1),z=Te(U,1);for(U=Te(U,2),I=Te(I,2);!x(U);){var D=z.add(U);D.l(O)<=0&&(V=V.add(I),z=D),U=Te(U,1),I=Te(I,1)}return C=Y(O,V.j(C)),new ie(V,C)}for(V=b;O.l(C)>=0;){for(I=Math.max(1,Math.floor(O.m()/C.m())),U=Math.ceil(Math.log(I)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),z=g(I),D=z.j(C);B(D)||D.l(O)>0;)I-=U,z=g(I),D=z.j(C);x(z)&&(z=A),V=V.add(z),O=Y(O,D)}return new ie(V,O)}i.B=function(O){return fe(this,O).h},i.and=function(O){const C=Math.max(this.g.length,O.g.length),I=[];for(let U=0;U<C;U++)I[U]=this.i(U)&O.i(U);return new h(I,this.h&O.h)},i.or=function(O){const C=Math.max(this.g.length,O.g.length),I=[];for(let U=0;U<C;U++)I[U]=this.i(U)|O.i(U);return new h(I,this.h|O.h)},i.xor=function(O){const C=Math.max(this.g.length,O.g.length),I=[];for(let U=0;U<C;U++)I[U]=this.i(U)^O.i(U);return new h(I,this.h^O.h)};function Ee(O){const C=O.g.length+1,I=[];for(let U=0;U<C;U++)I[U]=O.i(U)<<1|O.i(U-1)>>>31;return new h(I,O.h)}function Te(O,C){const I=C>>5;C%=32;const U=O.g.length-I,V=[];for(let z=0;z<U;z++)V[z]=C>0?O.i(z+I)>>>C|O.i(z+I+1)<<32-C:O.i(z+I);return new h(V,O.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Mb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Cs=h}).apply(typeof _T<"u"?_T:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vb,uu,kb,Uh,wp,Pb,Lb,Ub;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in E))break e;E=E[q]}c=c[c.length-1],w=E[c],y=y(w),y!=w&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function v(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,q,K){for(var re=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)re[Re-2]=arguments[Re];return y.prototype[q].apply(w,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function R(c){const y=c.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=c[w];return E}return[]}function x(c,y){for(let w=1;w<arguments.length;w++){const q=arguments[w];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const K=q.length||0;c.length=E+K;for(let re=0;re<K;re++)c[E+re]=q[re]}else c.push(q)}}class B{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function M(c){h.setTimeout(()=>{throw c},0)}function Y(){var c=O;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,E){const w=ie.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var ie=new B(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,Te=!1,O=new X,C=()=>{const c=Promise.resolve(void 0);Ee=()=>{c.then(I)}};function I(){for(var c;c=Y();){try{c.h.call(c.g)}catch(E){M(E)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Te=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function lt(c,y){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(lt,V),lt.prototype.init=function(c,y){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Lt="closure_listenable_"+(Math.random()*1e6|0),W=0;function ae(c,y,E,w,q){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=q,this.key=++W,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,E){for(const w in c)y.call(E,c[w],w,c)}function Ke(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function P(c){const y={};for(const E in c)y[E]=c[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let E,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(E in w)c[E]=w[E];for(let K=0;K<te.length;K++)E=te[K],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,E,w,q){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const re=Ie(c,y,w,q);return re>-1?(y=c[re],E||(y.fa=!1)):(y=new ae(y,this.src,K,!!w,q),y.fa=E,c.push(y)),y};function be(c,y){const E=y.type;if(E in c.g){var w=c.g[E],q=Array.prototype.indexOf.call(w,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(w,q,1),K&&(pe(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ie(c,y,E,w){for(let q=0;q<c.length;++q){const K=c[q];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==w)return q}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ut={};function ut(c,y,E,w,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)ut(c,y[K],E,w,q);return null}return E=tl(E),c&&c[Lt]?c.J(y,E,m(w)?!!w.capture:!1,q):zs(c,y,E,!1,w,q)}function zs(c,y,E,w,q,K){if(!y)throw Error("Invalid event type");const re=m(q)?!!q.capture:!!q;let Re=Bs(c);if(Re||(c[Ue]=Re=new ue(c)),E=Re.add(y,E,w,re,K),E.proxy)return E;if(w=La(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)z||(q=re),q===void 0&&(q=!1),c.addEventListener(y.toString(),w,q);else if(c.attachEvent)c.attachEvent(vi(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function La(){function c(E){return y.call(c.src,c.listener,E)}const y=Zo;return c}function Ua(c,y,E,w,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ua(c,y[K],E,w,q);else w=m(w)?!!w.capture:!!w,E=tl(E),c&&c[Lt]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=Ie(y,E,w,q),E>-1&&(pe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Bs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ie(y,E,w,q)),(E=c>-1?y[c]:null)&&ja(E))}function ja(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Lt])be(y.i,c);else{var E=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(E,w,c.capture):y.detachEvent?y.detachEvent(vi(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=Bs(y))?(be(E,c),E.h==0&&(E.src=null,y[Ue]=null)):pe(c)}}}function vi(c){return c in Ut?Ut[c]:Ut[c]="on"+c}function Zo(c,y){if(c.da)c=!0;else{y=new lt(y,this);const E=c.listener,w=c.ha||c.src;c.fa&&ja(c),c=E.call(w,y)}return c}function Bs(c){return c=c[Ue],c instanceof ue?c:null}var el="__closure_events_fn_"+(Math.random()*1e9>>>0);function tl(c){return typeof c=="function"?c:(c[el]||(c[el]=function(y){return c.handleEvent(y)}),c[el])}function St(){U.call(this),this.i=new ue(this),this.M=this,this.G=null}b(St,U),St.prototype[Lt]=!0,St.prototype.removeEventListener=function(c,y,E,w){Ua(this,c,y,E,w)};function jt(c,y){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new V(y,c);else if(y instanceof V)y.target=y.target||c;else{var q=y;y=new V(w,c),oe(y,q)}q=!0;let K,re;if(E)for(re=E.length-1;re>=0;re--)K=y.g=E[re],q=jr(K,w,!0,y)&&q;if(K=y.g=c,q=jr(K,w,!0,y)&&q,q=jr(K,w,!1,y)&&q,E)for(re=0;re<E.length;re++)K=y.g=E[re],q=jr(K,w,!1,y)&&q}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let w=0;w<E.length;w++)pe(E[w]);delete c.g[y],c.h--}}this.G=null},St.prototype.J=function(c,y,E,w){return this.i.add(String(c),y,!1,E,w)},St.prototype.K=function(c,y,E,w){return this.i.add(String(c),y,!0,E,w)};function jr(c,y,E,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const re=y[K];if(re&&!re.da&&re.capture==E){const Re=re.listener,Et=re.ha||re.src;re.fa&&be(c.i,re),q=Re.call(Et,w)!==!1&&q}}return q&&!w.defaultPrevented}function Ff(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Yu(c){c.g=Ff(()=>{c.g=null,c.i&&(c.i=!1,Yu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class cn extends U{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Yu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qs(c){U.call(this),this.h=c,this.g={}}b(qs,U);var nl=[];function il(c){ze(c.g,function(y,E){this.g.hasOwnProperty(E)&&ja(y)},c),c.g={}}qs.prototype.N=function(){qs.Z.N.call(this),il(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zr=h.JSON.stringify,Gf=h.JSON.parse,$u=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Xu(){}function Wu(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){V.call(this,"d")}b(Yt,V);function Un(){V.call(this,"c")}b(Un,V);var vt={},Ju=null;function za(){return Ju=Ju||new St}vt.Ia="serverreachability";function Zu(c){V.call(this,vt.Ia,c)}b(Zu,V);function Ei(c){const y=za();jt(y,new Zu(y))}vt.STAT_EVENT="statevent";function Hs(c,y){V.call(this,vt.STAT_EVENT,c),this.stat=y}b(Hs,V);function wt(c){const y=za();jt(y,new Hs(y,c))}vt.Ja="timingevent";function Ti(c,y){V.call(this,vt.Ja,c),this.size=y}b(Ti,V);function bi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function Kf(c,y,E,w,q,K){c.info(function(){if(c.g)if(K){var re="",Re=K.split("&");for(let He=0;He<Re.length;He++){var Et=Re[He].split("=");if(Et.length>1){const ct=Et[0];Et=Et[1];const qn=ct.split("_");re=qn.length>=2&&qn[1]=="type"?re+(ct+"="+Et+"&"):re+(ct+"=redacted&")}}}else re=null;else re=K;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+E+`
`+re})}function ec(c,y,E,w,q,K,re){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+E+`
`+K+" "+re})}function Ai(c,y,E,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Qf(c,E)+(w?" "+w:"")})}function Fs(c,y){c.info(function(){return"TIMEOUT: "+y})}ni.prototype.info=function(){};function Qf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let re=1;re<w.length;re++)w[re]=""}}}}return zr(K)}catch{return y}}var Gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sl;function Ks(){}b(Ks,Xu),Ks.prototype.g=function(){return new XMLHttpRequest},sl=new Ks;function rr(c){return encodeURIComponent(String(c))}function tc(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function ii(c,y,E,w){this.j=c,this.i=y,this.l=E,this.S=w||1,this.V=new qs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function Si(c,y,E){c.M=1,c.A=Qs(It(y)),c.u=E,c.R=!0,Ba(c,null)}function Ba(c,y){c.F=Date.now(),wi(c),c.B=It(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ga(E.i,"t",w),c.C=0,E=c.j.L,c.h=new ri,c.g=gc(c.j,E?y:null,!c.u),c.P>0&&(c.O=new cn(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,w=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(nl[0]=q.toString()),q=nl);for(let K=0;K<q.length;K++){const re=ut(E,q[K],w||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Ei(),Kf(c.i,c.v,c.B,c.l,c.S,c.u)}ii.prototype.ba=function(c){c=c.target;const y=this.O;y&&oi(c)==3?y.j():this.Y(c)},ii.prototype.Y=function(c){try{if(c==this.g)e:{const Re=oi(this.g),Et=this.g.ya(),He=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Re!=4||Et==7||(Et==8||He<=0?Ei(3):Ei(2)),Ri(this);var y=this.g.ca();this.X=y;var E=Yf(this);if(this.o=y==200,ec(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var K=w;break t}}K=null}if(c=K)Ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,c);else{this.o=!1,this.m=3,wt(12),Cn(this),jn(this);break e}}if(this.R){c=!0;let ct;for(;!this.K&&this.C<E.length;)if(ct=ic(this,E),ct==qt){Re==4&&(this.m=4,wt(14),c=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Rt){this.m=4,wt(15),Ai(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Ai(this.i,this.l,ct,null),Ci(this,ct);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||E.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)Ai(this.i,this.l,E,"[Invalid Chunked Response]"),Cn(this),jn(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),El(re),re.P=!0,wt(11))}}else Ai(this.i,this.l,E,null),Ci(this,E);Re==4&&Cn(this),this.o&&!this.K&&(Re==4?fc(this.j,this):(this.o=!1,wi(this)))}else ar(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Cn(this),jn(this)}}}catch{}finally{}};function Yf(c){if(!nc(c))return c.g.la();const y=$t(c.g);if(y==="")return"";let E="";const w=y.length,q=oi(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Cn(c),jn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<w;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(q&&K==w-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function nc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ic(c,y){var E=c.C,w=y.indexOf(`
`,E);return w==-1?qt:(E=Number(y.substring(E,w)),isNaN(E)?Rt:(w+=1,w+E>y.length?qt:(y=y.slice(w,w+E),c.C=w+E,y)))}ii.prototype.cancel=function(){this.K=!0,Cn(this)};function wi(c){c.T=Date.now()+c.H,qa(c,c.H)}function qa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=bi(g(c.aa,c),y)}function Ri(c){c.D&&(h.clearTimeout(c.D),c.D=null)}ii.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Fs(this.i,this.B),this.M!=2&&(Ei(),wt(17)),Cn(this),this.m=2,jn(this)):qa(this,this.T-c)};function jn(c){c.j.I==0||c.K||fc(c.j,c)}function Cn(c){Ri(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,il(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ci(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||xi(E.h,c))){if(!c.L&&xi(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Xa(E),Yr(E);else break e;ea(E),wt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=bi(g(E.Va,E),6e3));Ii(E.h)<=1&&E.ta&&(E.ta=void 0)}else ki(E,11)}else if((c.L||E.g==c)&&Xa(E),!D(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let He=q[y];const ct=He[0];if(!(ct<=E.K))if(E.K=ct,He=He[1],E.I==2)if(He[0]=="c"){E.M=He[1],E.ba=He[2];const qn=He[3];qn!=null&&(E.ka=qn,E.j.info("VER="+E.ka));const Pi=He[4];Pi!=null&&(E.za=Pi,E.j.info("SVER="+E.za));const li=He[5];li!=null&&typeof li=="number"&&li>0&&(w=1.5*li,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const ui=c.g;if(ui){const ta=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var K=w.h;K.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ll(K,K.h),K.h=null))}if(w.G){const Wa=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(w.wa=Wa,Qe(w.J,w.G,Wa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var re=c;if(w.na=pc(w,w.L?w.ba:null,w.W),re.L){ul(w.h,re);var Re=re,Et=w.O;Et&&(Re.H=Et),Re.D&&(Ri(Re),wi(Re)),w.g=re}else cc(w);E.i.length>0&&Vi(E)}else He[0]!="stop"&&He[0]!="close"||ki(E,7);else E.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?ki(E,7):_l(E):He[0]!="noop"&&E.l&&E.l.qa(He),E.A=0)}}Ei(4)}catch{}}var Ct=class{constructor(c,y){this.g=c,this.map=y}};function al(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ol(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ii(c){return c.h?1:c.g?c.g.size:0}function xi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ll(c,y){c.g?c.g.add(y):c.h=y}function ul(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}al.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return R(c.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let q,K=null;w>=0?(q=c[E].substring(0,w),K=c[E].substring(w+1)):q=c[E],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function In(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof In?(this.l=c.l,Ht(this,c.j),this.o=c.o,this.g=c.g,Br(this,c.u),this.h=c.h,hl(this,lc(c.i)),this.m=c.m):c&&(y=String(c).match(rc))?(this.l=!1,Ht(this,y[1]||"",!0),this.o=Di(y[2]||""),this.g=Di(y[3]||"",!0),Br(this,y[4]),this.h=Di(y[5]||"",!0),hl(this,y[6]||"",!0),this.m=Di(y[7]||"")):(this.l=!1,this.i=new Hr(null,this.l))}In.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ys(y,Fa,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ys(y,Fa,!0),"@"),c.push(rr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ys(E,E.charAt(0)=="/"?fl:sc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ys(E,ac)),c.join("")},In.prototype.resolve=function(c){const y=It(this);let E=!!c.j;E?Ht(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var w=c.h;if(E)Br(y,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=y.h.lastIndexOf("/");q!=-1&&(w=y.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let re=0;re<q.length;){const Re=q[re++];Re=="."?w&&re==q.length&&K.push(""):Re==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&re==q.length&&K.push("")):(K.push(Re),w=!0)}w=K.join("/")}else w=q}return E?y.h=w:E=c.i.toString()!=="",E?hl(y,lc(c.i)):E=!!c.m,E&&(y.m=c.m),y};function It(c){return new In(c)}function Ht(c,y,E){c.j=E?Di(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Br(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function hl(c,y,E){y instanceof Hr?(c.i=y,Ka(c.i,c.l)):(E||(y=Ys(y,qr)),c.i=new Hr(y,c.l))}function Qe(c,y,E){c.i.set(y,E)}function Qs(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Di(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ys(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,pn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fa=/[#\/\?@]/g,sc=/[#\?:]/g,fl=/[#\?]/g,qr=/[#\?@]/g,ac=/#/g;function Hr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function gn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ha(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Hr.prototype,i.add=function(c,y){gn(this),this.i=null,c=Fr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function oc(c,y){gn(c),y=Fr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function dl(c,y){return gn(c),y=Fr(c,y),c.g.has(y)}i.forEach=function(c,y){gn(this),this.g.forEach(function(E,w){E.forEach(function(q){c.call(y,q,w,this)},this)},this)};function ml(c,y){gn(c);let E=[];if(typeof y=="string")dl(c,y)&&(E=E.concat(c.g.get(Fr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}i.set=function(c,y){return gn(this),this.i=null,c=Fr(this,c),dl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=ml(this,c),c.length>0?String(c[0]):y):y};function Ga(c,y,E){oc(c,y),E.length>0&&(c.i=null,c.g.set(Fr(c,y),R(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const q=rr(E);E=ml(this,E);for(let K=0;K<E.length;K++){let re=q;E[K]!==""&&(re+="="+rr(E[K])),c.push(re)}}return this.i=c.join("&")};function lc(c){const y=new Hr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Fr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ka(c,y){y&&!c.j&&(gn(c),c.i=null,c.g.forEach(function(E,w){const q=w.toLowerCase();w!=q&&(oc(this,w),Ga(this,q,E))},c)),c.j=y}function si(c,y){const E=new ni;if(h.Image){const w=new Image;w.onload=v(zn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=v(zn,E,"TestLoadImage: error",!1,y,w),w.onabort=v(zn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=v(zn,E,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function pl(c,y){const E=new ni,w=new AbortController,q=setTimeout(()=>{w.abort(),zn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(q),K.ok?zn(E,"TestPingServer: ok",!0,y):zn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),zn(E,"TestPingServer: error",!1,y)})}function zn(c,y,E,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(E)}catch{}}function Gr(){this.g=new $u}function Ni(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ni,Xu),Ni.prototype.g=function(){return new $s(this.i,this.h)};function $s(c,y){St.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b($s,St),i=$s.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ai(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Kr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Kr(this):ai(this),this.readyState==3&&Qa(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Kr(this))},i.Na=function(c){this.g&&(this.response=c,Kr(this))},i.ga=function(){this.g&&Kr(this)};function Kr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ai(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bn(c){let y="";return ze(c,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Xs(c,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Bn(E),typeof c=="string"?E!=null&&rr(E):Qe(c,y,E))}function Xe(c){St.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,St);var Oi=/^https?$/i,gl=["POST","PUT"];i=Xe.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sl.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Ws(this,K);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)E.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())E.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(gl,y,void 0)>=0)||w||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,re]of E)this.g.setRequestHeader(K,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Ws(this,K)}};function Ws(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,yl(c),sr(c)}function yl(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,jt(this,"complete"),jt(this,"abort"),sr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),Xe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Js(this):this.Xa())},i.Xa=function(){Js(this)};function Js(c){if(c.h&&typeof u<"u"){if(c.v&&oi(c)==4)setTimeout(c.Ca.bind(c),0);else if(jt(c,"readystatechange"),oi(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=K===0){let re=String(c.D).match(rc)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),w=!Oi.test(re?re.toLowerCase():"")}E=w}if(E)jt(c,"complete"),jt(c,"success");else{c.o=6;try{var q=oi(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",yl(c)}}finally{sr(c)}}}}function sr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||jt(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function oi(c){return c.g?c.g.readyState:0}i.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Gf(y)}};function $t(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ar(c){const y={};c=(c.g&&oi(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(D(c[w]))continue;var E=tc(c[w]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[q]||[];y[q]=K,K.push(E)}Ke(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Qr(c){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,c),this.Za=Mi("retryDelaySeedMs",1e4,c),this.Ta=Mi("forwardChannelMaxRetries",2,c),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new al(c&&c.concurrentRequestLimit),this.Ba=new Gr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Qr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,E,w){wt(0),this.W=c,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=pc(this,null,this.W),Vi(this)};function _l(c){if(Ya(c),c.I==3){var y=c.V++,E=It(c.J);if(Qe(E,"SID",c.M),Qe(E,"RID",y),Qe(E,"TYPE","terminate"),Zs(c,E),y=new ii(c,c.j,y),y.M=2,y.A=Qs(It(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=gc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),wi(y)}mc(c)}function Yr(c){c.g&&(El(c),c.g.cancel(),c.g=null)}function Ya(c){Yr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Xa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Vi(c){if(!ol(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ee||C(),Te||(Ee(),Te=!0),O.add(y,c),c.D=0}}function $a(c,y){return Ii(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=bi(g(c.Ea,c,y),dc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new ii(this,this.j,c);let K=this.o;if(this.U&&(K?(K=P(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=uc(this,q,y),E=It(this.J),Qe(E,"RID",c),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),Zs(this,E),K&&(this.R?y="headers="+rr(Bn(K))+"&"+y:this.u&&Xs(E,this.u,K)),ll(this.h,q),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",y),Qe(E,"SID","null"),q.U=!0,Si(q,E,null)):Si(q,E,y),this.I=2}}else this.I==3&&(c?vl(this,c):this.i.length==0||ol(this.h)||vl(this))};function vl(c,y){var E;y?E=y.l:E=c.V++;const w=It(c.J);Qe(w,"SID",c.M),Qe(w,"RID",E),Qe(w,"AID",c.K),Zs(c,w),c.u&&c.o&&Xs(w,c.u,c.o),E=new ii(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=uc(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ll(c.h,E),Si(E,w,y)}function Zs(c,y){c.H&&ze(c.H,function(E,w){Qe(y,w,E)}),c.l&&ze({},function(E,w){Qe(y,w,E)})}function uc(c,y,E){E=Math.min(c.i.length,E);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var q=c.i;let Re=-1;for(;;){const Et=["count="+E];Re==-1?E>0?(Re=q[0].g,Et.push("ofs="+Re)):Re=0:Et.push("ofs="+Re);let He=!0;for(let ct=0;ct<E;ct++){var K=q[ct].g;const qn=q[ct].map;if(K-=Re,K<0)Re=Math.max(0,q[ct].g-100),He=!1;else try{K="req"+K+"_"||"";try{var re=qn instanceof Map?qn:Object.entries(qn);for(const[Pi,li]of re){let ui=li;m(li)&&(ui=zr(li)),Et.push(K+Pi+"="+encodeURIComponent(ui))}}catch(Pi){throw Et.push(K+"type="+encodeURIComponent("_badmap")),Pi}}catch{w&&w(qn)}}if(He){re=Et.join("&");break e}}re=void 0}return c=c.i.splice(0,E),y.G=c,re}function cc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ee||C(),Te||(Ee(),Te=!0),O.add(y,c),c.A=0}}function ea(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=bi(g(c.Da,c),dc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=bi(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Yr(this),hc(this))};function El(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function hc(c){c.g=new ii(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=It(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),Zs(c,y),c.u&&c.o&&Xs(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Qs(It(y)),E.u=null,E.R=!0,Ba(E,c)}i.Va=function(){this.C!=null&&(this.C=null,Yr(this),ea(this),wt(19))};function Xa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function fc(c,y){var E=null;if(c.g==y){Xa(c),El(c),c.g=null;var w=2}else if(xi(c.h,y))E=y.G,ul(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;w=za(),jt(w,new Ti(w,E)),Vi(c)}else cc(c);else if(q=y.m,q==3||q==0&&y.X>0||!(w==1&&$a(c,y)||w==2&&ea(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),q){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function dc(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function ki(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),w=c.Ua;const q=!w;w=new In(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ht(w,"https"),Qs(w),q?si(w.toString(),E):pl(w.toString(),E)}else wt(2);c.I=0,c.l&&c.l.pa(y),mc(c),Ya(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function mc(c){if(c.I=0,c.ja=[],c.l){const y=cl(c.h);(y.length!=0||c.i.length!=0)&&(x(c.ja,y),x(c.ja,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.oa()}}function pc(c,y,E){var w=E instanceof In?It(E):new In(E);if(w.g!="")y&&(w.g=y+"."+w.g),Br(w,w.u);else{var q=h.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new In(null);w&&Ht(K,w),y&&(K.g=y),q&&Br(K,q),E&&(K.h=E),w=K}return E=c.G,y=c.wa,E&&y&&Qe(w,E,y),Qe(w,"VER",c.ka),Zs(c,w),w}function gc(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new Ni({ab:E})):new Xe(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}i=yc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function $r(){}$r.prototype.g=function(c,y){return new hn(c,y)};function hn(c,y){St.call(this),this.g=new Qr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!D(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new or(this)}b(hn,St),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){_l(this.g)},hn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=zr(c),c=E);y.i.push(new Ct(y.Ya++,c)),y.I==3&&Vi(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,hn.Z.N.call(this)};function _c(c){Yt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(_c,Yt);function vc(){Un.call(this),this.status=1}b(vc,Un);function or(c){this.g=c}b(or,yc),or.prototype.ra=function(){jt(this.g,"a")},or.prototype.qa=function(c){jt(this.g,new _c(c))},or.prototype.pa=function(c){jt(this.g,new vc)},or.prototype.oa=function(){jt(this.g,"b")},$r.prototype.createWebChannel=$r.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Ub=function(){return new $r},Lb=function(){return za()},Pb=vt,wp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,Uh=Gs,rl.COMPLETE="complete",kb=rl,Wu.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",St.prototype.listen=St.prototype.J,uu=Wu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,Vb=Xe}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const vT="@firebase/firestore",ET="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new eg("@firebase/firestore");function Io(){return xa.logLevel}function le(i,...e){if(xa.logLevel<=Ve.DEBUG){const n=e.map(dg);xa.debug(`Firestore (${$o}): ${i}`,...n)}}function Mr(i,...e){if(xa.logLevel<=Ve.ERROR){const n=e.map(dg);xa.error(`Firestore (${$o}): ${i}`,...n)}}function Lo(i,...e){if(xa.logLevel<=Ve.WARN){const n=e.map(dg);xa.warn(`Firestore (${$o}): ${i}`,...n)}}function dg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,jb(i,s,n)}function jb(i,e,n){let s=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Mr(s),new Error(s)}function Ge(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||jb(e,o,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class L2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class U2{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new zb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class j2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new j2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=q2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function Rp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return rp(o)===rp(u)?ke(o,u):rp(o)?1:-1}return ke(i.length,e.length)}const H2=55296,F2=57343;function rp(i){const e=i.charCodeAt(0);return e>=H2&&e<=F2}function Uo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__name__";class qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=qi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=qi.isNumericId(e),o=qi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?qi.extractNumericId(e).compare(qi.extractNumericId(n)):Rp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class tt extends qi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const G2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends qi{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return G2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bT}static keyField(){return new nn([bT])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new se(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new se(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new se(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new se(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(tt.fromString(e))}static fromName(e){return new de(tt.fromString(e).popFirst(5))}static empty(){return new de(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(i,e,n){if(!n)throw new se(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function K2(i,e,n,s){if(e===!0&&s===!0)throw new se(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function AT(i){if(!de.isDocumentKey(i))throw new se(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ST(i){if(de.isDocumentKey(i))throw new se(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function qb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ef(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve(12329,{type:typeof i})}function mn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new se(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ef(i);throw new se(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(i,e){const n={typeString:i};return e&&(n.value=e),n}function zu(i,e){if(!qb(i))throw new se(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new se(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=-62135596800,RT=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*RT);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wT)throw new se(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RT}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Pt("string",st._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new st(0,0))}static max(){return new Se(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=-1;function Q2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new Ds(o,de.empty(),e)}function Y2(i){return new Ds(i.readTime,i.key,Au)}class Ds{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ds(Se.min(),de.empty(),Au)}static max(){return new Ds(Se.max(),de.empty(),Au)}}function $2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==X2)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((v=>{h[g]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function J2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=-1;function bf(i){return i==null}function ef(i){return i===0&&1/i==-1/0}function Z2(i){return typeof i=="number"&&Number.isInteger(i)&&!ef(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="";function eD(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=CT(e)),e=tD(i.get(n),e);return CT(e)}function tD(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Hb:n+="";break;default:n+=u}}return n}function CT(i){return i+Hb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Us(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function nD(i,e){const n=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&n.push(e(i[s],s,i));return n}function Fb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new tn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xT(this.data.getIterator())}getIteratorFrom(e){return new xT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class xT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Bt(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Gb("Invalid base64 string: "+u):u}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const iD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=iD.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(i.seconds),nanos:At(i.nanos)}}function At(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Os(i){return typeof i=="string"?rn.fromBase64String(i):rn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="server_timestamp",Qb="__type__",Yb="__previous_value__",$b="__local_write_time__";function Af(i){return(i?.mapValue?.fields||{})[Qb]?.stringValue===Kb}function Sf(i){const e=i.mapValue.fields[Yb];return Af(e)?Sf(e):e}function Su(i){const e=Ns(i.mapValue.fields[$b].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,s,o,u,h,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const tf="(default)";class wu{constructor(e,n){this.projectId=e,this.database=n||tf}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===tf}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="__type__",sD="__max__",Ch={mapValue:{}},Wb="__vector__",nf="value";function Ms(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Af(i)?4:oD(i)?9007199254740991:aD(i)?10:11:ve(28295,{value:i})}function Zi(i,e){if(i===e)return!0;const n=Ms(i);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Su(i).isEqual(Su(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ns(o.timestampValue),m=Ns(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Os(o.bytesValue).isEqual(Os(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return At(o.geoPointValue.latitude)===At(u.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return At(o.integerValue)===At(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=At(o.doubleValue),m=At(u.doubleValue);return h===m?ef(h)===ef(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Uo(i.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(IT(h)!==IT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Zi(h[p],m[p])))return!1;return!0})(i,e);default:return ve(52216,{left:i})}}function Ru(i,e){return(i.values||[]).find((n=>Zi(n,e)))!==void 0}function jo(i,e){if(i===e)return 0;const n=Ms(i),s=Ms(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=At(u.integerValue||u.doubleValue),p=At(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return DT(i.timestampValue,e.timestampValue);case 4:return DT(Su(i),Su(e));case 5:return Rp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=Os(u),p=Os(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=ke(m[g],p[g]);if(v!==0)return v}return ke(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(At(u.latitude),At(h.latitude));return m!==0?m:ke(At(u.longitude),At(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return NT(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[nf]?.arrayValue,v=p[nf]?.arrayValue,b=ke(g?.values?.length||0,v?.values?.length||0);return b!==0?b:NT(g,v)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Ch.mapValue&&h===Ch.mapValue)return 0;if(u===Ch.mapValue)return 1;if(h===Ch.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const A=Rp(p[b],v[b]);if(A!==0)return A;const R=jo(m[p[b]],g[v[b]]);if(R!==0)return R}return ke(p.length,v.length)})(i.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function DT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=Ns(i),s=Ns(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function NT(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=jo(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function zo(i){return Cp(i)}function Cp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Ns(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Os(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return de.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Cp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Cp(n.fields[h])}`;return o+"}"})(i.mapValue):ve(61005,{value:i})}function jh(i){switch(Ms(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sf(i);return e?16+jh(e):16;case 5:return 2*i.stringValue.length;case 6:return Os(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+jh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Us(s.fields,((u,h)=>{o+=u.length+jh(h)})),o})(i.mapValue);default:throw ve(13486,{value:i})}}function rf(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ip(i){return!!i&&"integerValue"in i}function gg(i){return!!i&&"arrayValue"in i}function OT(i){return!!i&&"nullValue"in i}function MT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zh(i){return!!i&&"mapValue"in i}function aD(i){return(i?.mapValue?.fields||{})[Xb]?.stringValue===Wb}function pu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Us(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=pu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(i.arrayValue.values[n]);return e}return{...i}}function oD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===sD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=nn.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=pu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Us(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new wn(pu(this.value))}}function Jb(i){const e=[];return Us(i.fields,((n,s)=>{const o=new nn([n]);if(zh(s)){const u=Jb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new ln(e,0,Se.min(),Se.min(),Se.min(),wn.empty(),0)}static newFoundDocument(e,n,s,o){return new ln(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new ln(e,2,n,Se.min(),Se.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Se.min(),Se.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.position=e,this.inclusive=n}}function VT(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(h.referenceValue),n.key):s=jo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function kT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Zi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function lD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{}class kt extends Zb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new cD(e,n,s):n==="array-contains"?new dD(e,s):n==="in"?new mD(e,s):n==="not-in"?new pD(e,s):n==="array-contains-any"?new gD(e,s):new kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new hD(e,s):new fD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jo(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends Zb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yi(e,n)}matches(e){return eA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eA(i){return i.op==="and"}function tA(i){return uD(i)&&eA(i)}function uD(i){for(const e of i.filters)if(e instanceof yi)return!1;return!0}function xp(i){if(i instanceof kt)return i.field.canonicalString()+i.op.toString()+zo(i.value);if(tA(i))return i.filters.map((e=>xp(e))).join(",");{const e=i.filters.map((n=>xp(n))).join(",");return`${i.op}(${e})`}}function nA(i,e){return i instanceof kt?(function(s,o){return o instanceof kt&&s.op===o.op&&s.field.isEqual(o.field)&&Zi(s.value,o.value)})(i,e):i instanceof yi?(function(s,o){return o instanceof yi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&nA(h,o.filters[m])),!0):!1})(i,e):void ve(19439)}function iA(i){return i instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${zo(n.value)}`})(i):i instanceof yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(iA).join(" ,")+"}"})(i):"Filter"}class cD extends kt{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class hD extends kt{constructor(e,n){super(e,"in",n),this.keys=rA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fD extends kt{constructor(e,n){super(e,"not-in",n),this.keys=rA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rA(i,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class dD extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gg(n)&&Ru(n.arrayValue,this.value)}}class mD extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}}class pD extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ru(this.value.arrayValue,n)}}class gD extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ru(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function PT(i,e=null,n=[],s=[],o=null,u=null,h=null){return new yD(i,e,n,s,o,u,h)}function yg(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>xp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>zo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>zo(s))).join(",")),e.Te=n}return e.Te}function _g(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!lD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!nA(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!kT(i.startAt,e.startAt)&&kT(i.endAt,e.endAt)}function Dp(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _D(i,e,n,s,o,u,h,m){return new Ma(i,e,n,s,o,u,h,m)}function wf(i){return new Ma(i)}function LT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vg(i){return i.collectionGroup!==null}function ko(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Bt(nn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Cu(u,s))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new Cu(nn.keyField(),s))}return e.Ie}function Yi(i){const e=Ae(i);return e.Ee||(e.Ee=sA(e,ko(i))),e.Ee}function vD(i){const e=Ae(i);return e.de||(e.de=sA(e,i.explicitOrderBy)),e.de}function sA(i,e){if(i.limitType==="F")return PT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Cu(o.field,u)}));const n=i.endAt?new Bo(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Bo(i.startAt.position,i.startAt.inclusive):null;return PT(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Np(i,e){const n=i.filters.concat([e]);return new Ma(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function sf(i,e,n){return new Ma(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Rf(i,e){return _g(Yi(i),Yi(e))&&i.limitType===e.limitType}function aA(i){return`${yg(Yi(i))}|lt:${i.limitType}`}function xo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>iA(o))).join(", ")}]`),bf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>zo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>zo(o))).join(",")),`Target(${s})`})(Yi(i))}; limitType=${i.limitType})`}function Cf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of ko(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=VT(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,ko(s),o)||s.endAt&&!(function(h,m,p){const g=VT(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,ko(s),o))})(i,e)}function ED(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function oA(i){return(e,n)=>{let s=!1;for(const o of ko(i)){const u=TD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function TD(i,e,n){const s=i.field.isKeyField()?de.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?jo(p,g):ve(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Fb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new dt(de.comparator);function Vr(){return bD}const lA=new dt(de.comparator);function cu(...i){let e=lA;for(const n of i)e=e.insert(n.key,n);return e}function uA(i){let e=lA;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ea(){return gu()}function cA(){return gu()}function gu(){return new Va((i=>i.toString()),((i,e)=>i.isEqual(e)))}const AD=new dt(de.comparator),SD=new Bt(de.comparator);function Pe(...i){let e=SD;for(const n of i)e=e.add(n);return e}const wD=new Bt(ke);function RD(){return wD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function hA(i){return{integerValue:""+i}}function CD(i,e){return Z2(e)?hA(e):Eg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this._=void 0}}function ID(i,e,n){return i instanceof Iu?(function(o,u){const h={fields:{[Qb]:{stringValue:Kb},[$b]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Af(u)&&(u=Sf(u)),u&&(h.fields[Yb]=u),{mapValue:h}})(n,e):i instanceof xu?dA(i,e):i instanceof Du?mA(i,e):(function(o,u){const h=fA(o,u),m=UT(h)+UT(o.Ae);return Ip(h)&&Ip(o.Ae)?hA(m):Eg(o.serializer,m)})(i,e)}function xD(i,e,n){return i instanceof xu?dA(i,e):i instanceof Du?mA(i,e):n}function fA(i,e){return i instanceof af?(function(s){return Ip(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Iu extends If{}class xu extends If{constructor(e){super(),this.elements=e}}function dA(i,e){const n=pA(e);for(const s of i.elements)n.some((o=>Zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Du extends If{constructor(e){super(),this.elements=e}}function mA(i,e){let n=pA(e);for(const s of i.elements)n=n.filter((o=>!Zi(o,s)));return{arrayValue:{values:n}}}class af extends If{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UT(i){return At(i.integerValue||i.doubleValue)}function pA(i){return gg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.field=e,this.transform=n}}function ND(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof xu&&o instanceof xu||s instanceof Du&&o instanceof Du?Uo(s.elements,o.elements,Zi):s instanceof af&&o instanceof af?Zi(s.Ae,o.Ae):s instanceof Iu&&o instanceof Iu})(i.transform,e.transform)}class OD{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class xf{}function gA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Tg(i.key,Jn.none()):new Bu(i.key,i.data,Jn.none());{const n=i.data,s=wn.empty();let o=new Bt(nn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new js(i.key,s,new Pn(o.toArray()),Jn.none())}}function MD(i,e,n){i instanceof Bu?(function(o,u,h){const m=o.value.clone(),p=zT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof js?(function(o,u,h){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=zT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(yA(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function yu(i,e,n,s){return i instanceof Bu?(function(u,h,m,p){if(!Bh(u.precondition,h))return m;const g=u.value.clone(),v=BT(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof js?(function(u,h,m,p){if(!Bh(u.precondition,h))return m;const g=BT(u.fieldTransforms,p,h),v=h.data;return v.setAll(yA(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,h,m){return Bh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function VD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=fA(s.transform,o||null);u!=null&&(n===null&&(n=wn.empty()),n.set(s.field,u))}return n||null}function jT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Uo(s,o,((u,h)=>ND(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Bu extends xf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class js extends xf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yA(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function zT(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,xD(h,m,n[o]))}return s}function BT(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,ID(u,h,e))}return s}class Tg extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kD extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&MD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=yu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=yu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=cA();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=gA(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,((n,s)=>jT(n,s)))&&Uo(this.baseMutations,e.baseMutations,((n,s)=>jT(n,s)))}}class bg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return AD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new bg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,s){this.alias=e,this.aggregateType=n,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,je;function zD(i){switch(i){case J.OK:return ve(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve(15467,{code:i})}}function _A(i){if(i===void 0)return Mr("GRPC error has no .code"),J.UNKNOWN;switch(i){case Vt.OK:return J.OK;case Vt.CANCELLED:return J.CANCELLED;case Vt.UNKNOWN:return J.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return J.INTERNAL;case Vt.UNAVAILABLE:return J.UNAVAILABLE;case Vt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Vt.NOT_FOUND:return J.NOT_FOUND;case Vt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Vt.ABORTED:return J.ABORTED;case Vt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Vt.DATA_LOSS:return J.DATA_LOSS;default:return ve(39323,{code:i})}}(je=Vt||(Vt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new Cs([4294967295,4294967295],0);function qT(i){const e=BD().encode(i),n=new Mb;return n.update(e),new Uint8Array(n.digest())}function HT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Cs([n,s],0),new Cs([o,u],0)]}class Ag{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(s<0)throw new hu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Cs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Cs.fromNumber(s)));return o.compare(qD)===1&&(o=new Cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qT(e),[s,o]=HT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Ag(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=qT(e),[s,o]=HT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Df(Se.min(),o,new dt(ke),Vr(),Pe())}}class qu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new qu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class vA{constructor(e,n){this.targetId=e,this.Ce=n}}class EA{constructor(e,n,s=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class FT{constructor(){this.ve=0,this.Fe=GT(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new qu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=GT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vr(),this.Je=Ih(),this.He=Ih(),this.Ye=new dt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Dp(u))if(s===0){const h=new de(u.path);this.et(n,h,ln.newNoDocument(h,Se.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Os(s).toUint8Array()}catch(p){if(p instanceof Gb)return Lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ag(h,o,u)}catch(p){return Lo(p instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Dp(m.target)){const p=new de(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,ln.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Df(e,n,this.Ye,this.je,s);return this.je=Vr(),this.Je=Ih(),this.He=Ih(),this.Ye=new dt(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new FT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ih(){return new dt(de.comparator)}function GT(){return new dt(de.comparator)}const FD={asc:"ASCENDING",desc:"DESCENDING"},GD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KD={and:"AND",or:"OR"};class QD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Op(i,e){return i.useProto3Json||bf(e)?e:{value:e}}function of(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function YD(i,e){return of(i,e.toTimestamp())}function $i(i){return Ge(!!i,49232),Se.fromTimestamp((function(n){const s=Ns(n);return new st(s.seconds,s.nanos)})(i))}function Sg(i,e){return Mp(i,e).canonicalString()}function Mp(i,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function bA(i){const e=tt.fromString(i);return Ge(IA(e),10190,{key:e.toString()}),e}function Vp(i,e){return Sg(i.databaseId,e.path)}function sp(i,e){const n=bA(e);if(n.get(1)!==i.databaseId.projectId)throw new se(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new se(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new de(SA(n))}function AA(i,e){return Sg(i.databaseId,e)}function $D(i){const e=bA(i);return e.length===4?tt.emptyPath():SA(e)}function kp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function SA(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function KT(i,e,n){return{name:Vp(i,e),fields:n.value.mapValue.fields}}function XD(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Ge(v===void 0||typeof v=="string",58123),rn.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rn.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const v=g.code===void 0?J.UNKNOWN:_A(g.code);return new se(v,g.message||"")})(h);n=new EA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=sp(i,s.document.name),u=$i(s.document.updateTime),h=s.document.createTime?$i(s.document.createTime):Se.min(),m=new wn({mapValue:{fields:s.document.fields}}),p=ln.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new qh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=sp(i,s.document),u=s.readTime?$i(s.readTime):Se.min(),h=ln.newNoDocument(o,u),m=s.removedTargetIds||[];n=new qh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=sp(i,s.document),u=s.removedTargetIds||[];n=new qh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new jD(o,u),m=s.targetId;n=new vA(m,h)}}return n}function WD(i,e){let n;if(e instanceof Bu)n={update:KT(i,e.key,e.value)};else if(e instanceof Tg)n={delete:Vp(i,e.key)};else if(e instanceof js)n={update:KT(i,e.key,e.data),updateMask:aN(e.fieldMask)};else{if(!(e instanceof kD))return ve(16599,{Vt:e.type});n={verify:Vp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Iu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Du)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof af)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:YD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(i,e.precondition)),n}function JD(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?$i(o.updateTime):$i(u);return h.isEqual(Se.min())&&(h=$i(u)),new OD(h,o.transformResults||[])})(n,e)))):[]}function ZD(i,e){return{documents:[AA(i,e.path)]}}function wA(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=AA(i,o);const u=(function(g){if(g.length!==0)return CA(yi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:bs(A.field),direction:iN(A.dir)}})(v)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Op(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function eN(i,e,n,s){const{ft:o,parent:u}=wA(i,e),h={},m=[];let p=0;return n.forEach((g=>{const v="aggregate_"+p++;h[v]=g.alias,g.aggregateType==="count"?m.push({alias:v,count:{}}):g.aggregateType==="avg"?m.push({alias:v,avg:{field:bs(g.fieldPath)}}):g.aggregateType==="sum"&&m.push({alias:v,sum:{field:bs(g.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:m,structuredQuery:o.structuredQuery},parent:o.parent},gt:h,parent:u}}function tN(i){let e=$D(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(b){const A=RA(b);return A instanceof yi&&tA(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((A=>(function(x){return new Cu(Do(x.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,bf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(b){const A=!!b.before,R=b.values||[];return new Bo(R,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const A=!b.before,R=b.values||[];return new Bo(R,A)})(n.endAt)),_D(e,o,h,u,m,"F",p,g)}function nN(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RA(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Do(n.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Do(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Do(n.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Do(n.unaryFilter.field);return kt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(i):i.fieldFilter!==void 0?(function(n){return kt.create(Do(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return yi.create(n.compositeFilter.filters.map((s=>RA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(i):ve(30097,{filter:i})}function iN(i){return FD[i]}function rN(i){return GD[i]}function sN(i){return KD[i]}function bs(i){return{fieldPath:i.canonicalString()}}function Do(i){return nn.fromServerFormat(i.fieldPath)}function CA(i){return i instanceof kt?(function(n){if(n.op==="=="){if(MT(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NAN"}};if(OT(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MT(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NAN"}};if(OT(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bs(n.field),op:rN(n.op),value:n.value}}})(i):i instanceof yi?(function(n){const s=n.getFilters().map((o=>CA(o)));return s.length===1?s[0]:{compositeFilter:{op:sN(n.op),filters:s}}})(i):ve(54877,{filter:i})}function aN(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function IA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,s,o,u=Se.min(),h=Se.min(),m=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.yt=e}}function lN(i){const e=tN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?sf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.Cn=new cN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ds.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class cN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Bt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xA=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(xA,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qo(0)}static cr(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="LruGarbageCollector",hN=1048576;function $T([i,e],[n,s]){const o=ke(i,n);return o===0?ke(e,s):o}class fN{constructor(e){this.Ir=e,this.buffer=new Bt($T),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();$T(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(YT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?le(YT,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.Vr(3e5)}))}}class mN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Tf.ce);const s=new fN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(QT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),Io()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function pN(i,e){return new mN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.changes=new Va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&yu(s.mutation,o,Pn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Ea();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=cu();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Ea();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Vr();const h=gu(),m=(function(){return gu()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof js)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),yu(v.mutation,g,v.mutation.getFieldMask(),st.now())):h.set(g.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>h.set(g,v))),n.forEach(((g,v)=>m.set(g,new yN(v,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=gu();let o=new dt(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Pn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=cA();v.forEach((A=>{if(!u.has(A)){const R=gA(n.get(A),s.get(A));R!==null&&b.set(A,R),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return de.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Ea());let m=Au,p=u;return h.next((g=>ne.forEach(g,((v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((v=>({batchId:m,changes:uA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let o=cu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=cu();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(b,A){return new Ma(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((b,A)=>{h=h.insert(b,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,ln.newInvalidDocument(v)))}));let m=cu();return h.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&yu(v.mutation,g,Pn.empty(),st.now()),Cf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:$i(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:lN(o.bundledQuery),readTime:$i(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.overlays=new dt(de.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ea();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Ea(),u=n.length+1,h=new de(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Ea(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Ea(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new LD(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.Qr=new Bt(Qt.$r),this.Ur=new Bt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new de(new tt([])),s=new Qt(n,e),o=new Qt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new tt([])),s=new Qt(n,e),o=new Qt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new PD(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?pg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Qt(n,0),o=new Qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bt(ke);return n.forEach((o=>{const u=new Qt(o,0),h=new Qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const h=new Qt(new de(u),0);let m=new Bt(ke);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Qt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.ri=e,this.docs=(function(){return new dt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=Vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ln.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Vr();const h=n.path,m=new de(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||$2(Y2(v),s)<=0||(o.has(v.key)||Cf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new SN(this)}getSize(e){return ne.resolve(this.size)}}class SN extends gN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.persistence=e,this.si=new Va((n=>yg(n)),_g),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new wg,this.targetCount=0,this.ai=qo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Tf(0),this.li=!1,this.li=!0,this.hi=new TN,this.referenceDelegate=e(this),this.Pi=new wN(this),this.indexManager=new uN,this.remoteDocumentCache=(function(o){return new AN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new oN(n),this.Ii=new vN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new bN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new RN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class RN extends W2{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Ri=new wg,this.Vi=null}static mi(e){return new Rg(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=de.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lf{constructor(e,n){this.persistence=e,this.pi=new Va((s=>eD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=pN(this,n)}static mi(e,n){return new lf(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JR()?8:J2(un())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new CN;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Io()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Io()<=Ve.DEBUG&&le("QueryEngine","Query:",xo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Io()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):ne.resolve())}ys(e,n){if(LT(n))return ne.resolve(null);let s=Yi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=sf(n,null,"F"),s=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,sf(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return LT(n)||o.isEqual(Se.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(Io()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(n)),this.vs(e,h,n,Q2(o,Au)).next((m=>m)))}))}Ds(e,n){let s=new Bt(oA(e));return n.forEach(((o,u)=>{Cf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Io()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",xo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ds.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",xN=3e8;class DN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(ke),this.xs=new Va((u=>yg(u)),_g),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _N(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function NN(i,e,n,s){return new DN(i,e,n,s)}async function NA(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function ON(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const b=g.batch,A=b.keys();let R=ne.resolve();return A.forEach((x=>{R=R.next((()=>v.getEntry(p,x))).next((B=>{const M=g.docVersions.get(x);Ge(M!==null,48541),B.version.compareTo(M)<0&&(b.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),v.addEntry(B)))}))})),R.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function OA(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function MN(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((v,b)=>{const A=o.get(b);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,b))));let R=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(rn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),o=o.insert(b,R),(function(B,M,Y){return B.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=xN?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(A,R,v)&&m.push(n.Pi.updateTargetData(u,R))}));let p=Vr(),g=Pe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(VN(u,h,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Se.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function VN(i,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Vr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(Ig,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function kN(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=pg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function PN(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new Ss(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Pp(i,e,n){const s=Ae(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Wo(h))throw h;le(Ig,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function XT(i,e,n){const s=Ae(i);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,v){const b=Ae(p),A=b.xs.get(v);return A!==void 0?ne.resolve(b.Ms.get(A)):b.Pi.getTargetData(g,v)})(s,h,Yi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:Pe()))).next((m=>(LN(s,ED(e),m),{documents:m,Qs:u})))))}function LN(i,e,n){let s=i.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class WT{constructor(){this.activeTargetIds=RD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UN{constructor(){this.Mo=new WT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new WT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="ConnectivityMonitor";class ZT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(JT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(JT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh=null;function Lp(){return xh===null?xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():xh++,"0x"+xh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="RestConnection",zN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===tf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Lp(),m=this.zo(e,n.toUriEncodedString());le(ap,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=Ls(g);return this.Jo(e,m,p,s,v).then((b=>(le(ap,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw Lo(ap,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=zN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class HN extends BN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Lp();return new Promise(((m,p)=>{const g=new Vb;g.setWithCredentials(!0),g.listenOnce(kb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const b=g.getResponseJson();le(an,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case Uh.TIMEOUT:le(an,`RPC '${e}' ${h} timed out`),p(new se(J.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const A=g.getStatus();if(le(an,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const x=R?.error;if(x&&x.status&&x.message){const B=(function(Y){const X=Y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(X)>=0?X:J.UNKNOWN})(x.status);p(new se(B,x.message))}else p(new se(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new se(J.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(an,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);le(an,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=Lp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ub(),m=Lb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");le(an,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=h.createWebChannel(v,p);this.I_(b);let A=!1,R=!1;const x=new qN({Yo:M=>{R?le(an,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(A||(le(an,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),le(an,`RPC '${e}' stream ${o} sending:`,M),b.send(M))},Zo:()=>b.close()}),B=(M,Y,X)=>{M.listen(Y,(ie=>{try{X(ie)}catch(fe){setTimeout((()=>{throw fe}),0)}}))};return B(b,uu.EventType.OPEN,(()=>{R||(le(an,`RPC '${e}' stream ${o} transport opened.`),x.o_())})),B(b,uu.EventType.CLOSE,(()=>{R||(R=!0,le(an,`RPC '${e}' stream ${o} transport closed`),x.a_(),this.E_(b))})),B(b,uu.EventType.ERROR,(M=>{R||(R=!0,Lo(an,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),x.a_(new se(J.UNAVAILABLE,"The operation could not be completed")))})),B(b,uu.EventType.MESSAGE,(M=>{if(!R){const Y=M.data[0];Ge(!!Y,16349);const X=Y,ie=X?.error||X[0]?.error;if(ie){le(an,`RPC '${e}' stream ${o} received error:`,ie);const fe=ie.status;let Ee=(function(C){const I=Vt[C];if(I!==void 0)return _A(I)})(fe),Te=ie.message;Ee===void 0&&(Ee=J.INTERNAL,Te="Unknown error status: "+fe+" with message "+ie.message),R=!0,x.a_(new se(Ee,Te)),b.close()}else le(an,`RPC '${e}' stream ${o} received:`,Y),x.u_(Y)}})),B(m,Pb.STAT_EVENT,(M=>{M.stat===wp.PROXY?le(an,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===wp.NOPROXY&&le(an,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(i){return new QD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="PersistentStream";class VA{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new se(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(e0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(e0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FN extends VA{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=XD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?$i(h.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=kp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Dp(p)?{documents:ZD(u,p)}:{query:wA(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=TA(u,h.resumeToken);const g=Op(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=of(u,h.snapshotVersion.toTimestamp());const g=Op(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=nN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=kp(this.serializer),n.removeTarget=e,this.q_(n)}}class GN extends VA{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JD(e.writeResults,e.commitTime),s=$i(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=kp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>WD(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{}class QN extends KN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Mp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Mp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new se(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class YN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class $N{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ka(this)&&(le(Da,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Hu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Of(g)})(this))}))})),this.Ra=new YN(s,o)}}async function Of(i){if(ka(i))for(const e of i.da)await e(!0)}async function Hu(i){for(const e of i.da)await e(!1)}function kA(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Og(n)?Ng(n):Jo(n).O_()&&Dg(n,e))}function xg(i,e){const n=Ae(i),s=Jo(n);n.Ia.delete(e),s.O_()&&PA(n,e),n.Ia.size===0&&(s.O_()?s.L_():ka(n)&&n.Ra.set("Unknown"))}function Dg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(i).Y_(e)}function PA(i,e){i.Va.Ue(e),Jo(i).Z_(e)}function Ng(i){i.Va=new HD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Jo(i).start(),i.Ra.ua()}function Og(i){return ka(i)&&!Jo(i).x_()&&i.Ia.size>0}function ka(i){return Ae(i).Ea.size===0}function LA(i){i.Va=void 0}async function XN(i){i.Ra.set("Online")}async function WN(i){i.Ia.forEach(((e,n)=>{Dg(i,e)}))}async function JN(i,e){LA(i),Og(i)?(i.Ra.ha(e),Ng(i)):i.Ra.set("Unknown")}async function ZN(i,e,n){if(i.Ra.set("Online"),e instanceof EA&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){le(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uf(i,s)}else if(e instanceof qh?i.Va.Ze(e):e instanceof vA?i.Va.st(e):i.Va.tt(e),!n.isEqual(Se.min()))try{const s=await OA(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),PA(u,p);const b=new Ss(v.target,p,g,v.sequenceNumber);Dg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){le(Da,"Failed to raise snapshot:",s),await uf(i,s)}}async function uf(i,e,n){if(!Wo(e))throw e;i.Ea.add(1),await Hu(i),i.Ra.set("Offline"),n||(n=()=>OA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{le(Da,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Of(i)}))}function UA(i,e){return e().catch((n=>uf(i,n,e)))}async function Mf(i){const e=Ae(i),n=Vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pg;for(;eO(e);)try{const o=await kN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,tO(e,o)}catch(o){await uf(e,o)}jA(e)&&zA(e)}function eO(i){return ka(i)&&i.Ta.length<10}function tO(i,e){i.Ta.push(e);const n=Vs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function jA(i){return ka(i)&&!Vs(i).x_()&&i.Ta.length>0}function zA(i){Vs(i).start()}async function nO(i){Vs(i).ra()}async function iO(i){const e=Vs(i);for(const n of i.Ta)e.ea(n.mutations)}async function rO(i,e,n){const s=i.Ta.shift(),o=bg.from(s,e,n);await UA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Mf(i)}async function sO(i,e){e&&Vs(i).X_&&await(async function(s,o){if((function(h){return zD(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();Vs(s).B_(),await UA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Mf(s)}})(i,e),jA(i)&&zA(i)}async function t0(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),le(Da,"RemoteStore received new credentials");const s=ka(n);n.Ea.add(3),await Hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Of(n)}async function aO(i,e){const n=Ae(i);e?(n.Ea.delete(2),await Of(n)):e||(n.Ea.add(2),await Hu(n),n.Ra.set("Unknown"))}function Jo(i){return i.ma||(i.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new FN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:XN.bind(null,i),t_:WN.bind(null,i),r_:JN.bind(null,i),H_:ZN.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Og(i)?Ng(i):i.Ra.set("Unknown")):(await i.ma.stop(),LA(i))}))),i.ma}function Vs(i){return i.fa||(i.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new GN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:nO.bind(null,i),r_:sO.bind(null,i),ta:iO.bind(null,i),na:rO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Mf(i)):(await i.fa.stop(),i.Ta.length>0&&(le(Da,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Mg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(i,e){if(Mr("AsyncQueue",`${e}: ${i}`),Wo(i))return new se(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static emptySet(e){return new Po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=cu(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.ga=new dt(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ho{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Ho(e,n,Po.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lO{constructor(){this.queries=i0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=i0(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new se(J.ABORTED,"Firestore shutting down"))}}function i0(){return new Va((i=>aA(i)),Rf)}async function kg(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new oO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Vg(h,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Lg(n)}async function Pg(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function uO(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Lg(n)}function cO(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Lg(i){i.Ca.forEach((e=>{e.next()}))}var Up,r0;(r0=Up||(Up={})).Ma="default",r0.Cache="cache";class Ug{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.key=e}}class qA{constructor(e){this.key=e}}class hO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=oA(e),this.tu=new Po(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new n0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const A=o.get(v),R=Cf(this.query,b)?b:null,x=!!A&&this.mutatedKeys.has(A.key),B=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let M=!1;A&&R?A.data.isEqual(R.data)?x!==B&&(s.track({type:3,doc:R}),M=!0):this.su(A,R)||(s.track({type:2,doc:R}),M=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(m=!0)):!A&&R?(s.track({type:0,doc:R}),M=!0):A&&!R&&(s.track({type:1,doc:A}),M=!0,(p||g)&&(m=!0)),M&&(R?(h=h.add(R),u=B?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,b)=>(function(R,x){const B=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:M})}};return B(R)-B(x)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Ho(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new n0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new qA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new BA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jg="SyncEngine";class fO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class dO{constructor(e){this.key=e,this.hu=!1}}class mO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Va((m=>aA(m)),Rf),this.Iu=new Map,this.Eu=new Set,this.du=new dt(de.comparator),this.Au=new Map,this.Ru=new wg,this.Vu={},this.mu=new Map,this.fu=qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pO(i,e,n=!0){const s=YA(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await HA(s,e,n,!0),o}async function gO(i,e){const n=YA(i);await HA(n,e,!0,!1)}async function HA(i,e,n,s){const o=await PN(i.localStore,Yi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await yO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&kA(i.remoteStore,o),m}async function yO(i,e,n,s,o){i.pu=(b,A,R)=>(async function(B,M,Y,X){let ie=M.view.ru(Y);ie.Cs&&(ie=await XT(B.localStore,M.query,!1).then((({documents:O})=>M.view.ru(O,ie))));const fe=X&&X.targetChanges.get(M.targetId),Ee=X&&X.targetMismatches.get(M.targetId)!=null,Te=M.view.applyChanges(ie,B.isPrimaryClient,fe,Ee);return a0(B,M.targetId,Te.au),Te.snapshot})(i,b,A,R);const u=await XT(i.localStore,e,!0),h=new hO(e,u.Qs),m=h.ru(u.documents),p=qu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);a0(i,n,g.au);const v=new fO(e,n,h);return i.Tu.set(e,v),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function _O(i,e,n){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Rf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&xg(s.remoteStore,o.targetId),jp(s,o.targetId)})).catch(Xo)):(jp(s,o.targetId),await Pp(s.localStore,o.targetId,!0))}async function vO(i,e){const n=Ae(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xg(n.remoteStore,s.targetId))}async function EO(i,e,n){const s=CO(i);try{const o=await(function(h,m){const p=Ae(h),g=st.now(),v=m.reduce(((R,x)=>R.add(x.key)),Pe());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let x=Vr(),B=Pe();return p.Ns.getEntries(R,v).next((M=>{x=M,x.forEach(((Y,X)=>{X.isValidDocument()||(B=B.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,x))).next((M=>{b=M;const Y=[];for(const X of m){const ie=VD(X,b.get(X.key).overlayedDocument);ie!=null&&Y.push(new js(X.key,ie,Jb(ie.value.mapValue),Jn.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,Y,m)})).next((M=>{A=M;const Y=M.applyToLocalDocumentSet(b,B);return p.documentOverlayCache.saveOverlays(R,M.batchId,Y)}))})).then((()=>({batchId:A.batchId,changes:uA(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new dt(ke)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Fu(s,o.changes),await Mf(s.remoteStore)}catch(o){const u=Vg(o,"Failed to persist write");n.reject(u)}}async function FA(i,e){const n=Ae(i);try{const s=await MN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Fu(n,s,e)}catch(s){await Xo(s)}}function s0(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((v,b)=>{for(const A of b.Sa)A.va(m)&&(g=!0)})),g&&Lg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function TO(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new dt(de.comparator);h=h.insert(u,ln.newNoDocument(u,Se.min()));const m=Pe().add(u),p=new Df(Se.min(),new Map,new dt(ke),h,m);await FA(s,p),s.du=s.du.remove(u),s.Au.delete(e),zg(s)}else await Pp(s.localStore,e,!1).then((()=>jp(s,e,n))).catch(Xo)}async function bO(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await ON(n.localStore,e);KA(n,s,null),GA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Fu(n,o)}catch(o){await Xo(o)}}async function AO(i,e,n){const s=Ae(i);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Ge(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);KA(s,e,n),GA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Fu(s,o)}catch(o){await Xo(o)}}function GA(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function KA(i,e,n){const s=Ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function jp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||QA(i,s)}))}function QA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(xg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),zg(i))}function a0(i,e,n){for(const s of n)s instanceof BA?(i.Ru.addReference(s.key,e),SO(i,s)):s instanceof qA?(le(jg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||QA(i,s.key)):ve(19791,{wu:s})}function SO(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(le(jg,"New document in limbo: "+n),i.Eu.add(s),zg(i))}function zg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new de(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new dO(n)),i.du=i.du.insert(n,s),kA(i.remoteStore,new Ss(Yi(wf(n.path)),s,"TargetPurposeLimboResolution",Tf.ce))}}async function Fu(i,e,n){const s=Ae(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Cg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const v=Ae(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(g,(A=>ne.forEach(A.Es,(R=>v.persistence.referenceDelegate.addReference(b,A.targetId,R))).next((()=>ne.forEach(A.ds,(R=>v.persistence.referenceDelegate.removeReference(b,A.targetId,R)))))))))}catch(b){if(!Wo(b))throw b;le(Ig,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const R=v.Ms.get(A),x=R.snapshotVersion,B=R.withLastLimboFreeSnapshotVersion(x);v.Ms=v.Ms.insert(A,B)}}})(s.localStore,u))}async function wO(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){le(jg,"User change. New user:",e.toKey());const s=await NA(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new se(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fu(n,s.Ls)}}function RO(i,e){const n=Ae(i),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function YA(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=FA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TO.bind(null,e),e.Pu.H_=uO.bind(null,e.eventManager),e.Pu.yu=cO.bind(null,e.eventManager),e}function CO(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AO.bind(null,e),e}class cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NN(this.persistence,new IN,e.initialUser,this.serializer)}Cu(e){return new DA(Rg.mi,this.serializer)}Du(e){return new UN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cf.provider={build:()=>new cf};class IO extends cf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof lf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new DA((s=>lf.mi(s,n)),this.serializer)}}class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>s0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wO.bind(null,this.syncEngine),await aO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lO})()}createDatastore(e){const n=Nf(e.databaseInfo.databaseId),s=(function(u){return new HN(u)})(e.databaseInfo);return(function(u,h,m,p){return new QN(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new $N(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>s0(this.syncEngine,n,0)),(function(){return ZT.v()?new ZT:new jN})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,v){const b=new mO(o,u,h,m,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(Da,"RemoteStore shutting down."),s.Ea.add(5),await Hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class xO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(ks,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(ks,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Vg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function lp(i,e){i.asyncQueue.verifyOperationInProgress(),le(ks,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await NA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function o0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await DO(i);le(ks,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>t0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>t0(e.remoteStore,o))),i._onlineComponents=e}async function DO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(ks,"Using user provided OfflineComponentProvider");try{await lp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await lp(i,new cf)}}else le(ks,"Using default OfflineComponentProvider"),await lp(i,new IO(void 0));return i._offlineComponents}async function qg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(ks,"Using user provided OnlineComponentProvider"),await o0(i,i._uninitializedComponentsProvider._online)):(le(ks,"Using default OnlineComponentProvider"),await o0(i,new zp))),i._onlineComponents}function NO(i){return qg(i).then((e=>e.syncEngine))}function OO(i){return qg(i).then((e=>e.datastore))}async function hf(i){const e=await qg(i),n=e.eventManager;return n.onListen=pO.bind(null,e.syncEngine),n.onUnlisten=_O.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vO.bind(null,e.syncEngine),n}function MO(i,e,n={}){const s=new Qi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new Bg({next:A=>{v.Nu(),h.enqueueAndForget((()=>Pg(u,b)));const R=A.docs.has(m);!R&&A.fromCache?g.reject(new se(J.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&p&&p.source==="server"?g.reject(new se(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new Ug(wf(m.path),v,{includeMetadataChanges:!0,qa:!0});return kg(u,b)})(await hf(i),i.asyncQueue,e,n,s))),s.promise}function VO(i,e,n={}){const s=new Qi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new Bg({next:A=>{v.Nu(),h.enqueueAndForget((()=>Pg(u,b))),A.fromCache&&p.source==="server"?g.reject(new se(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new Ug(m,v,{includeMetadataChanges:!0,qa:!0});return kg(u,b)})(await hf(i),i.asyncQueue,e,n,s))),s.promise}function kO(i,e,n){const s=new Qi;return i.asyncQueue.enqueueAndForget((async()=>{try{const o=await OO(i);s.resolve((async function(h,m,p){const g=Ae(h),{request:v,gt:b,parent:A}=eN(g.serializer,vD(m),p);g.connection.$o||delete v.parent;const R=(await g.Ho("RunAggregationQuery",g.serializer.databaseId,A,v,1)).filter((B=>!!B.result));Ge(R.length===1,64727);const x=R[0].result?.aggregateFields;return Object.keys(x).reduce(((B,M)=>(B[b[M]]=x[M],B)),{})})(o,e,n))}catch(o){s.reject(o)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firestore.googleapis.com",u0=!0;class c0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XA,this.ssl=u0}else this.host=e.host,this.ssl=e.ssl??u0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hN)throw new se(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$A(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new P2;switch(s.type){case"firstParty":return new z2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=l0.get(n);s&&(le("ComponentProvider","Removing Datastore"),l0.delete(n),s.terminate())})(this),Promise.resolve()}}function PO(i,e,n,s={}){i=mn(i,Vf);const o=Ls(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Jp(`https://${m}`),Zp("Firestore",!0)),u.host!==XA&&u.host!==m&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!wa(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=on.MOCK_USER;else{g=Q0(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new se(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new on(b)}i._authCredentials=new L2(new zb(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ir(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(zu(n,gt._jsonSchema))return new gt(e,s||null,new de(tt.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Pt("string",gt._jsonSchemaVersion),referencePath:Pt("string")};class Is extends ir{constructor(e,n,s){super(e,n,wf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new de(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function nt(i,e,...n){if(i=ot(i),Bb("collection","path",e),i instanceof Vf){const s=tt.fromString(e,...n);return ST(s),new Is(i,null,s)}{if(!(i instanceof gt||i instanceof Is))throw new se(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return ST(s),new Is(i.firestore,null,s)}}function at(i,e,...n){if(i=ot(i),arguments.length===1&&(e=mg.newId()),Bb("doc","path",e),i instanceof Vf){const s=tt.fromString(e,...n);return AT(s),new gt(i,null,new de(s))}{if(!(i instanceof gt||i instanceof Is))throw new se(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return AT(s),new gt(i.firestore,i instanceof Is?i.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="AsyncQueue";class f0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MA(this,"async_queue_retry"),this._c=()=>{const s=op();s&&le(h0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=op();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=op();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wo(e))throw e;le(h0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Mr("INTERNAL UNHANDLED ERROR: ",d0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Mg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:d0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function d0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class er extends Vf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new f0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f0(e),this._firestoreClient=void 0,await e}}}function LO(i,e){const n=typeof i=="object"?i:ng(),s=typeof i=="string"?i:tf,o=gf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=F0("firestore");u&&PO(o,...u)}return o}function Gu(i){if(i._terminated)throw new se(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||UO(i),i._firestoreClient}function UO(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new rD(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$A(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new xO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class zO{constructor(e,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(rn.fromBase64String(e))}catch(n){throw new se(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Pt("string",Wn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(zu(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Pt("string",Xi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wi(e.vectorValues);throw new se(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:Pt("string",Wi._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=/^__.*__$/;class qO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class WA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:i})}}class Hg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ff(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JA(this.Ac)&&BO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Nf(e)}Cc(e,n,s,o=!1){return new Hg({Ac:e,methodName:n,Dc:s,path:nn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ku(i){const e=i._freezeSettings(),n=Nf(i._databaseId);return new HO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function ZA(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Gg("Data must be an object, but it was:",h,s);const m=tS(s,h);let p,g;if(u.merge)p=new Pn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const A=Bp(e,b,n);if(!h.contains(A))throw new se(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);iS(v,A)||v.push(A)}p=new Pn(v),g=h.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=h.fieldTransforms;return new qO(new wn(m),p,g)}class Lf extends Pf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}class Fg extends Pf{_toFieldTransform(e){return new DD(e.path,new Iu)}isEqual(e){return e instanceof Fg}}function FO(i,e,n,s){const o=i.Cc(1,e,n);Gg("Data must be an object, but it was:",o,s);const u=[],h=wn.empty();Us(s,((p,g)=>{const v=Kg(e,p,n);g=ot(g);const b=o.yc(v);if(g instanceof Lf)u.push(v);else{const A=Qu(g,b);A!=null&&(u.push(v),h.set(v,A))}}));const m=new Pn(u);return new WA(h,m,o.fieldTransforms)}function GO(i,e,n,s,o,u){const h=i.Cc(1,e,n),m=[Bp(e,s,n)],p=[o];if(u.length%2!=0)throw new se(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Bp(e,u[A])),p.push(u[A+1]);const g=[],v=wn.empty();for(let A=m.length-1;A>=0;--A)if(!iS(g,m[A])){const R=m[A];let x=p[A];x=ot(x);const B=h.yc(R);if(x instanceof Lf)g.push(R);else{const M=Qu(x,B);M!=null&&(g.push(R),v.set(R,M))}}const b=new Pn(g);return new WA(v,b,h.fieldTransforms)}function eS(i,e,n,s=!1){return Qu(n,i.Cc(s?4:3,e))}function Qu(i,e){if(nS(i=ot(i)))return Gg("Unsupported field value:",e,i),tS(i,e);if(i instanceof Pf)return(function(s,o){if(!JA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Qu(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=ot(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:of(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:of(o.serializer,u)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wn)return{bytesValue:TA(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wi)return(function(h,m){return{mapValue:{fields:{[Xb]:{stringValue:Wb},[nf]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Eg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ef(s)}`)})(i,e)}function tS(i,e){const n={};return Fb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(i,((s,o)=>{const u=Qu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function nS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof Xi||i instanceof Wn||i instanceof gt||i instanceof Pf||i instanceof Wi)}function Gg(i,e,n){if(!nS(n)||!qb(n)){const s=Ef(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Bp(i,e,n){if((e=ot(e))instanceof kf)return e._internalPath;if(typeof e=="string")return Kg(i,e);throw ff("Field path arguments must be of type string or ",i,!1,void 0,n)}const KO=new RegExp("[~\\*/\\[\\]]");function Kg(i,e,n){if(e.search(KO)>=0)throw ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new kf(...e.split("."))._internalPath}catch{throw ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function ff(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new se(J.INVALID_ARGUMENT,m+i+p)}function iS(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Uf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QO extends Qg{data(){return super.data()}}function Uf(i,e){return typeof e=="string"?Kg(i,e):e instanceof kf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new se(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class jf extends Yg{}function Ji(i,e,...n){let s=[];e instanceof Yg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof $g)).length,m=u.filter((p=>p instanceof zf)).length;if(h>1||h>0&&m>0)throw new se(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class zf extends jf{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new zf(e,n,s)}_apply(e){const n=this._parse(e);return sS(e._query,n),new ir(e.firestore,e.converter,Np(e._query,n))}_parse(e){const n=Ku(e.firestore);return(function(u,h,m,p,g,v,b){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new se(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){g0(b,v);const x=[];for(const B of b)x.push(p0(p,u,B));A={arrayValue:{values:x}}}else A=p0(p,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||g0(b,v),A=eS(m,h,b,v==="in"||v==="not-in");return kt.create(g,v,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ir(i,e,n){const s=e,o=Uf("where",i);return zf._create(o,s,n)}class $g extends Yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $g(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)sS(h,p),h=Np(h,p)})(e._query,n),new ir(e.firestore,e.converter,Np(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xg extends jf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new se(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new se(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cu(u,h)})(e._query,this._field,this._direction);return new ir(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Ma(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function up(i,e="asc"){const n=e,s=Uf("orderBy",i);return Xg._create(s,n)}class Wg extends jf{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Wg(e,n,s)}_apply(e){return new ir(e.firestore,e.converter,sf(e._query,this._limit,this._limitType))}}function cp(i){return Wg._create("limit",i,"F")}class Jg extends jf{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Jg(e,n,s)}_apply(e){const n=$O(e,this.type,this._docOrFields,this._inclusive);return new ir(e.firestore,e.converter,(function(o,u){return new Ma(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(e._query,n))}}function YO(...i){return Jg._create("startAfter",i,!1)}function $O(i,e,n,s){if(n[0]=ot(n[0]),n[0]instanceof Qg)return(function(u,h,m,p,g){if(!p)throw new se(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const v=[];for(const b of ko(u))if(b.field.isKeyField())v.push(rf(h,p.key));else{const A=p.data.field(b.field);if(Af(A))throw new se(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const R=b.field.canonicalString();throw new se(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}v.push(A)}return new Bo(v,g)})(i._query,i.firestore._databaseId,e,n[0]._document,s);{const o=Ku(i.firestore);return(function(h,m,p,g,v,b){const A=h.explicitOrderBy;if(v.length>A.length)throw new se(J.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let x=0;x<v.length;x++){const B=v[x];if(A[x].field.isKeyField()){if(typeof B!="string")throw new se(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof B}`);if(!vg(h)&&B.indexOf("/")!==-1)throw new se(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${B}' contains a slash.`);const M=h.path.child(tt.fromString(B));if(!de.isDocumentKey(M))throw new se(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const Y=new de(M);R.push(rf(m,Y))}else{const M=eS(p,g,B);R.push(M)}}return new Bo(R,b)})(i._query,i.firestore._databaseId,o,e,n,s)}}function p0(i,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new se(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vg(e)&&n.indexOf("/")!==-1)throw new se(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!de.isDocumentKey(s))throw new se(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return rf(i,new de(s))}if(n instanceof gt)return rf(i,n._key);throw new se(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(n)}.`)}function g0(i,e){if(!Array.isArray(i)||i.length===0)throw new se(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sS(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new se(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XO{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Us(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[nf].arrayValue?.values?.map((s=>At(s.doubleValue)));return new Wi(n)}convertGeoPoint(e){return new Xi(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Sf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=Ns(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ge(IA(s),9688,{name:e});const o=new wu(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||Mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}function WO(){return new jO("count")}class fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ta extends Qg{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Uf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ta._jsonSchema={type:Pt("string",Ta._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Hh extends Ta{data(e={}){return super.data(e)}}class ba{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new fu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Hh(this._firestore,this._userDataWriter,s.key,s,new fu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new fu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new fu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:JO(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(i){i=mn(i,gt);const e=mn(i.firestore,er);return MO(Gu(e),i._key).then((n=>uS(e,i,n)))}ba._jsonSchemaVersion="firestore/querySnapshot/1.0",ba._jsonSchema={type:Pt("string",ba._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Bf extends XO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function Rn(i){i=mn(i,ir);const e=mn(i.firestore,er),n=Gu(e),s=new Bf(e);return rS(i._query),VO(n,i._query).then((o=>new ba(e,s,i,o)))}function Fo(i,e,n){i=mn(i,gt);const s=mn(i.firestore,er),o=aS(i.converter,e,n);return qf(s,[ZA(Ku(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Jn.none())])}function Zn(i,e,n,...s){i=mn(i,gt);const o=mn(i.firestore,er),u=Ku(o);let h;return h=typeof(e=ot(e))=="string"||e instanceof kf?GO(u,"updateDoc",i._key,e,n,s):FO(u,"updateDoc",i._key,e),qf(o,[h.toMutation(i._key,Jn.exists(!0))])}function oS(i){return qf(mn(i.firestore,er),[new Tg(i._key,Jn.none())])}function lS(i,e){const n=mn(i.firestore,er),s=at(i),o=aS(i.converter,e);return qf(n,[ZA(Ku(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then((()=>s))}function Nu(i,...e){i=ot(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||m0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(m0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof gt)h=mn(i.firestore,er),m=wf(i._key.path),u={next:p=>{e[s]&&e[s](uS(h,i,p))},error:e[s+1],complete:e[s+2]};else{const p=mn(i,ir);h=mn(p.firestore,er),m=p._query;const g=new Bf(h);u={next:v=>{e[s]&&e[s](new ba(h,g,p,v))},error:e[s+1],complete:e[s+2]},rS(i._query)}return(function(g,v,b,A){const R=new Bg(A),x=new Ug(v,R,b);return g.asyncQueue.enqueueAndForget((async()=>kg(await hf(g),x))),()=>{R.Nu(),g.asyncQueue.enqueueAndForget((async()=>Pg(await hf(g),x)))}})(Gu(h),m,o,u)}function qf(i,e){return(function(s,o){const u=new Qi;return s.asyncQueue.enqueueAndForget((async()=>EO(await NO(s),o,u))),u.promise})(Gu(i),e)}function uS(i,e,n){const s=n.docs.get(e._key),o=new Bf(i);return new Ta(i,o,e._key,s,new fu(n.hasPendingWrites,n.fromCache),e.converter)}function No(i){return ZO(i,{count:WO()})}function ZO(i,e){const n=mn(i.firestore,er),s=Gu(n),o=nD(e,((u,h)=>new UD(h,u.aggregateType,u._internalFieldPath)));return kO(s,i._query,o).then((u=>(function(m,p,g){const v=new Bf(m);return new zO(p,v,g)})(n,i,u)))}function xr(){return new Fg("serverTimestamp")}(function(e,n=!0){(function(o){$o=o})(Oa),Ra(new xs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new er(new U2(s.getProvider("auth-internal")),new B2(h,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new se(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(g.options.projectId,v)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Gi(vT,ET,e),Gi(vT,ET,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="firebasestorage.googleapis.com",hS="storageBucket",eM=120*1e3,tM=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t extends nr{constructor(e,n,s=0){super(hp(e),`Firebase Storage: ${n} (${hp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function hp(i){return"storage/"+i}function Zg(){const i="An unknown error occurred, please check the error payload for server response.";return new _t(yt.UNKNOWN,i)}function nM(i){return new _t(yt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function iM(i){return new _t(yt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rM(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(yt.UNAUTHENTICATED,i)}function sM(){return new _t(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aM(i){return new _t(yt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function oM(){return new _t(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lM(){return new _t(yt.CANCELED,"User canceled the upload/download.")}function uM(i){return new _t(yt.INVALID_URL,"Invalid URL '"+i+"'.")}function cM(i){return new _t(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function hM(){return new _t(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hS+"' property when initializing the app?")}function fM(){return new _t(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dM(){return new _t(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mM(i){return new _t(yt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qp(i){return new _t(yt.INVALID_ARGUMENT,i)}function fS(){return new _t(yt.APP_DELETED,"The Firebase app was deleted.")}function pM(i){return new _t(yt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _u(i,e){return new _t(yt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function au(i){throw new _t(yt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Ln.makeFromUrl(e,n)}catch{return new Ln(e,"")}if(s.path==="")return s;throw cM(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(fe){fe.path.charAt(fe.path.length-1)==="/"&&(fe.path_=fe.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(fe){fe.path_=decodeURIComponent(fe.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",R=new RegExp(`^https?://${b}/${v}/b/${o}/o${A}`,"i"),x={bucket:1,path:3},B=n===cS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",Y=new RegExp(`^https?://${B}/${o}/${M}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:R,indices:x,postModify:g},{regex:Y,indices:{bucket:1,path:2},postModify:g}];for(let fe=0;fe<ie.length;fe++){const Ee=ie[fe],Te=Ee.regex.exec(e);if(Te){const O=Te[Ee.indices.bucket];let C=Te[Ee.indices.path];C||(C=""),s=new Ln(O,C),Ee.postModify(s);break}}if(s==null)throw uM(e);return s}}class gM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function v(...M){g||(g=!0,e.apply(null,M))}function b(M){o=setTimeout(()=>{o=null,i(R,p())},M)}function A(){u&&clearTimeout(u)}function R(M,...Y){if(g){A();return}if(M){A(),v.call(null,M,...Y);return}if(p()||h){A(),v.call(null,M,...Y);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,b(ie)}let x=!1;function B(M){x||(x=!0,A(),!g&&(o!==null?(M||(m=2),clearTimeout(o),b(0)):M||(m=1)))}return b(0),u=setTimeout(()=>{h=!0,B(!0)},n),B}function _M(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(i){return i!==void 0}function EM(i){return typeof i=="object"&&!Array.isArray(i)}function ey(i){return typeof i=="string"||i instanceof String}function y0(i){return ty()&&i instanceof Blob}function ty(){return typeof Blob<"u"}function _0(i,e,n,s){if(s<e)throw qp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw qp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function dS(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Aa;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Aa||(Aa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,s,o,u,h,m,p,g,v,b,A=!0,R=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=A,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,B)=>{this.resolve_=x,this.reject_=B,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Dh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Aa.NO_ERROR,p=u.getStatus();if(!m||TM(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Aa.ABORT;s(!1,new Dh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Dh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());vM(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Zg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?fS():lM();h(p)}else{const p=oM();h(p)}};this.canceled_?n(!1,new Dh(!1,null,!0)):this.backoffId_=yM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_M(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function AM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function SM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function RM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function CM(i,e,n,s,o,u,h=!0,m=!1){const p=dS(i.urlParams),g=i.url+p,v=Object.assign({},i.headers);return wM(v,e),AM(v,n),SM(v,u),RM(v,s),new bM(g,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xM(...i){const e=IM();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(ty())return new Blob(i);throw new _t(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function DM(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(i){if(typeof atob>"u")throw mM("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fp{constructor(e,n){this.data=e,this.contentType=n||null}}function OM(i,e){switch(i){case Fi.RAW:return new fp(mS(e));case Fi.BASE64:case Fi.BASE64URL:return new fp(pS(i,e));case Fi.DATA_URL:return new fp(VM(e),kM(e))}throw Zg()}function mS(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function MM(i){let e;try{e=decodeURIComponent(i)}catch{throw _u(Fi.DATA_URL,"Malformed data URL.")}return mS(e)}function pS(i,e){switch(i){case Fi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw _u(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Fi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw _u(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=NM(e)}catch(o){throw o.message.includes("polyfill")?o:_u(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class gS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _u(Fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=PM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function VM(i){const e=new gS(i);return e.base64?pS(Fi.BASE64,e.rest):MM(e.rest)}function kM(i){return new gS(i).contentType}function PM(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){let s=0,o="";y0(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(y0(this.data_)){const s=this.data_,o=DM(s,e,n);return o===null?null:new As(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new As(s,!0)}}static getBlob(...e){if(ty()){const n=e.map(s=>s instanceof As?s.data_:s);return new As(xM.apply(null,n))}else{const n=e.map(h=>ey(h)?OM(Fi.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new As(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(i){let e;try{e=JSON.parse(i)}catch{return null}return EM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function UM(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function _S(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(i,e){return e}class dn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||jM}}let Nh=null;function zM(i){return!ey(i)||i.length<2?i:_S(i)}function vS(){if(Nh)return Nh;const i=[];i.push(new dn("bucket")),i.push(new dn("generation")),i.push(new dn("metageneration")),i.push(new dn("name","fullPath",!0));function e(u,h){return zM(h)}const n=new dn("name");n.xform=e,i.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new dn("size");return o.xform=s,i.push(o),i.push(new dn("timeCreated")),i.push(new dn("updated")),i.push(new dn("md5Hash",null,!0)),i.push(new dn("cacheControl",null,!0)),i.push(new dn("contentDisposition",null,!0)),i.push(new dn("contentEncoding",null,!0)),i.push(new dn("contentLanguage",null,!0)),i.push(new dn("contentType",null,!0)),i.push(new dn("metadata","customMetadata",!0)),Nh=i,Nh}function BM(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Ln(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function qM(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return BM(s,i),s}function ES(i,e,n){const s=yS(e);return s===null?null:qM(i,s,n)}function HM(i,e,n,s){const o=yS(e);if(o===null||!ey(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const v=i.bucket,b=i.fullPath,A="/b/"+h(v)+"/o/"+h(b),R=Hf(A,n,s),x=dS({alt:"media",token:g});return R+x})[0]}function FM(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class ny{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(i){if(!i)throw Zg()}function GM(i,e){function n(s,o){const u=ES(i,o,e);return TS(u!==null),u}return n}function KM(i,e){function n(s,o){const u=ES(i,o,e);return TS(u!==null),HM(u,o,i.host,i._protocol)}return n}function bS(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=sM():o=rM():n.getStatus()===402?o=iM(i.bucket):n.getStatus()===403?o=aM(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function AS(i){const e=bS(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=nM(i.path)),u.serverResponse=o.serverResponse,u}return n}function QM(i,e,n){const s=e.fullServerUrl(),o=Hf(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new ny(o,u,KM(i,n),h);return m.errorHandler=AS(e),m}function YM(i,e){const n=e.fullServerUrl(),s=Hf(n,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function h(p,g){}const m=new ny(s,o,h,u);return m.successCodes=[200,204],m.errorHandler=AS(e),m}function $M(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function XM(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=$M(null,e)),s}function WM(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ie="";for(let fe=0;fe<2;fe++)ie=ie+Math.random().toString().slice(2);return ie}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=XM(e,s,o),v=FM(g,n),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",R=As.getBlob(b,s,A);if(R===null)throw fM();const x={name:g.fullPath},B=Hf(u,i.host,i._protocol),M="POST",Y=i.maxUploadRetryTime,X=new ny(B,M,GM(i,n),Y);return X.urlParams=x,X.headers=h,X.body=R.uploadData(),X.errorHandler=bS(e),X}class JM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Aa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Aa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Aa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw au("cannot .send() more than once");if(Ls(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw au("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw au("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw au("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw au("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ZM extends JM{initXhr(){this.xhr_.responseType="text"}}function iy(){return new ZM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this._service=e,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Na(e,n)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _S(this._location.path)}get storage(){return this._service}get parent(){const e=LM(this._location.path);if(e===null)return null;const n=new Ln(this._location.bucket,e);return new Na(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pM(e)}}function eV(i,e,n){i._throwIfRoot("uploadBytes");const s=WM(i.storage,i._location,vS(),new As(e,!0),n);return i.storage.makeRequestWithTokens(s,iy).then(o=>({metadata:o,ref:i}))}function tV(i){i._throwIfRoot("getDownloadURL");const e=QM(i.storage,i._location,vS());return i.storage.makeRequestWithTokens(e,iy).then(n=>{if(n===null)throw dM();return n})}function nV(i){i._throwIfRoot("deleteObject");const e=YM(i.storage,i._location);return i.storage.makeRequestWithTokens(e,iy)}function iV(i,e){const n=UM(i._location.path,e),s=new Ln(i._location.bucket,n);return new Na(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(i){return/^[A-Za-z]+:\/\//.test(i)}function sV(i,e){return new Na(i,e)}function SS(i,e){if(i instanceof ry){const n=i;if(n._bucket==null)throw hM();const s=new Na(n,n._bucket);return e!=null?SS(s,e):s}else return e!==void 0?iV(i,e):i}function aV(i,e){if(e&&rV(e)){if(i instanceof ry)return sV(i,e);throw qp("To use ref(service, url), the first argument must be a Storage instance.")}else return SS(i,e)}function v0(i,e){const n=e?.[hS];return n==null?null:Ln.makeFromBucketSpec(n,i)}function oV(i,e,n,s={}){i.host=`${e}:${n}`;const o=Ls(e);o&&(Jp(`https://${i.host}/b`),Zp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:Q0(u,i.app.options.projectId))}class ry{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=cS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eM,this._maxUploadRetryTime=tM,this._requests=new Set,o!=null?this._bucket=Ln.makeFromBucketSpec(o,this._host):this._bucket=v0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=v0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Na(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new gM(fS());{const h=CM(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const E0="@firebase/storage",T0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="storage";function lV(i,e,n){return i=ot(i),eV(i,e,n)}function uV(i){return i=ot(i),tV(i)}function cV(i){return i=ot(i),nV(i)}function b0(i,e){return i=ot(i),aV(i,e)}function hV(i=ng(),e){i=ot(i);const s=gf(i,wS).getImmediate({identifier:e}),o=F0("storage");return o&&fV(s,...o),s}function fV(i,e,n,s={}){oV(i,e,n,s)}function dV(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new ry(n,s,o,e,Oa)}function mV(){Ra(new xs(wS,dV,"PUBLIC").setMultipleInstances(!0)),Gi(E0,T0,""),Gi(E0,T0,"esm2020")}mV();const pV={apiKey:"AIzaSyAjxmYzmbSbfUneXaxEKmewWoSfwF8Ld30",authDomain:"mijnfegon.firebaseapp.com",projectId:"mijnfegon",storageBucket:"mijnfegon.firebasestorage.app",messagingSenderId:"415529097955",appId:"1:415529097955:web:da03af79ae2888a58a83d6"},sy=X0(pV),ye=LO(sy),Sa=O2(sy),gV=new Hi,A0=hV(sy);gV.setCustomParameters({prompt:"select_account"});function yV({user:i,role:e}){const[n,s]=L.useState(0),[o,u]=L.useState(0),[h,m]=L.useState(0),[p,g]=L.useState(""),[v,b]=L.useState(""),A=Qp();L.useEffect(()=>{if(!i)return;const x=at(ye,"users",i.uid),B=Nu(x,X=>{if(X.exists()){const ie=X.data();s(ie.points_total||0),g(ie.company||"Onbekend bedrijf")}},X=>console.error("Gebruiker error:",X));async function M(){try{const X=Ji(nt(ye,"registrations"),Ir("installer_uid","==",i.uid)),ie=await No(X);u(ie.data().count)}catch(X){console.warn("Registraties tellen mislukt:",X)}}async function Y(){try{const X=Ji(nt(ye,"registrations"),Ir("installer_uid","==",i.uid),Ir("status","==","pending")),ie=await No(X);m(ie.data().count)}catch(X){console.warn("In afwachting tellen mislukt:",X)}}return M(),Y(),()=>{B()}},[i]);const R=async()=>{await Tb(Sa),A("/")};return T.jsx("div",{style:Mt.page,children:T.jsxs("div",{style:Mt.container,children:[T.jsxs("header",{style:Mt.header,children:[T.jsxs("div",{children:[T.jsxs("h1",{style:Mt.titel,children:["Welkom terug, ",i.displayName||i.email," "]}),T.jsxs("p",{style:Mt.subtitel,children:["Laatste inlog: ",new Date().toLocaleString()]})]}),T.jsx("button",{onClick:R,style:Mt.logoutBtn,children:"Uitloggen"})]}),T.jsxs("section",{style:Mt.cards,children:[T.jsxs("div",{style:Mt.card,children:[T.jsx("h2",{children:" Beschikbare punten"}),T.jsx("p",{style:Mt.bigText,children:n})]}),T.jsxs("div",{style:Mt.card,children:[T.jsx("h2",{children:" Registraties totaal"}),T.jsx("p",{style:Mt.bigText,children:o})]}),T.jsxs("div",{style:Mt.card,children:[T.jsx("h2",{children:" In afwachting"}),T.jsx("p",{style:Mt.bigText,children:h})]}),T.jsxs("div",{style:Mt.card,children:[T.jsx("h2",{children:" Bedrijf"}),T.jsx("p",{children:p})]})]}),T.jsxs("section",{style:Mt.actions,children:[T.jsx(Kt,{to:"/registratie",style:Mt.button,children:" Nieuw apparaat registreren"}),T.jsx(Kt,{to:"/shop",style:Mt.buttonOutline,children:" Naar shop"}),T.jsx(Kt,{to:"/instellingen",style:Mt.buttonOutline,children:" Instellingen"}),e==="admin"&&T.jsx(Kt,{to:"/admin",style:Mt.adminBtn,children:" Adminpaneel"})]}),v&&T.jsx("p",{style:Mt.melding,children:v})]})})}const Mt={page:{fontFamily:"Inter, system-ui, sans-serif",background:"linear-gradient(180deg, #f7f9fc 0%, #eef3fb 100%)",minHeight:"100vh",display:"flex",justifyContent:"center",padding:"2rem"},container:{width:"100%",maxWidth:"1100px",background:"white",borderRadius:"20px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",padding:"2.5rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fdfdfd",padding:"1.5rem 2rem",borderRadius:"14px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",marginBottom:"2rem"},titel:{margin:0,fontSize:"1.8rem",color:"#003366",fontWeight:700},subtitel:{margin:0,color:"#666",fontSize:"0.9rem"},logoutBtn:{background:"#e53935",color:"#fff",border:"none",borderRadius:8,padding:"0.7rem 1.4rem",cursor:"pointer",fontWeight:"bold"},cards:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},card:{background:"#fff",borderRadius:14,padding:"1.6rem",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"},bigText:{fontSize:"2.2rem",fontWeight:700,color:"#004aad",marginTop:"0.6rem"},actions:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"1rem"},button:{background:"#004aad",color:"#fff",borderRadius:8,padding:"0.9rem 1.6rem",textDecoration:"none",fontWeight:600},buttonOutline:{border:"2px solid #004aad",color:"#004aad",borderRadius:8,padding:"0.9rem 1.6rem",textDecoration:"none",fontWeight:600,background:"transparent"},adminBtn:{background:"#ff9800",color:"#fff",borderRadius:8,padding:"0.9rem 1.6rem",textDecoration:"none",fontWeight:600},melding:{marginTop:"1.5rem",textAlign:"center",color:"#004aad"}};function _V({user:i}){const[e,n]=L.useState([]),[s,o]=L.useState(0),[u,h]=L.useState(!0),[m,p]=L.useState("");L.useEffect(()=>{const v=Nu(nt(ye,"shop"),A=>{n(A.docs.map(R=>({id:R.id,...R.data()}))),h(!1)}),b=Nu(at(ye,"users",i.uid),A=>{A.exists()&&o(A.data().points_total||0)});return()=>{v(),b()}},[i]);async function g(v){if(s<v.points){p(" Je hebt niet genoeg punten voor dit product.");return}try{const b=at(ye,"users",i.uid),A=s-v.points;await Zn(b,{points_total:A}),p(` Je hebt "${v.name}" gekocht voor ${v.points} punten!`),setTimeout(()=>p(""),4e3)}catch(b){console.error(b),p(" Er is een fout opgetreden bij het voltooien van de aankoop.")}}return u?T.jsx("div",{style:bn.loading,children:" Laden..."}):T.jsxs("div",{style:bn.page,children:[T.jsxs("header",{style:bn.header,children:[T.jsx("h1",{children:" Shop"}),T.jsxs("div",{style:bn.pointsBox,children:[T.jsx("strong",{children:" Mijn punten:"})," ",s]}),T.jsxs("div",{style:{display:"flex",gap:"0.8rem"},children:[T.jsx(Kt,{to:"/dashboard",style:bn.backBtn,children:" Terug"}),T.jsx("button",{onClick:()=>Tb(Sa),style:bn.logoutBtn,children:"Uitloggen"})]})]}),m&&T.jsx("p",{style:bn.melding,children:m}),T.jsx("div",{style:bn.grid,children:e.length===0?T.jsx("p",{style:{textAlign:"center",color:"#888",width:"100%"},children:"Er zijn momenteel geen producten beschikbaar."}):e.map(v=>T.jsxs("div",{style:bn.card,children:[v.image&&T.jsx("img",{src:v.image,alt:v.name,style:bn.image}),T.jsx("h3",{style:bn.name,children:v.name}),T.jsx("p",{style:bn.description,children:v.description||"Geen beschrijving beschikbaar."}),T.jsxs("p",{style:bn.points,children:[" ",v.points," punten"]}),T.jsx("button",{onClick:()=>g(v),style:{...bn.buyBtn,background:s>=v.points?"#004aad":"#ccc",cursor:s>=v.points?"pointer":"not-allowed"},disabled:s<v.points,children:s>=v.points?"Kopen":"Niet genoeg punten"})]},v.id))})]})}const bn={page:{fontFamily:"Inter, system-ui, sans-serif",background:"#f4f6fb",minHeight:"100vh",padding:"2rem"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"2rem",background:"#fff",padding:"1rem 1.5rem",borderRadius:12,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},backBtn:{background:"transparent",color:"#004aad",border:"2px solid #004aad",borderRadius:8,padding:"0.5rem 1rem",textDecoration:"none",fontWeight:"bold"},logoutBtn:{background:"#ff4d4f",color:"#fff",border:"none",borderRadius:8,padding:"0.5rem 1rem",cursor:"pointer"},pointsBox:{fontSize:"1.1rem",color:"#002f6c"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem"},card:{background:"#fff",borderRadius:12,padding:"1.5rem",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",justifyContent:"space-between"},image:{width:"100%",height:160,objectFit:"cover",borderRadius:8,marginBottom:"1rem"},name:{fontSize:"1.2rem",fontWeight:"bold",color:"#002f6c"},description:{color:"#555",fontSize:"0.9rem",margin:"0.5rem 0 1rem"},points:{fontWeight:"bold",color:"#004aad",marginBottom:"1rem"},buyBtn:{color:"#fff",border:"none",borderRadius:8,padding:"0.8rem",fontWeight:"bold",transition:"all 0.2s ease"},melding:{textAlign:"center",color:"#004aad",marginBottom:"1.5rem",fontWeight:"600"},loading:{textAlign:"center",marginTop:"4rem",color:"#004aad",fontSize:"1.2rem"}};function vV({user:i}){const[e,n]=L.useState({full_name:"",company:"",phone:"",kvk:"",address:""}),[s,o]=L.useState(!0),[u,h]=L.useState(!1),[m,p]=L.useState("");L.useEffect(()=>{async function b(){if(!i)return;const A=at(ye,"users",i.uid),R=await Pa(A);if(R.exists()){const x=R.data();n({full_name:x.full_name||"",company:x.company||"",phone:x.phone||"",kvk:x.kvk||"",address:x.address||""})}o(!1)}b()},[i]);function g(b){const{name:A,value:R}=b.target;n(x=>({...x,[A]:R}))}async function v(b){b.preventDefault(),h(!0),p("");try{const A=at(ye,"users",i.uid);await Zn(A,{...e,updatedAt:new Date}),p(" Gegevens succesvol opgeslagen!")}catch(A){console.error(A),p(" Opslaan mislukt.")}finally{h(!1)}}return s?T.jsx("div",{style:{textAlign:"center"},children:" Laden..."}):T.jsx("div",{style:en.page,children:T.jsxs("div",{style:en.container,children:[T.jsx("h1",{style:en.title,children:" Instellingen"}),T.jsx("p",{style:en.subtitle,children:"Beheer hier je persoonlijke en bedrijfsgegevens."}),T.jsxs("form",{onSubmit:v,style:en.form,children:[T.jsx("label",{style:en.label,children:"Volledige naam *"}),T.jsx("input",{name:"full_name",type:"text",value:e.full_name,onChange:g,required:!0,style:en.input}),T.jsx("label",{style:en.label,children:"Bedrijfsnaam *"}),T.jsx("input",{name:"company",type:"text",value:e.company,onChange:g,required:!0,style:en.input}),T.jsx("label",{style:en.label,children:"Telefoonnummer"}),T.jsx("input",{name:"phone",type:"text",value:e.phone,onChange:g,style:en.input}),T.jsx("label",{style:en.label,children:"KvK-nummer"}),T.jsx("input",{name:"kvk",type:"text",value:e.kvk,onChange:g,style:en.input}),T.jsx("label",{style:en.label,children:"Adres"}),T.jsx("input",{name:"address",type:"text",value:e.address,onChange:g,style:en.input}),T.jsx("button",{type:"submit",style:en.button,disabled:u,children:u?"Opslaan...":"Opslaan"})]}),m&&T.jsx("p",{style:en.message,children:m})]})})}const en={page:{fontFamily:"Inter, system-ui, sans-serif",background:"linear-gradient(180deg, #f7f9fc 0%, #eef3fb 100%)",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"3rem 1rem"},container:{width:"100%",maxWidth:"650px",background:"#fff",padding:"2rem",borderRadius:16,boxShadow:"0 4px 16px rgba(0,0,0,0.08)"},title:{margin:0,fontSize:"1.7rem",color:"#003366",fontWeight:700},subtitle:{margin:"0.5rem 0 1.5rem",color:"#666"},form:{display:"flex",flexDirection:"column",gap:"1rem"},label:{fontWeight:600,color:"#003366"},input:{padding:"0.8rem",borderRadius:8,border:"1px solid #ccc",fontSize:"1rem"},button:{background:"#004aad",color:"#fff",border:"none",padding:"0.9rem",borderRadius:8,fontWeight:"bold",cursor:"pointer",marginTop:"1rem"},message:{marginTop:"1.2rem",textAlign:"center",fontWeight:"bold",color:"#004aad"}};function EV({user:i}){const[e,n]=L.useState({installer_full_name:"",installer_company:"",installer_phone:"",installer_kvk:"",installer_address:""}),[s,o]=L.useState(!1),[u,h]=L.useState(!1),[m,p]=L.useState("");function g(b){const{name:A,value:R}=b.target;n(x=>({...x,[A]:R}))}async function v(b){b.preventDefault(),o(!0),p(""),h(!1);try{const A=at(ye,"users",i.uid);(await Pa(A)).exists()?await Zn(A,{installer_full_name:e.installer_full_name,installer_company:e.installer_company,installer_phone:e.installer_phone,installer_kvk:e.installer_kvk,installer_address:e.installer_address,profile_completed:!0,updatedAt:xr()}):await Fo(A,{uid:i.uid,email:i.email,role:"user",points_total:0,points_pending:0,createdAt:xr(),installer_full_name:e.installer_full_name,installer_company:e.installer_company,installer_phone:e.installer_phone,installer_kvk:e.installer_kvk,installer_address:e.installer_address,profile_completed:!0}),h(!0)}catch(A){console.error(" Profiel opslaan mislukt:",A),p("Er is iets misgegaan bij het opslaan van je gegevens. Probeer het opnieuw.")}finally{o(!1)}}return T.jsx("div",{className:"container",style:Ar.page,children:T.jsxs("div",{className:"card",style:Ar.card,children:[T.jsx("h1",{children:"Welkom bij MijnFegon "}),T.jsx("p",{className:"text-muted",style:{marginBottom:"1rem"},children:"Vul onderstaande bedrijfsgegevens aan om toegang te krijgen tot het portaal."}),T.jsxs("form",{onSubmit:v,style:Ar.form,children:[T.jsx("label",{children:"Volledige naam*"}),T.jsx("input",{type:"text",name:"installer_full_name",placeholder:"Bijv. Jan Jansen",value:e.installer_full_name,onChange:g,required:!0,style:Ar.input}),T.jsx("label",{children:"Bedrijfsnaam*"}),T.jsx("input",{type:"text",name:"installer_company",placeholder:"Bijv. Installatiebedrijf Jansen BV",value:e.installer_company,onChange:g,required:!0,style:Ar.input}),T.jsx("label",{children:"Telefoonnummer"}),T.jsx("input",{type:"text",name:"installer_phone",placeholder:"Bijv. 0612345678",value:e.installer_phone,onChange:g,style:Ar.input}),T.jsx("label",{children:"KvK-nummer (optioneel)"}),T.jsx("input",{type:"text",name:"installer_kvk",placeholder:"Bijv. 12345678",value:e.installer_kvk,onChange:g,style:Ar.input}),T.jsx("label",{children:"Adres (optioneel)"}),T.jsx("input",{type:"text",name:"installer_address",placeholder:"Bijv. Dorpsstraat 12, 1234 AB Amsterdam",value:e.installer_address,onChange:g,style:Ar.input}),T.jsx("button",{type:"submit",className:"btn btn-primary",style:Ar.button,disabled:s,children:s?"Opslaan...":"Opslaan en doorgaan"})]}),u&&T.jsx("p",{style:{color:"green",marginTop:"1rem",textAlign:"center"},children:" Gegevens opgeslagen! Je kunt nu verder naar het dashboard."}),m&&T.jsx("p",{style:{color:"red",marginTop:"1rem",textAlign:"center"},children:m})]})})}const Ar={page:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(180deg, #f7f9fc 0%, #eef3fb 100%)",fontFamily:"Inter, system-ui, sans-serif"},card:{maxWidth:500,width:"100%",background:"#fff",borderRadius:12,padding:"2rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},form:{display:"flex",flexDirection:"column",gap:"0.8rem"},input:{padding:"0.8rem",borderRadius:8,border:"1px solid #ccc",fontSize:"1rem"},button:{marginTop:"1rem",background:"#004aad",color:"#fff",border:"none",borderRadius:8,padding:"0.8rem 1.2rem",cursor:"pointer",fontWeight:"bold"}};function TV({user:i}){const[e,n]=L.useState({brand:"",model:"",serial:"",customer_name:"",customer_address:"",customer_postal:"",customer_city:"",customer_email:""}),[s,o]=L.useState(""),[u,h]=L.useState(""),m={Aquastar:["S-500","800 SHE Plus","1000 Duo","1400 SHE Plus","2000 SHE Plus","3010 HE","6010 HE"],Digisofter:["DS-500","DS-900 HE","DS-1200 HE Plus","DS-2000 HE Plus","DS-2820 HE","DS-5220 HE"],Lavigo:["GS-1100 HE Plus","GS-1900 HE Plus"],Kalkfri:["Kalkfri 750","Kalkfri 1100","Kalkfri 1600"],Descale:["Descale 10","Descale 15"],Softy:["Wave"],Talent:["Talent 100BS","Talent 100B","Talent 100M","Talent 200B","Talent 200BL"],Anders:["Anders (handmatig)"]};function p(v){const{name:b,value:A}=v.target;n(R=>({...R,[b]:A}))}async function g(v){v.preventDefault(),o(""),h("");try{await lS(nt(ye,"registrations"),{installer_uid:i.uid,installer_email:i.email,...e,status:"pending",points:50,createdAt:xr()}),o(" Registratie opgeslagen. Wacht op beoordeling door admin."),n({brand:"",model:"",serial:"",customer_name:"",customer_address:"",customer_postal:"",customer_city:"",customer_email:""})}catch(b){h(" Opslaan mislukt: "+b.message)}}return T.jsxs("div",{style:dp.wrap,children:[T.jsx("h1",{children:" Nieuw apparaat registreren"}),T.jsxs("form",{onSubmit:g,style:dp.form,children:[T.jsx("label",{children:"Merk"}),T.jsxs("select",{name:"brand",value:e.brand,onChange:v=>{n(b=>({...b,brand:v.target.value,model:""}))},required:!0,children:[T.jsx("option",{value:"",children:"Kies merk"}),Object.keys(m).map(v=>T.jsx("option",{value:v,children:v},v))]}),e.brand&&T.jsxs(T.Fragment,{children:[T.jsx("label",{children:"Type"}),T.jsxs("select",{name:"model",value:e.model,onChange:p,required:!0,children:[T.jsx("option",{value:"",children:"Kies type"}),m[e.brand].map(v=>T.jsx("option",{value:v,children:v},v))]})]}),T.jsx("label",{children:"Serienummer"}),T.jsx("input",{name:"serial",value:e.serial,onChange:p,required:!0,placeholder:"Bijv. AS123456"}),T.jsx("h3",{children:"Eindklant"}),T.jsx("input",{name:"customer_name",value:e.customer_name,onChange:p,placeholder:"Naam",required:!0}),T.jsx("input",{name:"customer_address",value:e.customer_address,onChange:p,placeholder:"Adres",required:!0}),T.jsx("input",{name:"customer_postal",value:e.customer_postal,onChange:p,placeholder:"Postcode",required:!0}),T.jsx("input",{name:"customer_city",value:e.customer_city,onChange:p,placeholder:"Plaats",required:!0}),T.jsx("input",{name:"customer_email",type:"email",value:e.customer_email,onChange:p,placeholder:"E-mail (optioneel)"}),T.jsx("button",{style:dp.btn,children:" Registreren"})]}),s&&T.jsx("p",{style:{color:"#0a7",marginTop:12},children:s}),u&&T.jsx("p",{style:{color:"#d33",marginTop:12},children:u})]})}const dp={wrap:{maxWidth:640,margin:"2rem auto",background:"#fff",padding:"1.5rem",borderRadius:12,boxShadow:"0 2px 10px rgba(0,0,0,.07)",fontFamily:"system-ui, sans-serif"},form:{display:"grid",gap:"0.6rem"},btn:{marginTop:"0.6rem",background:"#004aad",color:"#fff",border:"none",borderRadius:8,padding:"0.8rem 1.2rem",cursor:"pointer",fontWeight:600}};function bV(){const[i,e]=L.useState(""),[n,s]=L.useState(""),[o,u]=L.useState(""),[h,m]=L.useState(!1),p=new Hi;async function g(R){const x=at(ye,"users",R.uid),B=await Pa(x);B.exists()?await Fo(x,{uid:R.uid,email:R.email,name:R.displayName||B.data().name||"",updatedAt:xr()},{merge:!0}):await Fo(x,{uid:R.uid,email:R.email,name:R.displayName||"",role:"user",company:"",points_total:0,points_pending:0,profile_completed:!1,createdAt:xr(),updatedAt:xr()})}async function v(){m(!0),u("");try{const R=await Bx(Sa,p);await g(R.user)}catch(R){console.error(R),u(" "+R.message)}finally{m(!1)}}async function b(){m(!0),u("");try{const R=await _x(Sa,i,n);await g(R.user)}catch(R){let x=" Inloggen mislukt.";R.code==="auth/user-not-found"&&(x=" Geen gebruiker gevonden."),R.code==="auth/wrong-password"&&(x=" Incorrect wachtwoord."),R.code==="auth/invalid-email"&&(x=" Ongeldig e-mailadres."),u(x)}finally{m(!1)}}async function A(){if(!i){u(" Vul eerst je e-mail in.");return}try{await gx(Sa,i),u(" Reset e-mail verzonden!")}catch(R){u(" "+R.message)}}return T.jsx("div",{style:di.wrapper,children:T.jsxs("div",{style:di.card,children:[T.jsx("h1",{style:di.title,children:"Inloggen"}),o&&T.jsx("div",{style:di.alert,children:o}),T.jsx("input",{style:di.input,placeholder:"E-mail",type:"email",value:i,onChange:R=>e(R.target.value)}),T.jsx("input",{style:di.input,placeholder:"Wachtwoord",type:"password",value:n,onChange:R=>s(R.target.value)}),T.jsx("button",{style:di.btnPrimary,onClick:b,disabled:h,children:h?"Bezig...":"Inloggen"}),T.jsx("button",{style:di.btnLink,onClick:A,children:"Wachtwoord vergeten?"}),T.jsx("hr",{style:di.hr}),T.jsx("button",{style:di.btnGoogle,onClick:v,disabled:h,children:" Log in met Google"}),T.jsxs("p",{style:{marginTop:"1rem",textAlign:"center"},children:["Nog geen account?"," ",T.jsx("a",{href:"/register",style:di.link,children:"Registreren"})]})]})})}const di={wrapper:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(180deg,#eef2ff,#dbe4ff)",padding:20},card:{width:"100%",maxWidth:380,background:"white",padding:"2rem",borderRadius:14,boxShadow:"0 4px 14px rgba(0,0,0,0.12)"},title:{textAlign:"center",marginBottom:"1.4rem"},input:{width:"100%",padding:"0.8rem",borderRadius:8,border:"1px solid #ccc",marginBottom:"1rem"},btnPrimary:{width:"100%",padding:"0.8rem",background:"#004aad",color:"white",border:"none",borderRadius:8,fontWeight:"bold",cursor:"pointer"},btnGoogle:{width:"100%",padding:"0.8rem",background:"#ffffff",border:"1px solid #ccc",borderRadius:8,cursor:"pointer"},btnLink:{marginTop:"0.6rem",background:"transparent",border:"none",color:"#004aad",cursor:"pointer",textDecoration:"underline"},hr:{margin:"1.4rem 0"},alert:{background:"#ffe6e6",padding:"0.8rem",borderRadius:8,border:"1px solid #ffbcbc",marginBottom:"1rem",color:"#aa0000"},link:{color:"#004aad",fontWeight:"bold"}};function AV(){const[i,e]=L.useState({name:"",company:"",email:"",password:"",password2:""}),[n,s]=L.useState(""),[o,u]=L.useState(!1);function h(g){e({...i,[g.target.name]:g.target.value})}function m(){return i.name?i.company?i.email?!i.password||!i.password2?"Vul een wachtwoord in.":i.password!==i.password2?"Wachtwoorden komen niet overeen.":i.password.length<6?"Wachtwoord moet minimaal 6 tekens zijn.":null:"Vul een e-mailadres in.":"Vul een bedrijfsnaam in.":"Vul een naam in."}async function p(g){g.preventDefault(),s("");const v=m();if(v)return s(" "+v);try{u(!0);const b=await yx(Sa,i.email,i.password);await Fo(at(ye,"users",b.user.uid),{uid:b.user.uid,email:i.email,name:i.name,company:i.company,role:"user",points_total:0,points_pending:0,profile_completed:!1,createdAt:xr(),updatedAt:xr()}),s(" Account aangemaakt! Je wordt doorgestuurd..."),setTimeout(()=>{window.location.href="/"},1200)}catch(b){console.error(b),s(" Er ging iets mis: "+b.message)}finally{u(!1)}}return T.jsx("div",{style:Bi.wrapper,children:T.jsxs("form",{onSubmit:p,style:Bi.card,children:[T.jsx("h1",{style:Bi.title,children:"Account Registreren"}),n&&T.jsx("p",{style:Bi.alert,children:n}),T.jsx("input",{style:Bi.input,placeholder:"Volledige naam",name:"name",value:i.name,onChange:h}),T.jsx("input",{style:Bi.input,placeholder:"Bedrijfsnaam",name:"company",value:i.company,onChange:h}),T.jsx("input",{style:Bi.input,placeholder:"E-mail",type:"email",name:"email",value:i.email,onChange:h}),T.jsx("input",{style:Bi.input,placeholder:"Wachtwoord",type:"password",name:"password",value:i.password,onChange:h}),T.jsx("input",{style:Bi.input,placeholder:"Herhaal wachtwoord",type:"password",name:"password2",value:i.password2,onChange:h}),T.jsx("button",{disabled:o,style:Bi.btnPrimary,children:o?"Bezig...":"Account aanmaken"}),T.jsxs("p",{style:{marginTop:"1rem"},children:["Al een account? ",T.jsx("a",{href:"/login",children:"Inloggen"})]})]})})}const Bi={wrapper:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(180deg,#eef2ff,#dbe4ff)",padding:"1rem"},card:{width:"100%",maxWidth:400,background:"white",padding:"2rem",borderRadius:14,boxShadow:"0 4px 14px rgba(0,0,0,0.15)"},title:{marginBottom:"1.4rem",textAlign:"center",fontSize:"1.6rem"},input:{width:"100%",padding:"0.8rem",marginBottom:"1rem",borderRadius:8,border:"1px solid #ccc"},btnPrimary:{width:"100%",padding:"0.9rem",borderRadius:8,background:"#004aad",color:"white",border:"none",fontSize:"1rem",cursor:"pointer"},alert:{background:"#ffeded",padding:"0.8rem",borderRadius:8,border:"1px solid #ffb0b0",color:"#b00000",marginBottom:"1rem"}};function Ur(){return T.jsxs("div",{className:"admin-menu",children:[T.jsx("h2",{style:{marginBottom:"1rem"},children:" Admin"}),T.jsxs("nav",{className:"admin-nav",children:[T.jsx(Kt,{to:"/admin",children:" Dashboard"}),T.jsx(Kt,{to:"/admin/users",children:" Gebruikers"}),T.jsx(Kt,{to:"/admin/registraties",children:" Registraties"}),T.jsx(Kt,{to:"/admin/producten",children:" Producten"}),T.jsx(Kt,{to:"/admin/punten",children:" Punten"}),T.jsx(Kt,{to:"/admin/koppelingen",children:" Koppelingen"}),T.jsx(Kt,{to:"/admin/importexport",children:" Import / Export"}),T.jsx(Kt,{to:"/admin/logboek",children:" Logboek"}),T.jsx(Kt,{to:"/admin/instellingen",children:" Instellingen"})]})]})}async function SV(){const i=nt(ye,"users"),e=await Rn(i);for(const n of e.docs){const s=n.data(),o=[];s.email&&o.push(s.email.toLowerCase()),s.installer_full_name&&o.push(s.installer_full_name.toLowerCase()),console.log("Indexing:",s.email),await Zn(at(ye,"users",n.id),{keywords:o})}alert(" Alle gebruikers opnieuw gendexeerd!")}function wV({user:i}){const[e,n]=L.useState({totalUsers:0,totalRegistrations:0,newUsersThisMonth:0,totalLogins:0}),[s,o]=L.useState(null);L.useEffect(()=>{h(),u()},[]);async function u(){const m=at(ye,"users",i.uid),p=await Pa(m);p.exists()&&o(p.data())}async function h(){const m=new Date,p=new Date(m.getFullYear(),m.getMonth(),1),g=nt(ye,"users"),v=await No(g),b=Ji(nt(ye,"users"),Ir("createdAt",">=",p)),A=await No(b),R=nt(ye,"registrations"),x=await No(R),B=nt(ye,"logs_login"),M=await No(B);n({totalUsers:v.data().count,newUsersThisMonth:A.data().count,totalRegistrations:x.data().count,totalLogins:M.data().count})}return T.jsxs("div",{className:"admin-layout",children:[T.jsx(Ur,{}),T.jsxs("div",{className:"admin-content",children:[T.jsx("h1",{className:"admin-title",children:" Admin Dashboard"}),T.jsx("button",{onClick:SV,style:{padding:"0.7rem 1.2rem",background:"#0055ff",color:"white",cursor:"pointer",borderRadius:6,border:"none",marginBottom:"1.5rem",fontWeight:"bold"},children:" Gebruikers opnieuw indexeren"}),T.jsxs("div",{className:"stats-grid",children:[T.jsxs("div",{className:"stat-card",children:[T.jsx("h3",{children:" Gebruikers totaal"}),T.jsx("p",{children:e.totalUsers})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("h3",{children:" Nieuwe aanmeldingen (deze maand)"}),T.jsx("p",{children:e.newUsersThisMonth})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("h3",{children:" Registraties totaal"}),T.jsx("p",{children:e.totalRegistrations})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("h3",{children:" Totaal aantal logins"}),T.jsx("p",{children:e.totalLogins})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("h3",{children:" Ingelogde admin"}),s?T.jsxs("div",{children:[T.jsxs("p",{children:[T.jsx("strong",{children:"Naam:"})," ",s.name||"Onbekend"]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Email:"})," ",s.email]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Rol:"})," ",s.role]})]}):T.jsx("p",{children:"Data laden..."})]})]})]})]})}function RV(){const[i,e]=L.useState([]),[n,s]=L.useState({}),[o,u]=L.useState(""),[h,m]=L.useState(1),p=25;L.useEffect(()=>{async function x(){const M=(await Rn(nt(ye,"users"))).docs.map(Y=>({id:Y.id,...Y.data()}));e(M)}x()},[]),L.useEffect(()=>{async function x(){const B={};for(let M of i){const Y=Ji(nt(ye,"registrations"),Ir("installer_uid","==",M.id)),X=await Rn(Y);B[M.id]=X.size}s(B)}i.length>0&&x()},[i]);const g=i.filter(x=>(x.email||"").toLowerCase().includes(o.toLowerCase())),v=Math.ceil(g.length/p),b=(h-1)*p,A=g.slice(b,b+p);async function R(x,B){await Zn(at(ye,"users",x),{role:B}),e(M=>M.map(Y=>Y.id===x?{...Y,role:B}:Y))}return T.jsxs("div",{className:"admin-layout",children:[T.jsx(Ur,{}),T.jsxs("div",{className:"admin-content",children:[T.jsx("h1",{children:" Gebruikersbeheer"}),T.jsx("input",{className:"admin-search",placeholder:"Zoek op e-mail",value:o,onChange:x=>{u(x.target.value),m(1)}}),T.jsxs("table",{className:"admin-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Email"}),T.jsx("th",{children:"Bedrijf"}),T.jsx("th",{children:"Rol"}),T.jsx("th",{children:"Registraties"}),T.jsx("th",{children:"Acties"})]})}),T.jsxs("tbody",{children:[A.map(x=>T.jsxs("tr",{children:[T.jsx("td",{children:x.email}),T.jsx("td",{children:x.company||"-"}),T.jsx("td",{children:T.jsxs("select",{className:"admin-select",value:x.role,onChange:B=>R(x.id,B.target.value),children:[T.jsx("option",{value:"user",children:"user"}),T.jsx("option",{value:"admin",children:"admin"})]})}),T.jsx("td",{children:n[x.id]??""}),T.jsx("td",{children:T.jsx(Kt,{className:"admin-btn",to:`/admin/registraties?user=${x.id}`,children:"Bekijk registraties"})})]},x.id)),A.length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:"5",className:"admin-empty",children:"Geen gebruikers gevonden."})})]})]}),T.jsxs("div",{className:"admin-pagination",children:[T.jsx("button",{disabled:h<=1,onClick:()=>m(x=>x-1),className:"admin-page-btn",children:" Vorige"}),T.jsxs("span",{children:["Pagina ",h," van ",v]}),T.jsx("button",{disabled:h>=v,onClick:()=>m(x=>x+1),className:"admin-page-btn",children:"Volgende "})]})]})]})}function S0(i,e){return i.replace(/\{\{(.*?)\}\}/g,(n,s)=>e[s.trim()]||"")}async function CV(i){const e=at(ye,"mailTemplates",i),n=await Pa(e);return n.exists()?n.data():(console.error(` Template ${i} niet gevonden`),null)}async function mp(i,e,n={}){const s=await CV(i);if(!s)return!1;const o=S0(s.subject,n),u=S0(s.body,n),h={to:e,subject:o,html:u};try{const m=await fetch("https://europe-west1-mijnfegon.cloudfunctions.net/sendMail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!m.ok)throw new Error(await m.text());return console.log(" Mail verzonden:",i),!0}catch(m){return console.error(" Fout bij versturen mail:",m),!1}}function IV(){const[i,e]=L.useState([]),[n,s]=L.useState(!0),[o,u]=L.useState("pending"),[h,m]=L.useState("");L.useEffect(()=>{const A=nt(ye,"registrations"),R=Nu(A,x=>{const B=x.docs.map(M=>({id:M.id,...M.data()}));e(B),s(!1)});return()=>R()},[]);function p(){return i.filter(A=>o?A.status===o:!0).filter(A=>(A.customer_email||"").toLowerCase().includes(h.toLowerCase()))}async function g(A){try{if(await Zn(at(ye,"registrations",A.id),{status:"approved",reviewedAt:new Date}),A.installer_uid&&A.points>0){const R=at(ye,"users",A.installer_uid),x=await Pa(R);if(x.exists()){const B=x.data().points_total??0;await Zn(R,{points_total:B+A.points})}}await mp("customer_approved",A.customer_email,{customer_name:A.customer_name,product_name:A.product_name}),A.installer_email&&await mp("installer_approved",A.installer_email,{installer_name:A.installer_name||"",product_name:A.product_name,customer_name:A.customer_name}),alert("Registratie goedgekeurd!")}catch(R){console.error(R),alert("Fout bij goedkeuren.")}}async function v(A){const R=prompt("Reden van afkeuren:");if(!R){alert("Je moet een reden invullen.");return}try{await Zn(at(ye,"registrations",A.id),{status:"rejected",rejected_reason:R,reviewedAt:new Date}),await mp("installer_rejected",A.installer_email,{installer_name:A.installer_name||"",product_name:A.product_name,reason:R}),alert("Registratie afgekeurd.")}catch(x){console.error(x),alert("Fout bij afkeuren.")}}async function b(A){window.confirm("Weet je zeker dat je deze registratie wilt verwijderen?")&&await oS(at(ye,"registrations",A.id))}return T.jsxs("div",{className:"admin-layout",children:[T.jsx(Ur,{}),T.jsxs("div",{className:"admin-content",children:[T.jsx("h1",{children:" Registratiebeheer"}),T.jsxs("div",{className:"admin-filters",style:{marginBottom:"1rem"},children:[T.jsxs("select",{value:o,onChange:A=>u(A.target.value),children:[T.jsx("option",{value:"pending",children:" Wachtend"}),T.jsx("option",{value:"approved",children:" Goedgekeurd"}),T.jsx("option",{value:"rejected",children:" Afgekeurd"}),T.jsx("option",{value:"",children:"Alle"})]}),T.jsx("input",{className:"admin-search",placeholder:"Zoek op klant-email...",value:h,onChange:A=>m(A.target.value)})]}),n?T.jsx("p",{children:"Registraties laden..."}):T.jsxs("table",{className:"admin-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Klant"}),T.jsx("th",{children:"Installateur"}),T.jsx("th",{children:"Product"}),T.jsx("th",{children:"Datum"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Punten"}),T.jsx("th",{children:"Acties"})]})}),T.jsxs("tbody",{children:[p().map(A=>T.jsxs("tr",{children:[T.jsxs("td",{children:[A.customer_name,T.jsx("br",{}),T.jsx("small",{children:A.customer_email})]}),T.jsxs("td",{children:[A.installer_name||"-",T.jsx("br",{}),T.jsx("small",{children:A.installer_email||""})]}),T.jsx("td",{children:A.product_name}),T.jsx("td",{children:A.createdAt?.toDate?A.createdAt.toDate().toLocaleDateString():"-"}),T.jsxs("td",{children:[A.status==="pending"&&T.jsx("span",{children:""}),A.status==="approved"&&T.jsx("span",{style:{color:"green"},children:""}),A.status==="rejected"&&T.jsx("span",{style:{color:"red"},children:""})]}),T.jsx("td",{children:A.points??0}),T.jsxs("td",{children:[A.status==="pending"&&T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"admin-btn",onClick:()=>g(A),children:" Goedkeuren"}),T.jsx("button",{className:"admin-btn",style:{background:"#c62828"},onClick:()=>v(A),children:" Afkeuren"})]}),T.jsx("button",{className:"admin-btn",style:{background:"#444"},onClick:()=>b(A),children:" Verwijderen"})]})]},A.id)),p().length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:"7",className:"admin-empty",children:"Geen registraties gevonden."})})]})]})]})]})}function xV(){const[i,e]=L.useState([]),[n,s]=L.useState(""),[o,u]=L.useState({name:"",description:"",points:""}),[h,m]=L.useState(null),[p,g]=L.useState("");L.useEffect(()=>{const x=Nu(nt(ye,"products"),B=>{const M=B.docs.map(Y=>({id:Y.id,...Y.data()}));e(M)});return()=>x()},[]);function v(x){m(x.target.files[0])}async function b(x){if(x.preventDefault(),g(""),!o.name||!o.points){g(" Vul alle verplichte velden in.");return}if(!h){g(" Je moet een productafbeelding toevoegen.");return}try{const B=`productImages/${Date.now()}_${h.name}`,M=b0(A0,B);await lV(M,h);const Y=await uV(M);await lS(nt(ye,"products"),{name:o.name,description:o.description||"",points:Number(o.points),imageUrl:Y,imagePath:B,createdAt:xr()}),g(" Product toegevoegd!"),u({name:"",description:"",points:""}),m(null)}catch(B){console.error(B),g(" Fout bij opslaan van product.")}}async function A(x){try{await oS(at(ye,"products",x.id)),x.imagePath&&await cV(b0(A0,x.imagePath))}catch(B){console.error(B),alert(" Kon product niet verwijderen.")}}const R=i.filter(x=>x.name.toLowerCase().includes(n.toLowerCase()));return T.jsxs("div",{className:"admin-layout",children:[T.jsx(Ur,{}),T.jsxs("div",{className:"admin-content",children:[T.jsx("h1",{children:" Productbeheer"}),T.jsx("input",{className:"admin-search",placeholder:"Zoek productnaam...",value:n,onChange:x=>s(x.target.value)}),T.jsxs("form",{className:"admin-form",onSubmit:b,children:[T.jsx("h2",{children:" Nieuw product"}),T.jsx("input",{type:"text",placeholder:"Productnaam",value:o.name,required:!0,onChange:x=>u({...o,name:x.target.value})}),T.jsx("textarea",{placeholder:"Omschrijving (optioneel)",value:o.description,onChange:x=>u({...o,description:x.target.value})}),T.jsx("input",{type:"number",placeholder:"Aantal punten",value:o.points,required:!0,onChange:x=>u({...o,points:x.target.value})}),T.jsx("input",{type:"file",accept:"image/*",onChange:v}),T.jsx("button",{type:"submit",className:"admin-btn",children:" Opslaan"}),p&&T.jsx("p",{style:{marginTop:10},children:p})]}),T.jsx("h2",{style:{marginTop:"2rem"},children:" Alle producten"}),T.jsxs("div",{className:"admin-grid",children:[R.map(x=>T.jsxs("div",{className:"admin-card",children:[T.jsx("img",{src:x.imageUrl,className:"admin-card-img",alt:x.name}),T.jsx("h3",{children:x.name}),T.jsxs("p",{style:{color:"#004aad",fontWeight:"bold"},children:[x.points," punten"]}),T.jsx("button",{className:"admin-btn-danger",onClick:()=>A(x),children:" Verwijderen"})]},x.id)),R.length===0&&T.jsx("p",{className:"admin-empty",children:"Geen producten gevonden."})]})]})]})}function DV(){const[i,e]=L.useState([]),[n,s]=L.useState(""),[o,u]=L.useState(1),[h,m]=L.useState({}),[p,g]=L.useState({}),v=25;L.useEffect(()=>{async function M(){const X=(await Rn(nt(ye,"users"))).docs.map(ie=>({id:ie.id,...ie.data()}));e(X)}M()},[]),L.useEffect(()=>{async function M(){const Y={};for(let X of i){const ie=Ji(nt(ye,"registrations"),Ir("installer_uid","==",X.id),Ir("status","==","pending")),fe=await Rn(ie);Y[X.id]=fe.docs.map(Ee=>({id:Ee.id,...Ee.data()}))}g(Y)}i.length>0&&M()},[i]);const b=i.filter(M=>(M.email||"").toLowerCase().includes(n.toLowerCase())),A=Math.ceil(b.length/v),R=(o-1)*v,x=b.slice(R,R+v);async function B(M,Y){const X=at(ye,"users",M),fe=(await Rn(Ji(nt(ye,"users"),Ir("__name__","==",M)))).docs[0].data().points_total||0;await Zn(X,{points_total:fe+Y}),e(Ee=>Ee.map(Te=>Te.id===M?{...Te,points_total:fe+Y}:Te)),m({...h,[M]:""})}return T.jsxs("div",{className:"admin-layout",children:[T.jsx(Ur,{}),T.jsxs("div",{className:"admin-content",children:[T.jsx("h1",{children:" Puntenbeheer"}),T.jsx("input",{className:"admin-search",placeholder:"Zoek op e-mail...",value:n,onChange:M=>{s(M.target.value),u(1)}}),T.jsxs("table",{className:"admin-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Email"}),T.jsx("th",{children:"Huidige punten"}),T.jsx("th",{children:"Pas punten aan"}),T.jsx("th",{children:"Openstaande registraties"}),T.jsx("th",{children:"Acties"})]})}),T.jsxs("tbody",{children:[x.map(M=>T.jsxs("tr",{children:[T.jsx("td",{children:M.email}),T.jsx("td",{children:M.points_total||0}),T.jsxs("td",{children:[T.jsx("input",{type:"number",style:{width:"80px",padding:"6px",borderRadius:"6px",border:"1px solid #ccc"},value:h[M.id]||"",onChange:Y=>m({...h,[M.id]:Y.target.value})}),T.jsx("button",{className:"admin-btn",style:{marginLeft:"6px"},onClick:()=>B(M.id,Number(h[M.id]||0)),children:" Opslaan"})]}),T.jsx("td",{children:(p[M.id]?.length||0)>0?T.jsxs("span",{style:{color:"#d33",fontWeight:"bold"},children:[p[M.id].length," open"]}):T.jsx("span",{style:{color:"green"},children:"Geen"})}),T.jsx("td",{children:T.jsx(Kt,{className:"admin-btn",to:`/admin/registraties?user=${M.id}`,children:"Bekijk registraties"})})]},M.id)),x.length===0&&T.jsx("tr",{children:T.jsx("td",{className:"admin-empty",colSpan:"5",children:"Geen gebruikers gevonden."})})]})]}),T.jsxs("div",{className:"admin-pagination",children:[T.jsx("button",{disabled:o<=1,onClick:()=>u(M=>M-1),className:"admin-page-btn",children:" Vorige"}),T.jsxs("span",{children:["Pagina ",o," van ",A]}),T.jsx("button",{disabled:o>=A,onClick:()=>u(M=>M+1),className:"admin-page-btn",children:"Volgende "})]})]})]})}function NV(){const[i,e]=L.useState([]),[n,s]=L.useState([]),[o,u]=L.useState(!0),[h,m]=L.useState("");L.useEffect(()=>{async function g(){u(!0);const b=(await Rn(nt(ye,"users"))).docs.map(M=>({id:M.id,...M.data()}));s(b);const A=Ji(nt(ye,"registrations"),Ir("installer_uid","==",null)),B=(await Rn(A)).docs.map(M=>({id:M.id,...M.data()})).map(M=>{const Y=b.find(X=>M.installer_email&&X.email?.toLowerCase()===M.installer_email.toLowerCase());return{...M,autoMatch:Y?Y.id:""}});e(B),u(!1)}g()},[]);async function p(g,v){try{const b=at(ye,"registrations",g);await Zn(b,{installer_uid:v,status:"pending"}),m(" Koppeling opgeslagen!"),e(A=>A.filter(R=>R.id!==g))}catch(b){console.error(b),m(" Fout bij opslaan koppeling.")}}return o?T.jsx("p",{style:{padding:20},children:" Laden..."}):T.jsxs("div",{className:"admin-layout",children:[T.jsx(Ur,{})," ",T.jsxs("div",{className:"admin-content",children:[T.jsx("h1",{children:" Registraties koppelen"}),h&&T.jsx("p",{children:h}),i.length===0&&T.jsx("p",{children:" Geen openstaande registraties om te koppelen."}),i.map(g=>T.jsxs("div",{className:"stat-card",style:{marginBottom:20},children:[T.jsxs("h3",{children:["Registratie: ",g.serial||"(geen serienummer)"]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Email installateur:"})," ",g.installer_email||"Onbekend"]}),T.jsx("label",{style:{fontWeight:"bold"},children:"Koppel aan installateur:"}),T.jsxs("select",{className:"admin-select",defaultValue:g.autoMatch||"",onChange:v=>p(g.id,v.target.value),children:[T.jsx("option",{value:"",children:"-- Kies installateur --"}),n.map(v=>T.jsxs("option",{value:v.id,children:[v.email," (",v.company||"Geen bedrijf",")"]},v.id))]}),g.autoMatch&&T.jsx("p",{style:{color:"green",marginTop:6},children:" Automatische match gevonden!"})]},g.id))]})]})}function OV(){const[i,e]=L.useState("");async function n(){const h=(await Rn(nt(ye,"users"))).docs.map(p=>({id:p.id,...p.data()})),m=[["id","email","name","company","role","points"],...h.map(p=>[p.id,p.email||"",p.name||"",p.company||"",p.role||"user",p.points||0])].map(p=>p.join(",")).join(`
`);o("users_export.csv",m)}async function s(u){const h=u.target.files[0];if(!h)return;const p=(await h.text()).split(`
`).slice(1);for(let g of p){if(!g.trim())continue;const[v,b,A,R,x,B]=g.split(",");await Fo(at(ye,"users",v),{email:b,name:A,company:R,role:x,points:Number(B||0)},{merge:!0})}e(" Gebruikers succesvol gemporteerd!")}function o(u,h){const m=document.createElement("a");m.href=URL.createObjectURL(new Blob([h],{type:"text/csv"})),m.download=u,m.click()}return T.jsxs("div",{children:[T.jsx("h2",{children:" Gebruikers import/export"}),T.jsx("button",{onClick:n,className:"admin-btn",children:" Exporteer gebruikers"}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("input",{type:"file",accept:".csv",onChange:s}),i&&T.jsx("p",{children:i})]})}function MV(){const[i,e]=L.useState("");async function n(){const h=(await Rn(nt(ye,"registrations"))).docs.map(p=>({id:p.id,...p.data()})),m=[["id","serial","installer_email","installer_uid","status"],...h.map(p=>[p.id,p.serial||"",p.installer_email||"",p.installer_uid||"",p.status||"pending"])].map(p=>p.join(",")).join(`
`);o("registrations_export.csv",m)}async function s(u){const h=u.target.files[0];if(!h)return;const p=(await h.text()).split(`
`).slice(1);for(let g of p){if(!g.trim())continue;const[v,b,A,R,x]=g.split(",");await Fo(at(ye,"registrations",v),{serial:b,installer_email:A,installer_uid:R||null,status:x||"pending"},{merge:!0})}e(" Registraties gemporteerd!")}function o(u,h){const m=document.createElement("a");m.href=URL.createObjectURL(new Blob([h],{type:"text/csv"})),m.download=u,m.click()}return T.jsxs("div",{children:[T.jsx("h2",{children:" Registraties import/export"}),T.jsx("button",{onClick:n,className:"admin-btn",children:" Exporteer registraties"}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("input",{type:"file",accept:".csv",onChange:s}),i&&T.jsx("p",{children:i})]})}function VV(){const[i,e]=L.useState("");async function n(){const h=(await Rn(nt(ye,"users"))).docs.map(p=>({id:p.id,...p.data()})),m=[["id","email","points"],...h.map(p=>[p.id,p.email,p.points||0])].map(p=>p.join(",")).join(`
`);o("points_export.csv",m)}async function s(u){const h=u.target.files[0];if(!h)return;const p=(await h.text()).split(`
`).slice(1);for(let g of p){if(!g.trim())continue;const[v,b,A]=g.split(",");await Zn(at(ye,"users",v),{points:Number(A)})}e(" Punten gepdatet!")}function o(u,h){const m=document.createElement("a");m.href=URL.createObjectURL(new Blob([h],{type:"text/csv"})),m.download=u,m.click()}return T.jsxs("div",{children:[T.jsx("h2",{children:" Punten import/export"}),T.jsx("button",{onClick:n,className:"admin-btn",children:" Exporteer punten"}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("input",{type:"file",accept:".csv",onChange:s}),i&&T.jsx("p",{children:i})]})}function kV(){const[i,e]=L.useState("users");return T.jsxs("div",{className:"admin-layout",children:[T.jsx(Ur,{}),T.jsxs("div",{className:"admin-content",children:[T.jsx("h1",{children:" Import & Export"}),T.jsx("p",{children:"Kies een categorie om te importeren of exporteren."}),T.jsxs("div",{style:ya.tabs,children:[T.jsx("button",{onClick:()=>e("users"),style:i==="users"?ya.active:ya.tab,children:" Gebruikers"}),T.jsx("button",{onClick:()=>e("registrations"),style:i==="registrations"?ya.active:ya.tab,children:" Registraties"}),T.jsx("button",{onClick:()=>e("points"),style:i==="points"?ya.active:ya.tab,children:" Punten"})]}),i==="users"&&T.jsx(OV,{}),i==="registrations"&&T.jsx(MV,{}),i==="points"&&T.jsx(VV,{})]})]})}const ya={tabs:{display:"flex",gap:"1rem",marginBottom:"2rem"},tab:{padding:"0.7rem 1.2rem",background:"#e6eaff",border:"1px solid #ccd5ff",borderRadius:8,cursor:"pointer"},active:{padding:"0.7rem 1.2rem",background:"#004aad",border:"1px solid #00357a",borderRadius:8,color:"white",cursor:"pointer"}};function PV(){const[i,e]=L.useState([]),[n,s]=L.useState(null),[o,u]=L.useState("all"),h=25;L.useEffect(()=>{m(!0)},[o]);async function m(g=!1){let v=Ji(nt(ye,"logs"),up("timestamp","desc"),cp(h));o!=="all"&&(v=Ji(nt(ye,"logs"),up("timestamp","desc"),cp(h)));const b=await Rn(v);e(g?b.docs.map(A=>({id:A.id,...A.data()})):A=>[...A,...b.docs.map(R=>({id:R.id,...R.data()}))]),s(b.docs[b.docs.length-1]||null)}async function p(){if(!n)return;const g=Ji(nt(ye,"logs"),up("timestamp","desc"),YO(n),cp(h)),v=await Rn(g);e(b=>[...b,...v.docs.map(A=>({id:A.id,...A.data()}))]),s(v.docs[v.docs.length-1]||null)}return T.jsxs("div",{className:"admin-layout",children:[T.jsx(Ur,{}),T.jsxs("div",{className:"admin-content",children:[T.jsx("h1",{className:"admin-title",children:" Logboek"}),T.jsx("div",{className:"admin-filters",children:T.jsxs("select",{className:"admin-select",value:o,onChange:g=>u(g.target.value),children:[T.jsx("option",{value:"all",children:"Alle gebeurtenissen"}),T.jsx("option",{value:"login",children:"Logins"}),T.jsx("option",{value:"admin_action",children:"Admin acties"}),T.jsx("option",{value:"registration_update",children:"Registratie wijzigingen"}),T.jsx("option",{value:"points_change",children:"Puntentransacties"})]})}),T.jsxs("table",{className:"admin-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Tijd"}),T.jsx("th",{children:"Type"}),T.jsx("th",{children:"Actie"}),T.jsx("th",{children:"Gebruiker"}),T.jsx("th",{children:"Details"})]})}),T.jsxs("tbody",{children:[i.map(g=>T.jsxs("tr",{children:[T.jsx("td",{children:g.timestamp?.toDate?g.timestamp.toDate().toLocaleString():"-"}),T.jsx("td",{children:g.type}),T.jsx("td",{children:g.action}),T.jsx("td",{children:g.email?T.jsxs(T.Fragment,{children:[T.jsx("strong",{children:g.email}),T.jsx("br",{}),T.jsx("small",{children:g.uid})]}):"System"}),T.jsx("td",{children:g.details&&Object.keys(g.details).length>0?T.jsx("pre",{style:{fontSize:"0.75rem"},children:JSON.stringify(g.details,null,2)}):"-"})]},g.id)),i.length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:"5",className:"admin-empty",children:"Geen logitems gevonden."})})]})]}),n&&T.jsx("div",{className:"pagination",children:T.jsx("button",{onClick:p,children:"Meer laden "})})]})]})}function LV(){const[i,e]=L.useState([]),[n,s]=L.useState(!0);async function o(){const h=await Rn(nt(ye,"mailTemplates"));e(h.docs.map(m=>({id:m.id,...m.data()}))),s(!1)}async function u(h,m,p){const g=at(ye,"mailTemplates",h);await Zn(g,{subject:m,body:p,updatedAt:new Date}),alert("Template opgeslagen!")}return L.useEffect(()=>{o()},[]),n?T.jsx("p",{children:"Templates laden..."}):T.jsxs("div",{className:"admin-layout",children:[T.jsx(Ur,{}),T.jsxs("div",{className:"admin-content",children:[T.jsx("h1",{children:" Mail Templates"}),i.map(h=>T.jsxs("div",{className:"template-card",children:[T.jsx("h2",{children:h.id}),T.jsx("label",{children:"Onderwerp"}),T.jsx("input",{defaultValue:h.subject,id:`subject_${h.id}`}),T.jsx("label",{children:"Body (HTML toegestaan)"}),T.jsx("textarea",{rows:"6",defaultValue:h.body,id:`body_${h.id}`}),T.jsx("button",{onClick:()=>{const m=document.getElementById(`subject_${h.id}`).value,p=document.getElementById(`body_${h.id}`).value;u(h.id,m,p)},children:"Opslaan"})]},h.id))]})]})}function UV(){const[i,e]=L.useState(null),[n,s]=L.useState(""),[o,u]=L.useState(!1),[h,m]=L.useState(!0);if(L.useEffect(()=>{const g=Tx(Sa,async v=>{if(v){e(v);const b=at(ye,"users",v.uid),A=await Pa(b);if(A.exists()){const R=A.data();s(R.role||"user"),u(R.profile_completed||!1)}}else e(null),s(""),u(!1);m(!1)});return()=>g()},[]),h)return T.jsx("p",{style:{padding:20},children:" Laden..."});if(!i)return T.jsxs(zE,{children:[T.jsx(Gt,{path:"/login",element:T.jsx(bV,{})}),T.jsx(Gt,{path:"/register",element:T.jsx(AV,{})}),T.jsx(Gt,{path:"*",element:T.jsx($m,{to:"/login",replace:!0})})]});if(!o)return T.jsx(EV,{user:i});const p=({children:g})=>n==="admin"?g:T.jsx($m,{to:"/",replace:!0});return T.jsxs(zE,{children:[T.jsx(Gt,{path:"/",element:T.jsx(yV,{user:i,role:n})}),T.jsx(Gt,{path:"/shop",element:T.jsx(_V,{user:i})}),T.jsx(Gt,{path:"/instellingen",element:T.jsx(vV,{user:i})}),T.jsx(Gt,{path:"/registratie",element:T.jsx(TV,{user:i})}),T.jsx(Gt,{path:"/admin",element:T.jsx(p,{children:T.jsx(wV,{user:i})})}),T.jsx(Gt,{path:"/admin/users",element:T.jsx(p,{children:T.jsx(RV,{user:i})})}),T.jsx(Gt,{path:"/admin/registraties",element:T.jsx(p,{children:T.jsx(IV,{user:i})})}),T.jsx(Gt,{path:"/admin/producten",element:T.jsx(p,{children:T.jsx(xV,{user:i})})}),T.jsx(Gt,{path:"/admin/punten",element:T.jsx(p,{children:T.jsx(DV,{user:i})})}),T.jsx(Gt,{path:"/admin/koppelingen",element:T.jsx(p,{children:T.jsx(NV,{user:i})})}),T.jsx(Gt,{path:"/admin/importexport",element:T.jsx(p,{children:T.jsx(kV,{user:i})})}),T.jsx(Gt,{path:"/admin/logboek",element:T.jsx(p,{children:T.jsx(PV,{user:i})})}),T.jsx(Gt,{path:"/admin/instellingen",element:T.jsx(p,{children:T.jsx(LV,{user:i})})}),T.jsx(Gt,{path:"*",element:T.jsx($m,{to:"/",replace:!0})})]})}d1.createRoot(document.getElementById("root")).render(T.jsx(s1.StrictMode,{children:T.jsx(wR,{children:T.jsx(UV,{})})}));
